!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@waves/data-entities"),require("@waves/bignumber"),require("@waves/signature-adapter"),require("ts-utils"),require("ramda"),require("@waves/waves-transactions"),require("@waves/oracle-data"),require("@waves/waves-browser-bus")):"function"==typeof define&&define.amd?define(["@waves/data-entities","@waves/bignumber","@waves/signature-adapter","ts-utils","ramda","@waves/waves-transactions","@waves/oracle-data","@waves/waves-browser-bus"],t):"object"==typeof exports?exports.ds=t(require("@waves/data-entities"),require("@waves/bignumber"),require("@waves/signature-adapter"),require("ts-utils"),require("ramda"),require("@waves/waves-transactions"),require("@waves/oracle-data"),require("@waves/waves-browser-bus")):e.ds=t(e["@waves/data-entities"],e["@waves/bignumber"],e["@waves/signature-adapter"],e["ts-utils"],e.ramda,e["@waves/waves-transactions"],e["@waves/oracle-data"],e["@waves/waves-browser-bus"])}(window,(function(__WEBPACK_EXTERNAL_MODULE__9__,__WEBPACK_EXTERNAL_MODULE__10__,__WEBPACK_EXTERNAL_MODULE__12__,__WEBPACK_EXTERNAL_MODULE__14__,__WEBPACK_EXTERNAL_MODULE__16__,__WEBPACK_EXTERNAL_MODULE__20__,__WEBPACK_EXTERNAL_MODULE__60__,__WEBPACK_EXTERNAL_MODULE__70__){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=n(1);function s(e){return function t(n,s){switch(arguments.length){case 0:return t;case 1:return Object(i.a)(n)?t:Object(r.a)((function(t){return e(n,t)}));default:return Object(i.a)(n)&&Object(i.a)(s)?t:Object(i.a)(n)?Object(r.a)((function(t){return e(t,s)})):Object(i.a)(s)?Object(r.a)((function(t){return e(n,t)})):e(n,s)}}}},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){return function t(n){return 0===arguments.length||Object(r.a)(n)?t:e.apply(this,arguments)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(4),u=n(14);function c(e){var t,n,r;if(e.url)e.fetchOptions=(n=e.url,void 0===(r=e.fetchOptions)&&(r=Object.create(null)),0===n.indexOf(o.get("node"))&&u.isEmpty(r.credentials)&&(r.credentials="include"),r),t=fetch(a.normalizeUrl(e.url),e.fetchOptions||Object.create(null)).then((function(e){var t=(e.headers.get("Content-Type")||"").toLowerCase().includes("application/json");return e.ok?e.text().then((function(e){return t?o.parse(e):e})):e.status>=500&&e.status<=599?e.text().then(l).then((function(t){return"object"==typeof t&&t.message?Promise.reject(t):Promise.reject(new Error("An unexpected error has occurred: #"+e.status))})):403===e.status?e.text().then(l).then((function(t){return Promise.reject({error:t,status:e.status})})):e.text().then(l).then((function(e){return Promise.reject(e)}))}));else{if(!e.method)throw new Error("Wrong request params!");t=e.method()}return t}function l(e){try{return JSON.parse(e)}catch(t){return e}}t.request=c,t.privateRequest=function(e){var t=this,n=function(){return i(t,void 0,void 0,(function(){var t,n;return s(this,(function(i){switch(i.label){case 0:return[4,a.ApiTokenService.getApiToken()];case 1:return t=i.sent().accessToken,n={Authorization:"Bearer "+t},(e=r({},e)).fetchOptions=r({},e.fetchOptions),e.fetchOptions.headers=r(r({},e.fetchOptions.headers),n),[2,c(e)]}}))}))};return n().catch((function(e){if(e&&e.status&&403===e.status)return a.ApiTokenService.getInstance().deleteTokenData(),n();throw e}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=n(9),u=n(10),c=n(15),l=n(6),f=n(192),h=n(8);function d(e){return"number"==typeof e?e-l.timeDiff:new Date(e.getTime()-l.timeDiff)}function p(e){return e||o.WAVES_ID}function g(e){return"number"==typeof e?e:e.getTime()}function y(e,t){switch(t){case"second":return new Date(1e3*e);case"minute":return y(60*e,"second");case"hour":return y(60*e,"minute");case"day":return y(24*e,"hour")}}function v(e,t,n){return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var o=t.concat(r);return o.length>=e?n.call.apply(n,i([null],o)):v(e,o,n)}}function m(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return v(e,[],t).apply(void 0,n)}}s(n(8)),s(n(85)),s(n(86)),s(n(26)),s(n(36)),s(n(87)),t.normalizeTime=d,t.normalizeRecipient=function(e){return e.replace("alias:"+l.get("code")+":","")},t.coinsMoneyFactory=function(e,t){return new a.Money(e,t)},t.tokensMoneyFactory=function(e,t){return a.Money.fromTokens(e,t)},t.priceMoneyFactory=function(e,t){return a.Money.fromTokens(a.OrderPrice.fromMatcherCoins(e,t).getTokens(),t.priceAsset)},t.normalizeAssetId=p,t.normalizeAssetPair=function(e){return{priceAsset:p(e.priceAsset),amountAsset:p(e.amountAsset)}},t.normalizeUrl=function(e){var t=new URL(e,document.location.origin),n=[t.host,t.pathname,t.search,t.hash].map((function(e){return e.replace(/\/\//,"/")}));return t.protocol+"//"+n.join("")},t.idToNode=function(e){return e===o.WAVES_ID?"":e},t.toHash=function(e,t){return e.reduce((function(e,n){return e[n[t]]=n,e}),Object.create(null))},t.proxyArrayArgs=function(e){return function(t){return e.apply(this,t)}},t.addParam=function(e,t){return function(n){return e(n,t)}},t.isPromise=function(e){return"function"==typeof e.then&&"function"==typeof e.catch},t.toArray=function(e){return Array.isArray(e)?e:[e]},t.dateTime=g,t.getTime=y,t.addTime=function(e,t,n){return new Date(g(e)+y(t,n).getTime())},t.curryN=m,t.curry=function(e){return m(e.length,e)},t.toBigNumber=function(e){return e instanceof u.BigNumber?e:new u.BigNumber(e)},t.toAsset=function(e){return"string"==typeof e?c.get(e):Promise.resolve(e)},t.defer=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{resolve:e,reject:t,promise:n}},t.stringifyJSON=function(e){return window.WavesApp.stringifyJSON(e)};var _,b,w,A,S=new Map;t.clearTransferFee=function(){S.clear()},t.setTransferFeeItem=function(e){S.set(e.fee.asset.id,e)},t.resetTransferFeeItem=function(e){S.delete(e)},t.getTransferFeeList=function(){return Array.from(S.values()).filter((function(e){return!e.balance||(e.balance.getTokens().gt(1.005)||e.isMy)})).map((function(e){return e.fee}))},t.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.isNativeFunction=(_=Object.prototype.toString,b=Function.prototype.toString,w=/^\[object .+?Constructor\]$/,A=RegExp("^"+String(_).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),function(e){var t=typeof e;return"function"===t?A.test(b.call(e)):e&&"object"===t&&w.test(_.call(e))||!1}),t.isNativeNotBound=function(e){return!(!e||"string"!=typeof e.name)&&(!!t.isNativeFunction(e)&&-1===e.name.indexOf("bound"))},t.normalizeTxTimestamp=function(e){return r(r({},e),{timestamp:d(e.timestamp||Date.now())})},t.equalsMoneyMap=function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&f.default(i(n,r)).every((function(n){return e[n]&&t[n]&&e[n].eq(t[n])}))},t.getNodeUrl=function(){return h.ConfigService.getConfig("NETWORK.node")},t.cashed=function(e,t){void 0===e&&(e=0);var n=Object.create(null);return function(){for(var r,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];try{r=JSON.stringify(i)}catch(e){r=""}n[r]=n[r]||Object.create(null),n[r].time=n[r].time||0;var o=Date.now();if(n[r].time&&n[r].time+e>o)return n[r].result;var a=t.apply(void 0,i);return n[r].time=o,n[r].result=a,a}},t.parseStringToObject=function(e){var t=/{(.*)}/.exec(e),n=Object.create(null);t&&t[1]&&t[1].split(", ").forEach((function(e){var t=e.split(": "),r=t[0],i=t[1];r&&i&&(n[r]=i)}));return n}},function(e,t,n){"use strict";e.exports=n(136)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(75),i=n(53),s=n(14),o=Object.create(null),a=null;function u(e,n){o[e]=n,"node"===e&&i.time().then((function(e){var n=Date.now()-e.getTime();Math.abs(n)>3e4?t.timeDiff=n:t.timeDiff=0})).catch((function(){return null})),"api"!==e&&"apiVersion"!==e||o.api&&o.apiVersion&&(a=new r.default({rootUrl:o.api+"/"+o.apiVersion,parse:t.parse})),t.change.dispatch(e)}t.timeDiff=0,t.parse=function(e){return window.WavesApp.parseJSON(e)},t.get=function(e){return o[e]},t.change=new s.Signal,t.set=u,t.setConfig=function(e){Object.keys(e).forEach((function(t){u(t,e[t])}))},t.getDataService=function(){return a}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var s=n(31),o=n(115),a=n(6),u=n(27),c=n(4),l=n(4),f=n(135),h=n(3),d=n(9),p=n(9),g=n(32),y=n(67),v=n(159),m=n(160),_=n(12),b=n(12),w=n(161),A=n(162),S=n(163);t.bech32=S;var O=n(40),T=n(71),P=n(164);t.BackendI18Next=P.BackendI18Next;var E=n(66);t.nsbt=E.nsbt;var C=n(165);t.LeasingService=C.LeasingService;var k=n(166);t.StakingService=k.StakingService;var j=n(72);t.InvestmentsService=j.InvestmentsService;var N=n(26);t.ApiTokenService=N.ApiTokenService;var B=n(12);t.getAdapterByType=B.getAdapterByType,t.getAvailableList=B.getAvailableList;var R=n(167);t.Seed=R.Seed;var x=n(47);t.assetStorage=x.assetStorage;var I=n(168);t.TransactionsService=I.TransactionsService;var D=n(11);t.analytics=D.analytics,i(n(190)),i(n(36)),t.wavesDataEntities=r({},d),t.api=r({},s),t.dataManager=new o.DataManager,t.config=r({},a),t.utils=r(r({},c),{downloadFile:f.downloadFile,investments:r({},O),transactions:T}),t.signature=r({},u),t.connect={HttpConnectProvider:w.HttpConnectProvider,PostMessageConnectProvider:A.PostMessageConnectProvider},t.protoApi=r({},y),t.uiId=r({},v),t.signAdapters=_,t.isValidAddress=b.isValidAddress,t.broadcast=m.broadcast,t.broadcaster=m.broadcaster,t.createOrder=m.createOrderSend,t.createMarketOrder=m.createMarketOrder,t.cancelOrder=m.cancelOrderSend,t.cancelAllOrders=m.cancelAllOrdersSend,t.cancelOrders=m.cancelOrdersById,t.fetch=function(e,t){return h.request({url:e,fetchOptions:t})},t.moneyFromTokens=function(e,n){return l.toAsset(n).then((function(n){return t.wavesDataEntities.Money.fromTokens(e,n)}))},t.privateFetch=function(e,t){return h.privateRequest({url:e,fetchOptions:t})},t.moneyFromCoins=function(e,t){return l.toAsset(t).then((function(t){return new p.Money(e,t)}))},t.orderPriceFromCoins=function(e,t,n){return t instanceof p.AssetPair?Promise.resolve(p.OrderPrice.fromMatcherCoins(e,t)):g.get(t,n).then((function(t){return p.OrderPrice.fromMatcherCoins(e,t)}))},t.orderPriceFromTokens=function(e,t,n){return t instanceof p.AssetPair?Promise.resolve(p.OrderPrice.fromTokens(e,t)):g.get(t,n).then((function(t){return p.OrderPrice.fromTokens(e,t)}))};var M=function(){function e(){}return Object.defineProperty(e.prototype,"address",{get:function(){return u.getUserAddress()},enumerable:!0,configurable:!0}),e.prototype.login=function(e){u.dropSignatureApi(),u.setUserData(e)},e.prototype.initDataManager=function(e,t){void 0===t&&(t=!1),this._initializeDataManager(e.address,t)},e.prototype.logOut=function(){u.dropSignatureApi(),u.dropUserData(),t.dataManager.dropAddress()},e.prototype.getTimeStamp=function(e,t){return c.addTime(l.normalizeTime((new Date).getTime()),e,t).valueOf()},e.prototype.getSignIdForMatcher=function(e){return u.getSignatureApi().makeSignable({type:b.SIGN_TYPE.MATCHER_ORDERS,data:{timestamp:e}}).getId()},e.prototype._initializeDataManager=function(e,n){t.dataManager.dropAddress(),t.dataManager.applyAddress(e,n)},e}();t.app=new M},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=n(14),u=n(10),c=n(20),l={"NETWORK.code":"code","NETWORK.node":"node","NETWORK.matcherProxy":"matcher","NETWORK.WESTNetworkByte":"WESTNetworkByte","NETWORK.oracles.waves":"oracleWaves","NETWORK.oracles.tokenomica":"oracleTokenomica","NETWORK.bankRecipient":"bankRecipient","NETWORK.api":"api","NETWORK.apiVersion":"apiVersion","NETWORK.gateways_api":"gateways.WavesApi","NETWORK.ac_exchange":"acash.ACashExchange","NETWORK.ac_register_order":"acash.ACashDeposits","NETWORK.tokenrating":"tokenrating",MIGRATION:"migration"},f=function(){function e(){var t=this;if(this.config=Object.create(null),this.feeConfig=Object.create(null),this.leasingConfig=[],this.change=new a.Signal,this.changeNetwork=new a.Signal,this.userIdHash=null,e._instance)return e._instance;e._instance=this,this.configReady=this.setNetwork().then((function(){return t.fetchConfig()})),this.lastSuccessRequestNotification=Promise.resolve([]),this.lastSuccessRequestUserNotification=Promise.resolve({}),this.change.on((function(e){return t._onChangeConfig(e)}))}return e.prototype.setNetwork=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i,a,u,c=this;return s(this,(function(s){switch(s.label){case 0:t=document.cookie.split("; ").find((function(e){return e.includes("session")}))||"",n=!!new URL(window.location.href).searchParams.get("useMocks")||t.includes("true"),r=n?"/waves-client-config":"https://configs.waves.exchange",s.label=1;case 1:return s.trys.push([1,3,,4]),[4,o.fetch(r+"/web/networks.json?r="+Date.now(),{headers:{"Cache-Control":"no-cache"},cache:"no-cache"})];case 2:return i=s.sent(),this.networks="string"==typeof i?JSON.parse(i):i,[3,4];case 3:return s.sent(),this.networks=[{name:"mainnet",configService:{url:"https://configs.waves.exchange",featuresConfigUrl:"web/client-config.json",notificationsUrl:"web/notifications.json",updatesUrl:"web/updates.json",leasing:"leasing/mainnet-config.json",feeConfigUrl:"fee.json"}}],[3,4];case 4:return a=this.network,this.network=this._getNetwork(e),u=this.networks.find((function(e){return e.name===c.network})),this.currentConfig=u,this.lastSuccessRequestFee=Promise.resolve(u.feeConfig||{}),this.lastSuccessRequestConfig=Promise.resolve(u.config||{}),this.network!==a&&this.changeNetwork.dispatch(this.network),[2]}}))}))},e.prototype.getNetworkConfig=function(){return this.currentConfig},e.getInstance=function(){return this._instance},e.prototype._getNetwork=function(e){var t=this.networks.map((function(e){return e&&e.name})).filter(Boolean);if(e&&t.includes(e))return e;var n=window.location.origin.includes("https://waves.exchange"),r=window.location.origin.includes("https://testnet.waves.exchange"),i=n||r?null:new URL(window.location.href).searchParams.get("network");if(i&&t.includes(i))return i;var s=window.defaultNetwork;return s&&t.includes(s)?s:t[0]},e.prototype._onChangeConfig=function(e){l[e]&&o.config.set(l[e],this.getConfig(e))},e.prototype.getConfig=function(e){var t=e?a.get(this.config,e):this.config;return a.clone(t)},e.prototype.getFeeConfig=function(){return a.clone(this.feeConfig)},e.prototype.getLeasingConfig=function(){return a.clone(this.leasingConfig)},e.prototype.getUserNotifications=function(){return a.clone(this.userNotifications)},e.prototype.fetchConfig=function(){var e=this;return Promise.all([this._getConfig().then((function(t){return e._setConfig(t)})),this._getFeeConfig().then((function(t){return e._setFeeConfig(t)})),this._getLeasingConfig().then((function(t){return e._setLeasingConfig(t)})),this._getUserNotifications().then((function(t){return e._setUserNotifications(t)}))]).then((function(){return e._getUserIdHash()}))},e.prototype.isMobile=function(){return window.innerWidth<=720},e.prototype.isDesktop=function(){return window.isDesktop},e.prototype.isWeb=function(){return!this.isDesktop()},e.prototype.isProduction=function(){return window.isProduction},e.prototype._getUserIdHash=function(){return i(this,void 0,Promise,(function(){var e,t,n;return s(this,(function(r){switch(r.label){case 0:return this._userIdPromise?[2,this._userIdPromise]:[4,this.lastRequestConfig];case 1:return r.sent(),e=this.getConfig("NETWORK.waves_exchange_api_internal"),t=window.navigator.userAgent,this._userIdPromise=o.fetch(e+"/api/v1/user/ip").then((function(e){return e.ip})).catch((function(){return"unknown"})),n=this,[4,this._userIdPromise];case 2:return n.ip=r.sent(),this.userIdHash=c.libs.crypto.blake2b(c.libs.crypto.stringToBytes(this.ip+"_"+t)),[2]}}))}))},e.prototype._getUserNotifications=function(){var e=this;if(this.lastRequestUserNotifications)return this.lastRequestUserNotifications;var t=this.currentConfig.configService,n=Date.now();return this.lastRequestUserNotifications=o.fetch(t.url+"/notifications/notifications.json?t="+n,{headers:{"Cache-Control":"no-cache"},cache:"no-cache"}).then((function(e){return"string"==typeof e?JSON.parse(e):e})).catch((function(){return e.lastSuccessRequestUserNotification})).then((function(t){return e.lastSuccessRequestUserNotification=e.lastRequestUserNotifications,e.lastRequestUserNotifications=null,t})),this.lastRequestUserNotifications},e.prototype.getAddressValidators=function(){return{maxAddressLength:window.WavesApp.maxAddressLength,maxAliasLength:window.maxAliasLength,minAliasLength:window.minAliasLength}},e.prototype.getTransactionsTypes=function(){return window.WavesApp.TRANSACTION_TYPES},e.prototype._getConfig=function(){var e=this;if(this.lastRequestConfig)return this.lastRequestConfig;var t=this.currentConfig.configService,n=Date.now();return this.lastRequestConfig=o.fetch(t.url+"/"+t.featuresConfigUrl+"?t="+n,{headers:{"Cache-Control":"no-cache"},cache:"no-cache"}).then((function(e){return"string"==typeof e?JSON.parse(e):e})).catch((function(){return e.lastSuccessRequestConfig})).then((function(t){return e._getNotifications().then((function(e){return r(r({},t),{NOTIFICATIONS:e})}))})).then((function(t){return e.lastSuccessRequestConfig=e.lastRequestConfig,e.lastRequestConfig=null,t})),this.lastRequestConfig},e.prototype._getNotifications=function(){var e=this,t=this.currentConfig.configService;return this.lastRequestNotifications=o.fetch(t.url+"/"+t.notificationsUrl,{headers:{"Cache-Control":"no-cache"},cache:"no-cache"}).then((function(e){return"string"==typeof e?JSON.parse(e):e})).catch((function(){return e.lastSuccessRequestNotification})).then((function(t){return e.lastSuccessRequestNotification=e.lastRequestNotifications,e.lastRequestNotifications=null,t})),this.lastRequestNotifications},e.prototype._getLeasingConfig=function(){var e=this;if(this.lastRequestLeasing)return this.lastRequestLeasing;var t=this.currentConfig.configService;return this.lastRequestLeasing=o.fetch(t.url+"/"+t.leasing,{headers:{"Cache-Control":"no-cache"},cache:"no-cache"}).then((function(e){return"string"==typeof e?JSON.parse(e):e})).catch((function(){return e.lastSuccessRequestLeasing})).then((function(t){return e.lastSuccessRequestLeasing=e.lastRequestLeasing,e.lastRequestLeasing=null,t})),this.lastRequestLeasing},e.prototype._getFeeConfig=function(){var t=this;if(this.lastRequestFee)return this.lastRequestFee;var n=this.currentConfig.configService;return this.lastRequestFee=o.fetch(n.url+"/"+n.feeConfigUrl,{headers:{"Cache-Control":"no-cache"},cache:"no-cache"}).then((function(e){return"string"==typeof e?JSON.parse(e):e})).then(e.parseFeeConfig).catch((function(){return t.lastSuccessRequestFee})).then((function(e){return t.lastSuccessRequestFee=t.lastRequestFee,t.lastRequestFee=null,e})),this.lastRequestFee},e.prototype._setUserNotifications=function(e){this.userNotifications=e},e.prototype._setFeeConfig=function(e){this.feeConfig=e},e.prototype._setLeasingConfig=function(e){this.leasingConfig=e},e.prototype._setConfig=function(t){var n=this,r=this.config;this.config=t,e.getDifferencePaths(r,t).forEach((function(e){return n.change.dispatch(String(e))}))},e.getConfig=function(t){return e.getInstance().getConfig(t)},e.getDifferencePaths=function(e,t){return a.getPaths(t).filter((function(n){return a.get(e,n)!==a.get(t,n)})).map(String)},e.parseFeeConfig=function(t){switch(typeof t){case"number":case"string":return new u.BigNumber(t);case"object":return Object.entries(t).forEach((function(n){var r=n[0],i=n[1];t[r]=e.parseFeeConfig(i)})),t;default:return t}},e}();t.ConfigService=f},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__9__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__10__},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(170),i=n(172),s=n(173),o=n(174),a=n(175),u=n(176),c=n(177),l=n(178),f=n(179),h=n(180),d=n(181),p=n(182),g=n(183),y=n(184),v=n(185),m=n(186),_=n(187),b=n(188),w=n(189);t.analytics=Object.create(r.analytics),t.analytics.user=i,t.analytics.AB=y,t.analytics.staking=s,t.analytics.referral=o,t.analytics.footer=a,t.analytics.sendAsset=u,t.analytics.investments=c,t.analytics.nsbt=l,t.analytics.buyCrypto=f,t.analytics.welcome=h,t.analytics.mobileApp=d,t.analytics.header=p,t.analytics.dex=g,t.analytics.leverage=v,t.analytics.otc=m,t.analytics.MM=b,t.analytics.swap=w,t.analytics.deFo=_},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__12__},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(t,e)}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__14__},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),u=n(10),c=n(6),l=n(3),f=n(12),h=n(47),d=n(4),p=n(14),g=n(8),y=n(31);function v(e){return e===f.WAVES_ID?Promise.resolve(t.wavesAsset):l.request({url:c.get("node")+"/assets/details/"+e}).then((function(e){return new a.Asset({id:e.assetId,name:e.name,description:e.description,height:e.issueHeight,precision:e.decimals,quantity:e.quantity,hasScript:e.scripted,reissuable:e.reissuable,minSponsoredFee:e.minSponsoredAssetFee,sender:e.issuer,timestamp:new Date(e.issueTimestamp)})}))}function m(e){return i(this,void 0,void 0,(function(){var t,n,r,i,o;return s(this,(function(s){switch(s.label){case 0:t=[],n=0,r=e,s.label=1;case 1:if(!(n<r.length))return[3,6];i=r[n],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,v(i)];case 3:return o=s.sent(),t.push(o),[3,5];case 4:return s.sent(),t.push(null),[3,5];case 5:return n++,[3,1];case 6:return[2,t]}}))}))}t.wavesAsset=new a.Asset({ticker:"WAVES",id:"WAVES",name:"Waves",precision:8,description:"",height:0,hasScript:!1,timestamp:new Date("2016-04-11T21:00:00.000Z"),minSponsoredFee:new u.BigNumber(0),sender:"",quantity:1e16,reissuable:!1}),t.getAssetFromNode=v,t.queueRequest=m;var _=function(e){return c.getDataService().getAssets(e).then((function(t){var n=t.data,r=[];return e.forEach((function(e,t){n[t]||(r.push(e),Sentry.captureMessage("Data-service request failure: asset(id="+e+")",Sentry.Severity.Warning))})),m(r).then((function(t){var r=0;return e.map((function(e,i){return n[i]?n[i]:t[r++]}))}))}))};function b(e){return h.assetStorage.getAssets(d.toArray(e),_).then((function(t){return"string"==typeof e?t[0]:t})).then((function(e){if(!e)return e;var t=c.get("rewriteAssets")||{},n=Array.isArray(e);if(n||(e=d.toArray(e)),!t)return e;var r=e.filter(Boolean).map((function(e){return t[e.id]?(Object.entries(t[e.id]).forEach((function(t){var n=t[0],r=t[1];e[n]=r})),e):e}));return n?r:r[0]}))}function w(e){return"%"===e[0]?"__":"_"}t.get=b,t.getNftList=function(e,t){return l.request({url:c.get("node")+"/assets/nft/"+e+"/limit/"+t})};var A=function(e){var t=e.entries;return(void 0===t?[]:t).reduce((function(e,t){var n=t.value,r=t.key,i=w(r),s=r.split(i)[2];return s&&(e[s]=new u.BigNumber(Number(n))),e}),Object.create(null))};function S(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.filter(Boolean).reduce((function(e,t){return e.sub(t)}),e);return r.getTokens().lt(0)?r.cloneWithCoins("0"):r}function O(e,t,n){var r=d.toArray(e);return t=t||Object.create(null),n=n||Object.create(null),r.forEach((function(e){e.regular=S(e.regular,t[e.asset.id]).add(e.leasedOut),e.available=S(e.available,t[e.asset.id],n[e.asset.id]),e.inOrders=n[e.asset.id]||new a.Money(new u.BigNumber(0),e.asset)})),Array.isArray(e)?r:r[0]}function T(e,t){var n=new a.Money(0,e),r=new a.Money(t.regular,e),i=new a.Money(t.available,e);return{asset:e,regular:r,available:i,inOrders:n,leasedOut:new a.Money(t.regular,e).sub(i),leasedIn:new a.Money(t.effective,e).sub(i),defoInvestments:null}}function P(e){return Promise.all([b(f.WAVES_ID),l.request({url:c.get("node")+"/addresses/balance/details/"+e})]).then((function(e){return T(e[0],e[1])}))}function E(e,t,n){d.clearTransferFee(),n=r({},n||Object.create(null));var i=function(r){var i=t[r.assetId],s=new a.Money(new u.BigNumber("0"),i),o=s,c=r.balance?new a.Money(new u.BigNumber(r.balance),i):s,l=c.sub(o),h=p.isEmpty(r.sponsorBalance)?null:new a.Money(r.sponsorBalance,t[f.WAVES_ID]),g=p.isEmpty(r.minSponsoredAssetFee)?null:new a.Money(r.minSponsoredAssetFee,i),y=(r.issueTransaction||{}).sender===e.address;return delete n[r.assetId],h&&g&&d.setTransferFeeItem({balance:h,fee:g,isMy:y}),{asset:i,regular:c,available:l,inOrders:o,leasedOut:s,leasedIn:s,defoInvestments:null}};return e.balances.map(i).concat(Object.keys(n).map((function(e){return t[e]=t[e]||n[e].asset,i({assetId:e,issueTransaction:t[e]})}))).sort((function(e,t){return e.asset.name>t.asset.name?1:e.asset.name===t.asset.name?0:-1}))}function C(e){return b(o([f.WAVES_ID],e.balances.map((function(e){return d.normalizeAssetId(e.assetId)}))))}function k(e,t){return void 0===t&&(t={}),l.request({url:c.get("node")+"/assets/balance/"+e}).then((function(e){return C(e).then((function(n){return E(e,d.toHash(n,"id"),t)}))}))}t.getStakingBalances=function(e){var t=g.ConfigService.getInstance().getConfig("staking")||[];return function(e){return i(void 0,void 0,Promise,(function(){var t,n,r,i;return s(this,(function(s){switch(s.label){case 0:t=Object.keys(e).reduce((function(t,n){return t.push.apply(t,e[n].map((function(e){return[n,e]}))),t}),[]),n=JSON.stringify({filter:{in:{properties:[{address:{}},{key:{}}],values:t}},offset:0}),r={},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,y.state.get(n)];case 2:return i=s.sent(),r=A(i),[3,4];case 3:return s.sent(),[3,4];case 4:return[2,r]}}))}))}(t.reduce((function(t,n){if(n){var r=n.neutrinoId,i=n.id,s=n.stackingContract,o=n.balanceKey,a=void 0===o?"rpd_balance":o,u=r||i,c=w(a),l=""+a+c+u+c+e;t[s]?t[s].push(l):t[s]=[l]}return t}),Object.create(null))).then((function(e){return b(Object.keys(e)).then((function(t){return t.reduce((function(t,n){return t[n.id]=new a.Money(e[n.id]||0,n),t}),{})}))}))},t.fetchDefoInvestmentsBalance=function(e){return i(void 0,void 0,Promise,(function(){var t,n,r;return s(this,(function(i){switch(i.label){case 0:t=JSON.stringify({filter:{in:{properties:[{address:{}},{key:{}}],values:e}}}),n={},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,y.state.get(t)];case 2:return r=i.sent(),n=A(r),[3,4];case 3:return i.sent(),[3,4];case 4:return[2,n]}}))}))},t.getDefoInvestmentsBalance=function(e){var n=g.ConfigService.getInstance().getConfig("defoPools");if(!n)return Promise.resolve({});var r=n.assets,i=n.factory,s=n.poolMaker,o=r.map((function(t){var n=t.contract;return[i,"%s%s%s%s__pool__"+n+"__"+(e||s)+"__amount"]}));return t.fetchDefoInvestmentsBalance(o).then((function(e){return b((g.ConfigService.getInstance().getConfig("defaultAssets")||[]).find((function(e){return"USDN"===e.label})).assetId).then((function(t){var n,r=Object.entries(e).reduce((function(e,n){var r=n[0],i=n[1];return e[r]=new a.Money(i,t),e}),{});return(n={})[t.id]=r,n}))})).catch((function(){return{}}))},t.moneyDif=S,t.applyTxAndOrdersDif=O,t.remapWavesBalance=T,t.wavesBalance=P,t.remapAssetsBalance=E,t.getAssetsByBalanceList=C,t.assetsBalance=k,t.balanceList=function(e,n,r){return Promise.all([P(e),t.getStakingBalances(e).then((function(t){return k(e,t)}))]).then((function(e){var t=e[0],i=e[1];return O([t].concat(i),n,r)}))},t.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.getAssetBalance=function(e,t){return Promise.all([l.request({url:c.get("node")+"/assets/balance/"+e+"/"+t}),b(t)]).then((function(e){var t=e[0],n=e[1];return new a.Money(t.balance,n)}))}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__16__},function(e,t,n){"use strict";var r=n(2),i=n(13),s=Object.prototype.toString,o=function(){return"[object Arguments]"===s.call(arguments)?function(e){return"[object Arguments]"===s.call(e)}:function(e){return Object(i.a)("callee",e)}}(),a=!{toString:null}.propertyIsEnumerable("toString"),u=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){return arguments.propertyIsEnumerable("length")}(),l=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},f="function"!=typeof Object.keys||c?Object(r.a)((function(e){if(Object(e)!==e)return[];var t,n,r=[],s=c&&o(e);for(t in e)!Object(i.a)(t,e)||s&&"length"===t||(r[r.length]=t);if(a)for(n=u.length-1;n>=0;)t=u[n],Object(i.a)(t,e)&&!l(r,t)&&(r[r.length]=t),n-=1;return r})):Object(r.a)((function(e){return Object(e)!==e?[]:Object.keys(e)}));t.a=f},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(25);t.createMethod=function(e){var t=e.validate,n=void 0===t?i.T:t,o=e.generateRequest,a=e.libOptions,u=e.addPaginationToArgs;return function e(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];return i.pipeP(n,o(a.rootUrl),(function(e){var t=e.url,n=r(e,["url"]);return a.fetch(t,n)}),a.parse,(function(n){return i.pipeP(a.transform,s({method:e,args:t,addPaginationToArgs:u,rawData:n}))(n)})).apply(void 0,t)}};var s=function(e){var t=e.method,n=e.args,r=e.addPaginationToArgs,i=e.rawData;return function(e){return e&&r&&i&&i.lastCursor?{data:e,fetchMore:function(e){return t(r({args:n,cursor:i.lastCursor,count:e}))}}:{data:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(46);t.createRequest=function(e,t){if(void 0===t)return{url:e,method:i.HttpMethods.Get};var n=""+e+r.createQS(t);return n.length>2e3?{url:e,method:i.HttpMethods.Post,body:JSON.stringify(t),headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"}}:{url:n,method:i.HttpMethods.Get}}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__20__},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(0),s=n(1);function o(e){return function t(n,o,a){switch(arguments.length){case 0:return t;case 1:return Object(s.a)(n)?t:Object(i.a)((function(t,r){return e(n,t,r)}));case 2:return Object(s.a)(n)&&Object(s.a)(o)?t:Object(s.a)(n)?Object(i.a)((function(t,n){return e(t,o,n)})):Object(s.a)(o)?Object(i.a)((function(t,r){return e(n,t,r)})):Object(r.a)((function(t){return e(n,o,t)}));default:return Object(s.a)(n)&&Object(s.a)(o)&&Object(s.a)(a)?t:Object(s.a)(n)&&Object(s.a)(o)?Object(i.a)((function(t,n){return e(t,n,a)})):Object(s.a)(n)&&Object(s.a)(a)?Object(i.a)((function(t,n){return e(t,o,n)})):Object(s.a)(o)&&Object(s.a)(a)?Object(i.a)((function(t,r){return e(n,t,r)})):Object(s.a)(n)?Object(r.a)((function(t){return e(t,o,a)})):Object(s.a)(o)?Object(r.a)((function(t){return e(n,t,a)})):Object(s.a)(a)?Object(r.a)((function(t){return e(n,o,t)})):e(n,o,a)}}}},function(e,t,n){"use strict";t.a=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,s){return t.apply(this,arguments)};case 6:return function(e,n,r,i,s,o){return t.apply(this,arguments)};case 7:return function(e,n,r,i,s,o,a){return t.apply(this,arguments)};case 8:return function(e,n,r,i,s,o,a,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,s,o,a,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,s,o,a,u,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function s(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(137),r.base64=n(138),r.EventEmitter=n(139),r.float=n(140),r.inquire=n(141),r.utf8=n(142),r.pool=n(143),r.LongBits=n(144),r.global="undefined"!=typeof window&&window||void 0!==e&&e||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=s,r.ProtocolError=s("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(57))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.defaultFetch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=window).fetch.apply(e,t).then((function(e){return e.ok?e.text():e.text().then((function(e){return Promise.reject(new Error(e))}))}))},t.defaultParse=JSON.parse.bind(JSON),t.isNotString=function(e){return"string"!=typeof e},t.pipeP=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.reduce((function(e,t){return e.then(t)}),Promise.resolve(1===t.length?t[0]:t))}},t.some=function(e){return function(t){return t.some(e)}};var r=function(e,t){return e+"="+function(e){switch(!0){case e instanceof Date:return e.toISOString();default:return e}}(t)};t.createQS=function(e){var t=Object.entries(e).filter((function(e){e[0];return void 0!==e[1]})).map((function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map((function(e){return r(t,e)})).join("&"):r(t,n)})).join("&");return""===t?t:"?"+t},t.id=function(e){return e},t.T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),i=n(7),s=n(8),o=n(14),a=function(e){return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return(e?e+"&":"")+n+"="+encodeURIComponent(r)}),"")},u=function(){function e(){if(this.changeToken=new o.Signal,this._tokensMap=Object.create(null),this._tokensRequestMap=Object.create(null),e._instance)return e._instance;e._instance=this}return Object.defineProperty(e.prototype,"apiTokenUrl",{get:function(){return s.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api")+"/v1/oauth2/token"},enumerable:!0,configurable:!0}),e.prototype.addSignatureProvider=function(e){this._signProvider=e},e.prototype.addErrorCb=function(e){this._invalidTokenCb=e},e.prototype.signApiTokenData=function(e,t,n){return["ledger","wavesKeeper"].includes(e.type)?Promise.reject("Need sign cb"):e.signApiTokenData(t,n)},e.prototype.deleteTokenData=function(){var e=r.getSignatureApi();if(e){var t=e.getSyncAddress();delete this._tokensMap[t]}},e.prototype.getTokenById=function(t,n){var i=this,s=r.getSignatureApi();if(!s)return Promise.reject("No user");var o=s.getSyncAddress();if(this._tokensRequestMap[o])return this._tokensRequestMap[o];var a=this._tokensMap[o]&&this._tokensMap[o].accessToken;return e.checkValidAccessToken(a,o)?Promise.resolve(this._tokensMap[o]):(this._tokensRequestMap[o]=this.getAccessToken(t).then((function(e){return i._tokensRequestMap[o]=null,i._tokensMap[o]=e,i.changeToken.dispatch({address:o,tokenData:e}),e})).catch((function(){return function(e,t){return n?n(e,t):i._signProvider?i._signProvider(e,t):i.signApiTokenData(s,e,t)}("waves.exchange",Date.now()+864e5).then((function(e){return i.createToken(e)})).then((function(e){return i._tokensRequestMap[o]=null,i._tokensMap[o]=e,i.changeToken.dispatch({address:o,tokenData:e}),e}))})).catch((function(e){throw i.deleteTokenData(),i._tokensRequestMap[o]=null,i._invalidTokenCb&&i._invalidTokenCb(e),e})),this._tokensRequestMap[o])},e.prototype.getAccessToken=function(t){if(!t)return Promise.reject();var n=e.getAccessTokenBody(t);return this.fetchApiToken(n).then((function(e){return{accessToken:e.access_token,refreshToken:e.refresh_token,expiresIn:1e3*e.expires_in+Date.now()}}))},e.prototype.createToken=function(t){var n=e.getRequestBody(t);return this.fetchApiToken(n).then((function(e){return{accessToken:e.access_token,refreshToken:e.refresh_token,expiresIn:e.expires_in}}))},e.prototype.fetchApiToken=function(e){return i.fetch(""+this.apiTokenUrl,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:e})},e.getInstance=function(){return e._instance?e._instance:new e},e.getApiToken=function(t,n){return e.getInstance().getTokenById(t,n)},e._parseApiToken=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)},e.checkValidAccessToken=function(t,n){if(!t)return!1;try{var r=e._parseApiToken(t);return 1e3*r.exp-Date.now()>0&&r.a===n}catch(e){return!1}},e.getAccessTokenBody=function(e){return a({grant_type:"refresh_token",scope:"general",client_id:"waves.exchange",refresh_token:e})},e.getRequestBody=function(e){var t=e.publicKey,n=e.seconds,r=e.signature,i=e.clientId;return a({grant_type:"password",scope:"general",username:t,password:n+":"+r,client_id:i})},e}();t.ApiTokenService=u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,s,o=n(12);function a(e){i=e}t.setSignatureApi=a,t.dropSignatureApi=function(){i=null},t.setUserData=function(e){s=e},t.dropUserData=function(){s=null},t.getUserAddress=function(){return s?s.address:""},t.getSignatureApi=function(){if(!i||i.isDestroyed())try{var e=o.getAdapterByType(s.userType);switch(s.userType){case o.AdapterType.Seed:a(new e(s.seed,s.networkByte));break;case o.AdapterType.PrivateKey:a(new e(s.privateKey,s.networkByte));break;default:a(new e(s,s.networkByte))}}catch(e){return i}return i},t.getDefaultSignatureApi=function(e){var t=e.settings.get("encryptionRounds"),n=r(r({},e),{encryptionRounds:t});return new(o.getAdapterByType(e.userType)||o.getAdapterByType(o.adapterList[0].type))(n)}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(34),s=n(42),o=Object(r.a)((function(e,t){return e.map((function(e){for(var n,r=t,o=0;o<e.length;){if(null==r)return;n=e[o],r=Object(i.a)(n)?Object(s.a)(n,r):r[n],o+=1}return r}))})),a=Object(r.a)((function(e,t){return o([e],t)[0]})),u=Object(r.a)((function(e,t){return a([e],t)}));t.default=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(23),i=n(1);function s(e,t,n){return function(){for(var o=[],a=0,u=e,c=0;c<t.length||a<arguments.length;){var l;c<t.length&&(!Object(i.a)(t[c])||a>=arguments.length)?l=t[c]:(l=arguments[a],a+=1),o[c]=l,Object(i.a)(l)||(u-=1),c+=1}return u<=0?n.apply(this,o):Object(r.a)(u,s(e,o,n))}}},function(e,t,n){"use strict";var r=n(2),i=n(22),s=n(41),o=Object(r.a)((function(e){return!!Object(i.a)(e)||!!e&&("object"==typeof e&&(!Object(s.a)(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),a=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();var u=n(23),c=n(0),l=Object(c.a)((function(e,t){return Object(u.a)(e.length,(function(){return e.apply(t,arguments)}))}));function f(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function h(e,t,n,r){return e["@@transducer/result"](n[r](l(e["@@transducer/step"],e),t))}n.d(t,"a",(function(){return p}));var d="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function p(e,t,n){if("function"==typeof e&&(e=function(e){return new a(e)}(e)),o(n))return function(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return h(e,t,n,"fantasy-land/reduce");if(null!=n[d])return f(e,t,n[d]());if("function"==typeof n.next)return f(e,t,n);if("function"==typeof n.reduce)return h(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),s=n(54),o=n(37),a=n(4),u=n(3),c=n(47),l=n(53),f=n(88),h=n(55),d=n(38),p=n(100),g=n(101),y=n(103),v=n(104),m=n(105),_=n(58),b=n(106),w=n(32),A=n(107),S=n(108),O=n(109),T=n(59),P=n(61),E=n(110),C=n(111),k=n(112);t.email=r({},E),t.aliases={getAliasesByAddress:_.getAliasesByAddress,getAddressByAlias:_.getAddressByAlias,getAliasesByIdList:_.getAliasesByIdList},t.node={height:l.height,debug:l.debug},t.matcher={getOrderBook:f.get,getOrdersByPair:d.getOrdersByPair,getOrders:d.getOrders,factory:d.factory,getLastPrice:v.getLastPrice,getFeeRates:b.getFeeRates,getSettings:b.getSettings,getPairRestrictions:m.getPairRestrictions,matcherData:h.matcherData,parse:d.parse},t.matchers=p,t.fee=r({},g),t.assets=r({},i),t.transactions=r(r({},s),{parseTx:o.parseTx,parseExchangeOrder:o.parseExchangeOrder,getAssetsHashFromTx:o.getAssetsHashFromTx}),t.utils=r(r({},a),{request:u.request,privateRequest:u.privateRequest,assetStorage:c.assetStorage}),t.pairs=r(r({},w),A),t.rating=r({},S),t.rate=r({},O),t.data=r({},T),t.address=y,t.referral=r({},P),t.state=r({},C),t.DeFo=r({},k)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(10),s=n(6),o=n(3),a=n(55),u=n(15),c=n(56);function l(e){return("string"==typeof e?e:e.id)||"WAVES"}t.toId=l,t.get=function(e,t){return a.matcherData.matcherSettingsPromise.then((function(n){return u.get([l(e),l(t)]).then((function(e){var t,i=e[0],s=e[1],o=((t={})[i.id]=i,t[s.id]=s,t),a=c.createOrderPair(n.priceAssets,i.id,s.id),u=a[0],l=a[1];return new r.AssetPair(o[u],o[l])}))}))},t.moneyOrNull=function(e){return function(t){return t&&r.Money.fromTokens(t,e.priceAsset)||null}},t.change24F=function(e,t){return e&&!e.eq(0)&&t?t.sub(e).div(e).mul(100).roundTo(2):new i.BigNumber(0)};t.info=function(e,n){return o.request({method:function(){return s.getDataService().getPairs(e)(n).then((function(e){return e.data}))}}).then((function(e){return function(e,n){return function(r){return e.map((function(e,i){var s=t.moneyOrNull(e),o=r[i]||Object.create(null),a=e.amountAsset,c=e.priceAsset,l=s(o.lastPrice),f=s(o.firstPrice),h=s(o.high),d=s(o.low),p=n(o.volume,a),g=n(o.quoteVolume,c),y=n(o.volumeWaves,u.wavesAsset),v=t.change24F(f&&f.getTokens(),l&&l.getTokens());v.gt(1e3)&&(v=v.roundTo(0));var m=[a.id,c.id].sort().join();return{amountAsset:a,priceAsset:c,lastPrice:l,firstPrice:f,volumeAmount:p,volumePrice:g,volumeWaves:y,change24:v,id:m,high:h,low:d}}))}}(n,(function(e,t){return e&&r.Money.fromTokens(e,t)||null}))(e)}))}},function(e,t,n){"use strict";var r=n(2),i=Object(r.a)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));t.a=i},function(e,t,n){"use strict";t.a=Number.isInteger||function(e){return e<<0===e}},function(e,t,n){"use strict";t.a={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=function(){function e(e,t,n){this.signals={requestSuccess:new r.Signal,requestError:new r.Signal},this._timer=null,this._active=!1,this._api=e,this._timeout=t,n||(this._active=!0,this._run(this._timer))}return e.prototype.pause=function(){this._active=!1,this._clear()},e.prototype.play=function(){this._active=!0,this._clear(),this._run(this._timer)},e.prototype.getDataPromise=function(){var e=this;return this.lastData?Promise.resolve(this.lastData):new Promise((function(t,n){var r=function(n){t(n),e.signals.requestError.off(i)},i=function(t){n(t),e.signals.requestSuccess.off(r)};e.signals.requestSuccess.once(r),e.signals.requestError.once(i)}))},e.prototype.destroy=function(){this._active=!1,this._clear()},e.prototype.restart=function(){this._active=!0,this._run(this._timer)},e.prototype._run=function(e){var t=this;try{this._api.get().then((function(n){t._active&&t._timer===e&&(t._api.set(n),t.lastData=n,t.signals.requestSuccess.dispatch(n),t._setTimeout())}),(function(n){t._active&&t._timer===e&&(t.signals.requestError.dispatch(n),t._setTimeout(!0))}))}catch(t){this._active&&this._timer===e&&(this.signals.requestError.dispatch(t),this._setTimeout(!0))}},e.prototype._setTimeout=function(e){var t=this;this._clear(),this._timer=window.setTimeout((function(){return t._run(t._timer)}),e?10*this._timeout:this._timeout)},e.prototype._clear=function(){null!==this._timer&&(clearTimeout(this._timer),this._timer=null)},e}();t.Poll=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=n(10),o=n(12),a=n(20),u=n(15),c=n(4),l=n(38),f=n(27),h=n(16).pipe(String,a.libs.crypto.base58Decode);function d(e,t,n){var r=c.normalizeAssetPair(t.order2.assetPair),s=new i.AssetPair(n[r.amountAsset],n[r.priceAsset]),o=e.price(t.price,s),a=e.money(t.amount,s.amountAsset),u=i.Money.fromTokens(a.getTokens().mul(o.getTokens()),o.asset);return{price:o,amount:a,total:u}}function p(e,t){switch(void 0===t&&(t=Object.create(null)),t[o.WAVES_ID]=!0,e.type){case o.TRANSACTION_TYPE_NUMBER.REISSUE:case o.TRANSACTION_TYPE_NUMBER.BURN:case o.TRANSACTION_TYPE_NUMBER.MASS_TRANSFER:case o.TRANSACTION_TYPE_NUMBER.SPONSORSHIP:t[c.normalizeAssetId(e.assetId)]=!0;break;case o.TRANSACTION_TYPE_NUMBER.TRANSFER:t[c.normalizeAssetId(e.assetId)]=!0,t[c.normalizeAssetId(e.feeAssetId)]=!0;break;case o.TRANSACTION_TYPE_NUMBER.EXCHANGE:t[c.normalizeAssetId(e.order1.assetPair.amountAsset)]=!0,t[c.normalizeAssetId(e.order1.assetPair.priceAsset)]=!0,t[c.normalizeAssetId(e.order1.matcherFeeAssetId)]=!0,t[c.normalizeAssetId(e.order2.matcherFeeAssetId)]=!0;break;case o.TRANSACTION_TYPE_NUMBER.SCRIPT_INVOCATION:e.payment.forEach((function(e){t[c.normalizeAssetId(e.assetId)]=!0})),t[c.normalizeAssetId(e.feeAssetId)]=!0}return t}function g(e){var t=o.TRANSACTION_TYPE_NUMBER.TRANSFER,n=o.WAVES_ID;return r(r({},e),{type:t,assetId:n,attachment:"",feeAssetId:o.WAVES_ID})}function y(e,t,n){var a=new s.BigNumber(e.quantity),u=new i.Money(e.fee,t[o.WAVES_ID]);return r(r({},e),{precision:e.decimals,quantity:a,fee:u,isUTX:n})}function v(e,n,i,s){var o=h(e.attachment),a=c.normalizeRecipient(e.recipient),u=t.getFactory(s),l=u.money(e.amount,n[c.normalizeAssetId(e.assetId)]),f=u.money(e.fee,n[c.normalizeAssetId(e.feeAssetId)]),d=c.normalizeAssetId(e.assetId),p="script_execution_failed"===e.applicationStatus;return r(r({},e),{amount:l,fee:f,assetId:d,isUTX:i,attachment:o,recipient:a,isFailed:p})}function m(e,t,n){var s=new i.Money(e.quantity,t[c.normalizeAssetId(e.assetId)]),a=new i.Money(e.fee,t[o.WAVES_ID]);return r(r({},e),{quantity:s,fee:a,isUTX:n})}function _(e,n,i,s){var a=t.getFactory(s),u=a.money(e.amount,n[c.normalizeAssetId(e.assetId)]),l=a.money(e.fee,n[o.WAVES_ID]);return r(r({},e),{amount:u,fee:l,isUTX:i})}function b(e,t,n){var s=new i.Money(e.fee,t[o.WAVES_ID]);return r(r({},e),{fee:s,isUTX:n})}function w(e,t,n){var s=c.normalizeAssetPair(t.assetPair),o=new i.AssetPair(n[s.amountAsset],n[s.priceAsset]),a=e.price(t.price,o),u=e.money(t.amount,n[s.amountAsset]),l=i.Money.fromTokens(u.getTokens().mul(a.getTokens()),a.asset),f=e.money(t.matcherFee,n[c.normalizeAssetId(t.matcherFeeAssetId)]);return r(r({},t),{price:a,amount:u,matcherFee:f,assetPair:s,total:l})}function A(e,n,i,s,a){var u,c=t.getFactory(s),l=w(c,e.order1,n),f=w(c,e.order2,n),h=((u={})[l.orderType]=l,u[f.orderType]=f,u),p=h.buy,g=h.sell,y=function(e,t,n){return function(e,t,n){return e.senderPublicKey===n&&t.senderPublicKey===n}(e,t,n)||function(e,t,n){return e.senderPublicKey!==n&&t.senderPublicKey!==n}(e,t,n)?e.timestamp>t.timestamp?e.orderType:t.orderType:function(e,t,n){return e.senderPublicKey===n?e:t}(e,t,n).orderType}(l,f,a),v=d(c,e,n),m=v.price,_=v.amount,b=v.total,A=c.money(e.buyMatcherFee,p.matcherFee.asset),S=c.money(e.sellMatcherFee,g.matcherFee.asset),O=c.money(e.fee,n[o.WAVES_ID]),T="script_execution_failed"===e.applicationStatus;return r(r({},e),{order1:l,order2:f,price:m,amount:_,buyMatcherFee:A,sellMatcherFee:S,fee:O,isUTX:i,buyOrder:p,sellOrder:g,exchangeType:y,total:b,isFailed:T})}function S(e,t,n){var s=new i.Money(e.fee,t[o.WAVES_ID]),a=e.script||"";return r(r({},e),{fee:s,isUTX:n,script:a})}function O(e,t,n){var s=new i.Money(e.fee,t[o.WAVES_ID]),a=e.script||"";return r(r({},e),{fee:s,isUTX:n,script:a})}function T(e,t,n,s){void 0===s&&(s=!1);var a=s?i.Money.fromTokens(e.amount,t[o.WAVES_ID]):new i.Money(e.amount,t[o.WAVES_ID]),u=new i.Money(e.fee,t[o.WAVES_ID]),l=c.normalizeRecipient(e.recipient),f="active"===e.status;return r(r({},e),{amount:a,fee:u,isUTX:n,recipient:l,isActive:f})}function P(e,t,n){var s=e.lease&&T(e.lease,t,!1)||null,a=new i.Money(e.fee,t[o.WAVES_ID]);return r(r({},e),{lease:s,fee:a,isUTX:n})}function E(e,t,n){var s=new i.Money(e.fee,t[o.WAVES_ID]);return r(r({},e),{fee:s,isUTX:n})}function C(e,n,s,a){var u=h(e.attachment),l=t.getFactory(a),f=l.money(e.fee,n[o.WAVES_ID]),d=n[c.normalizeAssetId(e.assetId)],p="script_execution_failed"===e.applicationStatus,g=e.transfers.map((function(t){return{recipient:c.normalizeRecipient(t.recipient),amount:l.money(t.amount,n[c.normalizeAssetId(e.assetId)])}})),y=l.money(e.totalAmount||g.reduce((function(e,t){return e.add(t.amount)}),new i.Money(0,d)).toCoins(),d);return r(r({},e),{totalAmount:y,transfers:g,fee:f,isUTX:s,attachment:u,isFailed:p})}function k(e,t,n){var a=new i.Money(e.fee,t[o.WAVES_ID]),u=e.data.map((function(e){return"integer"===e.type?r(r({},e),{value:new s.BigNumber(e.value)}):e})),c=r(r({},e),{data:u}),l=JSON.stringify(c.data,null,4);return r(r({},c),{stringifiedData:l,fee:a,isUTX:n})}function j(e,t,n){var s=new i.Money(e.fee,t[e.feeAssetId]?t[e.feeAssetId]:t[o.WAVES_ID]),a=c.normalizeRecipient(e.dApp),u=e.payment.map((function(e){return new i.Money(e.amount,t[c.normalizeAssetId(e.assetId)])})),l="script_execution_failed"===e.applicationStatus;return r(r({},e),{fee:s,payment:u,isUTX:n,dApp:a,isFailed:l})}t.getFactory=function(e){return e?{money:c.tokensMoneyFactory,price:function(e,t){return i.Money.fromTokens(e,t.priceAsset)}}:l.factory},t.getExchangeTxMoneys=d,t.getAssetsHashFromTx=p,t.remapOldTransfer=g,t.parseIssueTx=y,t.parseTransferTx=v,t.parseReissueTx=m,t.parseBurnTx=_,t.parseUpdateAssetInfoTx=b,t.parseExchangeOrder=w,t.parseExchangeTx=A,t.parseScriptTx=S,t.parseAssetScript=O,t.parseLeasingTx=T,t.parseCancelLeasingTx=P,t.parseCreateAliasTx=E,t.parseMassTransferTx=C,t.parseDataTx=k,t.parseInvocationTx=j,t.parseTx=function(e,t,n){var s=Object.create(null);s[o.WAVES_ID]=!0,e.forEach((function(e){return p(e,s)}));var a=f.getSignatureApi();return Promise.all([u.get(Object.keys(s)).then((function(e){return c.toHash(e,"id")})),a&&a.getPublicKey()||Promise.resolve(null),a&&a.getSignVersions()||Promise.resolve({})]).then((function(s){var a=s[0],u=s[1],c=s[2];return e.map((function(e){if("version"in e&&null!=c[e.type]){var s=c[e.type];e.version=s.includes(e.version)?e.version:s[s.lenght-1]}switch(e.type){case o.TRANSACTION_TYPE_NUMBER.SEND_OLD:return v(g(e),a,t,n);case o.TRANSACTION_TYPE_NUMBER.ISSUE:return y(e,a,t);case o.TRANSACTION_TYPE_NUMBER.TRANSFER:return v(e,a,t,n);case o.TRANSACTION_TYPE_NUMBER.REISSUE:return m(e,a,t);case o.TRANSACTION_TYPE_NUMBER.BURN:return _(e,a,t,n);case o.TRANSACTION_TYPE_NUMBER.EXCHANGE:return A(e,a,t,n,u);case o.TRANSACTION_TYPE_NUMBER.LEASE:return T(e,a,t,n);case o.TRANSACTION_TYPE_NUMBER.CANCEL_LEASING:return P(e,a,t);case o.TRANSACTION_TYPE_NUMBER.CREATE_ALIAS:return E(e,a,t);case o.TRANSACTION_TYPE_NUMBER.MASS_TRANSFER:return C(e,a,t,n);case o.TRANSACTION_TYPE_NUMBER.DATA:return k(e,a,t);case o.TRANSACTION_TYPE_NUMBER.SPONSORSHIP:return function(e,t,n){var s=new i.Money(e.minSponsoredAssetFee||0,t[e.assetId]),a=new i.Money(e.fee,t[o.WAVES_ID]);return r(r({},e),{fee:a,minSponsoredAssetFee:s,isUTX:n})}(e,a,t);case o.TRANSACTION_TYPE_NUMBER.SET_SCRIPT:return S(e,a,t);case o.TRANSACTION_TYPE_NUMBER.SET_ASSET_SCRIPT:return O(e,a,t);case o.TRANSACTION_TYPE_NUMBER.SCRIPT_INVOCATION:return j(e,a,t);case o.TRANSACTION_TYPE_NUMBER.UPDATE_ASSET_INFO:return b(e,a,t);default:return e}}))}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),s=n(9),o=n(4),a=n(3),u=n(6),c=n(15),l=n(27);t.factory={price:o.priceMoneyFactory,money:o.coinsMoneyFactory},t.remapOrder=function(e){return function(t){return function(n){var i=t[o.normalizeAssetId(n.assetPair.amountAsset)],a=t[o.normalizeAssetId(n.assetPair.priceAsset)],u=new s.AssetPair(i,a),c=e.money(n.amount,i),l=e.price(n.price,u),f=e.money(n.filled||0,i),h=s.Money.fromTokens(c.getTokens().mul(l.getTokens()),a),d=Number(f.getTokens().div(c.getTokens()).toFixed()),p=new Date(n.timestamp),g=n.type.toLowerCase(),y=["partially_filled","partiallyfilled","accepted"].includes(n.status.toLowerCase());return r(r({},n),{type:g,amount:c,price:l,filled:f,assetPair:u,progress:d,timestamp:p,isActive:y,total:h})}}},t.matcherOrderRemap=t.remapOrder(t.factory);var f=function(e){return o.ApiTokenService.getInstance().getTokenById().then((function(t){var n={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+t.accessToken}},r=u.get("matcher")+"/"+e;return a.request({url:r,fetchOptions:n})}))},h=function(){var e=l.getSignatureApi();if(!e)throw new Error("No user! Login to Client");return e.getPublicKey()};function d(e){var t=Object.keys(e);return c.get(t).then((function(t){return t.reduce((function(t,n){var r=e[n.id];return t[n.id]=new s.Money(r,n),t}),Object.create(null))}))}function p(e){var t=Object.create(null);return t[i.WAVES_ID]=!0,Object.keys(e.reduce(g,t))}function g(e,t){return t.assetPair&&(e[o.normalizeAssetId(t.assetPair.amountAsset)]=!0,e[o.normalizeAssetId(t.assetPair.priceAsset)]=!0),e}t.parse=function(e){var n=p(e);return c.get(n).then((function(n){var r=o.toHash(n,"id");return e.map((function(e){return t.matcherOrderRemap(r)(e)}))}))},t.getOrders=function(e){var n=void 0===e?{}:e,r=n.isActive,i=void 0===r||r,s=n.h,o=void 0===s?"":s;return function(){var e=l.getSignatureApi();if(!e)throw new Error("No user! Login to Client");return e.getAddress()}().then((function(e){return f("orders/"+e+"?activeOnly="+i+"&h="+o)})).then(t.parse)},t.getOrdersByPair=function(e){return h().then((function(t){return f("orderbook/"+e.amountAsset.id+"/"+e.priceAsset.id+"/publicKey/"+t)})).then(t.parse)},t.getReservedBalance=function(){return h().then((function(e){return f("/balance/reserved/"+e)})).then(d)},t.prepareReservedBalance=d,t.getAssetsFromOrderList=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;const r=n(48).__importDefault(n(124));t.Observable=r.default},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),a=n(20);t.timeCache=function(e){return function(t,n,o){var a=o.value,u=Object.create(null);o.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r(this,void 0,void 0,(function(){var n,r,o,c;return i(this,(function(i){switch(i.label){case 0:return n=JSON.stringify(t),u[n]=u[n]||Object.create(null),r=u[n],o=Date.now(),c=r.time?r.time+e-o:0,(!r.promise||c<=0)&&(r.time=Date.now(),r.promise=a.call.apply(a,s([this],t)),r.promise.catch((function(){r.promise=null}))),[4,r.promise];case 1:return[2,i.sent()]}}))}))}}},t.getPayment=function(e,t,n,r,i){if(void 0===n&&(n=[]),11===e.type&&Array.isArray(e.transfers)){var s=e,a=s.transfers.find((function(e){return e.recipient===t}));n.push({amount:new o.BigNumber(a.amount),amountInUsdn:r?new o.BigNumber(a.amount).div(r*Math.pow(10,-i||0)).roundTo(i||6):null,tx:s})}else if(4===e.type){var u=e;n.push({amount:new o.BigNumber(u.amount),amountInUsdn:r?new o.BigNumber(u.amount).div(r*Math.pow(10,-i||0)).roundTo(i||6):null,tx:e})}return n};var u=["pool-makers staking mass transfer","pool-makers fee mass transfer"];t.stakingDefoPaymentsFilter=function(e){var t=e.tx;if(!t.attachment.length)return!0;var n=a.libs.crypto.bytesToString(a.libs.crypto.base58Decode(t.attachment));return!u.some((function(e){return n.includes(e)}))},t.poolDefoIncomePaymentsFilter=function(e){var t=e.tx;return!!t.attachment.length&&a.libs.crypto.bytesToString(a.libs.crypto.base58Decode(t.attachment)).includes("pool-makers staking mass transfer")},t.poolDefoFeePaymentsFilter=function(e){var t=e.tx;return!!t.attachment.length&&a.libs.crypto.bytesToString(a.libs.crypto.base58Decode(t.attachment)).includes("pool-makers fee mass transfer")},t.poolDefoPaymentsFilter=function(e){return t.poolDefoIncomePaymentsFilter(e)||t.poolDefoFeePaymentsFilter(e)},t.filterByAssetId=function(e,t){return!t||e.tx.assetId===t},t.getFilterByType=function(e){switch(e){case"staking":return t.stakingDefoPaymentsFilter;case"defo":return t.poolDefoPaymentsFilter;default:return function(e){return!0}}}},function(e,t,n){"use strict";function r(e){return"[object String]"===Object.prototype.toString.call(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(0),i=n(41),s=Object(r.a)((function(e,t){var n=e<0?t.length+e:e;return Object(i.a)(t)?t.charAt(n):t[n]}));t.a=s},function(e,t,n){"use strict";var r=n(21),i=n(30),s=Object(r.a)(i.a);t.a=s},function(e,t,n){"use strict";var r=n(23),i=n(2),s=n(0),o=n(29),a=Object(s.a)((function(e,t){return 1===e?Object(i.a)(t):Object(r.a)(e,Object(o.a)(e,[],t))}));t.a=a},function(e,t,n){"use strict";var r=n(22);function i(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function s(e,t,n){return function(){if(0===arguments.length)return n();var s=Array.prototype.slice.call(arguments,0),o=s.pop();if(!Object(r.a)(o)){for(var a=0;a<e.length;){if("function"==typeof o[e[a]])return o[e[a]].apply(o,s);a+=1}if(i(o)){var u=t.apply(null,s);return u(o)}}return n.apply(this,arguments)}}n.d(t,"a",(function(){return s}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.List="list",e.Asset="asset",e.Pair="pair",e.Transaction="transaction",e.Alias="alias",e.Candle="candle"}(t.ApiTypes||(t.ApiTypes={})),function(e){e.Get="GET",e.Post="POST"}(t.HttpMethods||(t.HttpMethods={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=function(){function e(){this._promiseHash=Object.create(null),this._hash=Object.create(null)}return e.prototype.getAssets=function(e,t){var n=this,r=this._getCachedAssetsFromPromiseHash(e),i=e.filter((function(e){return!r[e]&&!n._hash[e]})),s=Object.values(r).concat(this._getNewRequestPromise(i,t));return Promise.all(s).then((function(){return e.map((function(e){return n._hash[e]}))}))},e.prototype.save=function(e,t){var n=this;if(r.isPromise(t)){var i=r.toArray(e);i.forEach((function(e){return n._promiseHash[e]=t})),t.then((function(e){r.toArray(e).filter(Boolean).forEach((function(e){delete n._promiseHash[e.id],n._hash[e.id]=e}))})),t.catch((function(){i.forEach((function(e){delete n._promiseHash[e]}))}))}else r.toArray(t).filter(Boolean).forEach((function(e){delete n._promiseHash[e.id],n._hash[e.id]=e}))},e.prototype._getNewRequestPromise=function(e,t){var n=e.length?t(e):Promise.resolve([]);return e.length&&this.save(e,n),n},e.prototype._getCachedAssetsFromPromiseHash=function(e){var t=this;return e.reduce((function(e,n){return t._promiseHash[n]&&(e[n]=t._promiseHash[n]),e}),Object.create(null))},e}();t.AssetStorage=i,t.assetStorage=new i},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return s})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return m})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return A})),n.d(t,"__importDefault",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,a)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function m(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(s[0][2],n)}catch(e){l(s[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subject=void 0;const r=n(126),i=n(39);class s extends i.Observable{constructor(e){super(e||(()=>{})),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}next(e){if(!this.closed&&!this.isStopped)for(const t of this.observers)"function"==typeof t.next&&t.next(e)}error(e){if(!this.closed){this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(const t of this.observers)"function"==typeof t.error&&t.error(e);this.observers=[]}}complete(){if(!this.closed){this.isStopped=!0;for(const e of this.observers)"function"==typeof e.complete&&e.complete();this.observers=[]}}subscribe(e,t,n){const i="function"==typeof e?{next:e,error:e=>"function"==typeof t&&t(e),complete:()=>"function"==typeof n&&n()}:e;if(this.closed)return r.EMPTY.subscribe(i);if(this.hasError)return"function"==typeof i.error&&i.error(this.thrownError),r.EMPTY.subscribe(i);if(this.isStopped)return"function"==typeof i.complete&&i.complete(),r.EMPTY.subscribe(i);{this.observers.push(i);const e=super.subscribe(i),t=e.unsubscribe;return e.unsubscribe=()=>{const n=this.observers.indexOf(i);-1!==n&&this.observers.splice(n,1),t.call(e)},e}}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=[]}}t.Subject=s},function(e,t,n){"use strict";n.r(t);var r=n(23);function i(e,t){return function(){return t.call(this,e.apply(this,arguments))}}var s=n(43),o=n(22);function a(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return Object(o.a)(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var u=n(2),c=n(21),l=Object(c.a)(a("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),f=Object(u.a)(a("tail",l(1,1/0)));function h(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Object(r.a)(arguments[0].length,Object(s.a)(i,arguments[0],f(arguments)))}n.d(t,"default",(function(){return h}))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(45);var s=n(30),o=n(35),a=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=o.a.init,e.prototype["@@transducer/result"]=o.a.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),u=Object(r.a)((function(e,t){return new a(e,t)})),c=n(44),l=n(17),f=Object(r.a)(Object(i.a)(["fantasy-land/map","map"],u,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return Object(c.a)(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return Object(s.a)((function(n,r){return n[r]=e(t[r]),n}),{},Object(l.a)(t));default:return function(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}(e,t)}})));t.default=f},function(e,t,n){"use strict";n.r(t);var r=n(2);function i(e){return e}var s=Object(r.a)(i);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),s=n(4);t.height=function(){return r.request({url:i.get("node")+"/blocks/height"})},t.time=function(){return r.request({url:i.get("node")+"/utils/time"}).then((function(e){var t=e.NTP;return new Date(t)}))},t.debug=function(e){return r.request({url:i.get("node")+"/debug/validate",fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:s.stringifyJSON(e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(3),s=n(37),o=n(14),a=n(12),u=n(16),c=Object.assign(Object.create(null),{limit:5e3,getAll:!1});function l(e,t){return t?e.filter(o.contains({sender:t})):e}t.list=function(e,t,n){return void 0===t&&(t=100),i.request({url:r.get("node")+"/transactions/address/"+e+"/limit/"+t+(n?"?after="+n:"")}).then(u.pipe(u.prop("0"),u.uniqBy(u.prop("id")))).then((function(e){return s.parseTx(e,!1)}))},t.getExchangeTxList=function(e,t){void 0===e&&(e=Object.create(null)),t=Object.assign(Object.create(null),c,t);var n=function(e,r){return r=r.concat(e.data),t.getAll&&e.data.length&&e.fetchMore?t.limit&&t.limit<=r.length?r:e.fetchMore().then((function(e){return n(e,r)})):r};return i.request({method:function(){return r.getDataService().getExchangeTxs(e).then((function(e){return n(e,[])}))}}).then((function(e){return s.parseTx(e,!1,!0)}))},t.filterByAddress=l,t.listUTX=function(e){return i.request({url:r.get("node")+"/transactions/unconfirmed"}).then(u.uniqBy(u.prop("id"))).then((function(t){return l(t,e)})).then((function(e){return s.parseTx(e,!0)}))},t.get=function(e){return i.request({url:r.get("node")+"/transactions/info/"+e}).then((function(e){return s.parseTx([e],!1)})).then((function(e){return e[0]}))},t.getUTX=function(e){return i.request({url:r.get("node")+"/transactions/unconfirmed/info/"+e}).then((function(e){return s.parseTx([e],!0)})).then((function(e){return e[0]}))},t.hasTransactionsBeforeTimestamp=function(e,t){if("string"!=typeof e)throw new Error("Expected [string] as 1 argument. Received ["+typeof e+"]");if("number"!=typeof t)throw new Error("Expected [number] as 2 argument. Received ["+typeof t+"]");var n="\n        "+r.get("api")+"/"+r.get("apiVersion")+"/transactions/all?timeEnd="+t+"&sender="+e+"&limit=1\n    ";return i.request({url:n}).then((function(e){return Boolean(e&&e.data&&e.data.length>0)}))},t.isTransfer=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.MASS_TRANSFER},t.isIssue=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.ISSUE},t.isReissue=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.REISSUE},t.isBurn=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.BURN},t.isExchange=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.EXCHANGE},t.isLeasing=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.LEASE},t.isCancelLeasing=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.CANCEL_LEASING},t.isCreateAlias=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.CREATE_ALIAS},t.isMassTransfer=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.MASS_TRANSFER},t.isData=function(e){return e.type===a.TRANSACTION_TYPE_NUMBER.DATA}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=n(6),o=n(3),a=n(56),u=n(20),c=n(14);function l(){clearTimeout(i);var e=s.get("matcher"),n=o.request({url:e+"/settings"});return t.matcherData.matcherSettingsPromise=n,n.then((function(e){t.matcherData.settings=e,t.matcherData.change.dispatch("matcherSettings")})).catch((function(){i=setTimeout(l,3e3)}))}function f(){clearTimeout(r);var e=s.get("matcher");return o.request({url:e}).then((function(e){return t.matcherData.publicKey=e})).then((function(){t.matcherData.address=u.libs.crypto.address({publicKey:t.matcherData.publicKey},s.get("code")),t.matcherData.change.dispatch("matcherAddress")})).catch((function(){r=setTimeout(f,3e3)}))}t.matcherData=Object.create(null),t.matcherData.matcherSettingsPromise=Promise.resolve({priceAssets:a.MAINNET_DATA}),t.matcherData.settings={priceAssets:a.MAINNET_DATA},t.matcherData.publicKey=null,t.matcherData.address=null,t.matcherData.change=new c.Signal,s.change.on((function(e){"matcher"===e&&(f(),l())}))},function(e,t,n){const r=n(89),{compareUint8Arrays:i,isPair:s,isEmptyArray:o}=n(96),a=n(97),u=n(98),c=n(99),l=a.map(e=>e.id),f=u.map(e=>e.id),h=c.map(e=>e.id);e.exports.createOrderPair=function(e){var t=Array.prototype.slice,n=e,r=n.length,i=function(e,n){return function(){return n.apply({},e.concat(t.call(arguments)))}},s=function(){var e=t.call(arguments);return e.length<r?i(e,s):n.apply({},t.apply(arguments,[0,r]))};return s}((e,t,n)=>{const s=e.indexOf(t),o=e.indexOf(n),a=Boolean(~s),u=Boolean(~o);switch(!0){case a&&u:return s>o?[t,n]:[n,t];case a&&!u:return[n,t];case!a&&u:return[t,n];default:return i(r.decode(t),r.decode(n))?[t,n]:[n,t]}}),e.exports.MAINNET_DATA=l,e.exports.TESTNET_DATA=f,e.exports.ARBITRARY_DATA=h},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6);t.getAliasesByAddress=function(e){var t=i.getDataService();return r.request({method:function(){return t.aliases.getByAddress(e)}}).then((function(e){return e.data.map((function(e){return e.alias}))}))},t.getAddressByAlias=function(e){var t=i.getDataService();return r.request({method:function(){return t.aliases.getById(e).then((function(e){return e.data}))}})},t.getAliasesByIdList=function(e){var t=i.getDataService();return r.request({method:function(){return t.aliases.getByIdList(e)}}).then((function(e){return e.data}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),s=n(60),o=n(16);function a(e){return r.request({url:i.get("node")+"/addresses/data/"+e})}t.getDataFields=a,t.getDataField=function(e,t){return r.request({url:i.get("node")+"/addresses/data/"+e+"/"+t})},t.getOracleData=function(e){return a(e).then((function(e){var t=s.getProviderData(e);if(t.status===s.RESPONSE_STATUSES.ERROR)return null;var n=s.getProviderAssets(e).filter((function(e){return e.status===s.RESPONSE_STATUSES.OK})).map((function(e){return e.content}));return{oracle:t.content,assets:o.indexBy(o.prop("id"),n)}}))}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__60__},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(4);t.get=function(){return r.privateRequest({url:i.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api_internal")+"/api/v1/user/referral",fetchOptions:{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}}).then((function(e){return e.referred_by}))},t.set=function(e){return r.privateRequest({url:i.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api_internal")+"/api/v1/user/referral",fetchOptions:{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},body:i.stringifyJSON({referred_by:e})}})},t.stats=function(e){var t=i.ConfigService.getConfig("NETWORK.waves_exchange_api_internal");return r.privateRequest({url:t+"/api/v1/user/referral/stats",fetchOptions:{method:"GET"}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(52),s=n(194),o={i:{path:["id"],parser:i.default},t:{path:["timestamp"],parser:i.default},A:{path:["assetPair","amountAsset"],parser:i.default},P:{path:["assetPair","priceAsset"],parser:i.default},S:{path:["type"],parser:i.default},T:{path:["orderType"],parser:i.default},p:{path:["price"],parser:r.default.toBigNumber},a:{path:["amount"],parser:r.default.toBigNumber},f:{path:["fee"],parser:r.default.toBigNumber},F:{path:["feeAsset"],parser:i.default},s:{path:["status"],parser:i.default},q:{path:["filled"],parser:r.default.toBigNumber},Q:{path:["filledFee"],parser:r.default.toBigNumber},r:{path:["avgWeighedPrice"],parser:r.default.toBigNumber},E:{path:["totalExecutedPrice"],parser:r.default.toBigNumber}};t.parseRawOrders=function(e){return e.map((function(e){return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];if(!o[n])return e;try{return s.default(o[n].path,o[n].parser(r),e)}catch(t){return e}}),{})}))},t.ordersToRaw=function(e){return e.map((function(e){var t,n,r,i;return{i:e.id,t:e.timestamp.getTime(),A:e.assetPair.amountAsset.id,P:e.assetPair.priceAsset.id,S:e.type.toUpperCase(),T:e.orderType.toUpperCase(),p:e.price.toTokens(),a:e.amount.toTokens(),f:"0.003",F:null,s:e.status.toUpperCase(),q:e.filled.toTokens(),Q:"0",r:(null===(n=null===(t=e)||void 0===t?void 0:t.avgWeighedPrice)||void 0===n?void 0:n.toString())||"0",E:(null===(i=null===(r=e)||void 0===r?void 0:r.totalExecutedPrice)||void 0===i?void 0:i.toString())||"0"}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48);r.__exportStar(n(123),t),r.__exportStar(n(39),t),r.__exportStar(n(49),t),r.__exportStar(n(127),t),r.__exportStar(n(128),t),r.__exportStar(n(64),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketSubject=void 0;const r=n(39),i=n(49);class s extends i.Subject{constructor(e,t={}){super(),this.url=e,this.options=t,this.socket=null,this.output=new i.Subject,this.destination={},this.subs=new Map,"function"==typeof t.serialize&&(this.serialize=t.serialize),"function"==typeof t.deserialize&&(this.deserialize=t.deserialize)}subscribe(e,t,n){this.socket||this.connect();const r=this.output.subscribe(e,t,n),i=r.unsubscribe;return r.unsubscribe=()=>{0===this.output.observers.length&&this.socket&&this.socket.readyState===this.socket.OPEN&&this.socket.close(),i.call(r)},r}unsubscribe(){this.socket&&this.socket.readyState===this.socket.OPEN&&this.socket.close(),super.unsubscribe()}next(e){"function"==typeof this.destination.next&&this.destination.next(e)}multiplex(e,t,n){return new r.Observable(r=>{try{const t=e(),n=this.serialize(t),r=this.subs.get(n);r?this.subs.set(n,{count:r.count+1,data:t}):(this.subs.set(n,{count:1,data:t}),this.next(t))}catch(e){r.error(e)}const i=this.subscribe(e=>{try{n(e)&&r.next(e)}catch(e){r.error(e)}},e=>r.error(e),()=>r.complete());return()=>{try{const n=e(),r=this.serialize(n),i=this.subs.get(r);i&&i.count>1?this.subs.set(r,{count:i.count-1,data:n}):(this.subs.delete(r),this.next(t()))}catch(e){r.error(e)}i.unsubscribe()}})}connect(){const e=new WebSocket(this.url);e.onopen=t=>{const{onOpen:n}=this.options;"function"==typeof n&&n(t),this.destination={next:t=>{if(1===e.readyState)try{e.send(this.serialize(t))}catch(e){"function"==typeof this.destination.error&&this.destination.error(e)}},error:t=>{t&&t.code&&e.close(t.code,t.reason)},complete:()=>{e.close()}},this.subs.forEach(({data:e})=>{this.next(e)})},e.onerror=e=>{this.output.error(e),this.socket=null},e.onclose=e=>{const{onClose:t}=this.options;"function"==typeof t&&t(e),e.wasClean?this.output.complete():this.output.error(e),this.socket=null},e.onmessage=e=>{try{this.output.next(this.deserialize(e))}catch(e){this.output.error(e)}},this.socket=e}serialize(e){return JSON.stringify(e)}deserialize(e){return JSON.parse(e.data)}}t.WebSocketSubject=s},function(e,t){function n(){}function r(e){this._tree=e,this._ancestors=[],this._cursor=null}n.prototype.clear=function(){this._root=null,this.size=0},n.prototype.find=function(e){for(var t=this._root;null!==t;){var n=this._comparator(e,t.data);if(0===n)return t.data;t=t.get_child(n>0)}return null},n.prototype.findIter=function(e){for(var t=this._root,n=this.iterator();null!==t;){var r=this._comparator(e,t.data);if(0===r)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(r>0)}return null},n.prototype.lowerBound=function(e){for(var t=this._root,n=this.iterator(),r=this._comparator;null!==t;){var i=r(e,t.data);if(0===i)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(i>0)}for(var s=n._ancestors.length-1;s>=0;--s)if(r(e,(t=n._ancestors[s]).data)<0)return n._cursor=t,n._ancestors.length=s,n;return n._ancestors.length=0,n},n.prototype.upperBound=function(e){for(var t=this.lowerBound(e),n=this._comparator;null!==t.data()&&0===n(t.data(),e);)t.next();return t},n.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},n.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},n.prototype.iterator=function(){return new r(this)},n.prototype.each=function(e){for(var t,n=this.iterator();null!==(t=n.next());)if(!1===e(t))return},n.prototype.reach=function(e){for(var t,n=this.iterator();null!==(t=n.prev());)if(!1===e(t))return},r.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},r.prototype.next=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._minNode(e)}else{var t;if(null===this._cursor.right)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===t);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},r.prototype.prev=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._maxNode(e)}else{var t;if(null===this._cursor.left)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===t);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},r.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},r.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},e.exports=n},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),s=n(14),o=n(8),a=n(7),u=n(27),c=n(4),l=function(){function e(){this.change=new s.Signal,this._state=Object.create(null),this._ordersHash=Object.create(null),this._isStarted=!1,this._state.reserved=Object.create(null),this._state.buyOrders=Object.create(null),this._state.liquidateOrders=Object.create(null)}return e.prototype.getState=function(){return this._state},e.prototype.setUser=function(e){if(this._user!==e){this._user=e,this._state.user=e||null;var t=this._isStarted;this.stop(),e&&(this._state.reserved[e]=this._state.reserved[e]||new i.BigNumber(0),this._state.buyOrders[e]=this._state.buyOrders[e]||[],this._state.liquidateOrders[e]=this._state.liquidateOrders[e]||[],t&&this.start())}},e.prototype.start=function(){this._isStarted=!0,this._polling()},e.prototype.stop=function(){this._isStarted=!1,clearTimeout(this._timer)},e.prototype._polling=function(){var e=this;clearTimeout(this._timer),this._isStarted&&this._getNsbtData().catch((function(){return null})).then((function(t){var n=null==t?10:1,r=(o.ConfigService.getInstance().getConfig("nsbt.pollingTime")||1e3)*n;clearTimeout(e._timer),e._timer=setTimeout((function(){return e._polling()}),r)}))},e.prototype.getBuyNsbtSignable=function(e){var t=u.getSignatureApi(),n=this.getBuyNsbtForSign(e);return t.makeSignable(n)},e.prototype.getBuyNsbtForSign=function(e){var t=o.ConfigService.getInstance();return{type:16,data:c.normalizeTxTimestamp({fee:e.fee,call:{function:"instantBuyNsbtOrFail",args:[{type:"integer",value:e.roi}]},timestamp:Date.now(),dApp:t.getConfig("nsbt.auction")||"3PG2vMhK5CPqsCDodvLGzQ84QkoHXCJ3oNP",payment:[e.wavesAmount]})}},e.prototype.getBuyNsbtInSurplusForSign=function(e){var t=o.ConfigService.getInstance();return{type:16,data:c.normalizeTxTimestamp({fee:e.fee,call:{function:"buyNsbtInSurplus",args:[]},timestamp:Date.now(),dApp:t.getConfig("nsbt.auction")||"3PG2vMhK5CPqsCDodvLGzQ84QkoHXCJ3oNP",payment:[e.wavesAmount]})}},e.prototype.getExchangeNsbtSignable=function(e){var t=u.getSignatureApi(),n=this.getExchangeNsbtForSign(e);return t.makeSignable(n)},e.prototype.getExchangeNsbtForSign=function(e){var t=o.ConfigService.getInstance();return{type:16,data:c.normalizeTxTimestamp({fee:e.fee,call:{function:"addLiquidationOrder",args:[]},timestamp:Date.now(),dApp:t.getConfig("nsbt.liqudation")||"3P4PCxsJqMzQBALo8zANHtBDZRRquobHQp7",payment:[e.nsbtAmount]})}},e.prototype.getCancelExchangeOrderSignable=function(e){var t=u.getSignatureApi(),n=o.ConfigService.getInstance(),r=c.normalizeTxTimestamp({fee:e.fee,call:{function:"cancelOrder",args:[{type:"string",value:e.orderId}]},timestamp:Date.now(),dApp:n.getConfig("nsbt.liqudation")||"3P4PCxsJqMzQBALo8zANHtBDZRRquobHQp7",payment:[]});return t.makeSignable({type:16,data:r})},e.prototype._getNsbtData=function(){return Promise.all([this._getPrice(),this._getNsbtPrice(),this._getDeficit(),this._getOrders()])},e.prototype._getNsbtPrice=function(){var e=this,t=o.ConfigService.getInstance().getConfig("nsbt"),n=t.neutrinoApi+"/"+t.pathApiPrice;return a.fetch(n).catch((function(){return{value:e._state.price}})).then((function(t){var n=Number(t);isNaN(n)||n===e._state.nsbtPrice||(e._state.nsbtPrice=n,e.change.dispatch({type:"nsbtPrice",data:n,state:e._state}))}))},e.prototype._getPrice=function(){var e=this,t=o.ConfigService.getInstance(),n=t.getConfig("nsbt.priceOracle")||"3P5Bfd58PPfNvBM2Hy8QfbcDqMeNtzg7KfP",r=t.getConfig("NETWORK.node")+"/addresses/data/"+n+"/price";return a.fetch(r).catch((function(){return{value:e._state.price}})).then((function(t){var n=Number(t.value);n!==e._state.price&&(e._state.price=n,e.change.dispatch({type:"price",data:n,state:e._state}))}))},e.prototype._getDeficit=function(){var e=this,t=this.getNsbtApiUrl()+"/explorer/get_deficit_per_cent";return a.fetch(t).catch((function(){return null})).then((function(t){t=null==t?e._state.deficit:t;var n=o.ConfigService.getInstance().getConfig("nsbt.deficitDelta")||5,r=Math.abs(Number(t))-n,i=Number(t)>=0&&r>=0?-r:r;e._state.deficit!==i&&(e._state.deficit=i,e.change.dispatch({type:"deficit",data:i,state:e._state}))}))},e.prototype._getOrders=function(){var e=this;if(this._user){var t=this._user,n=this.getWavesExchangeNsbtApiUrl()+"/api/v1/forward/neutrino/bonds/user/"+this._user;return a.fetch(n).catch((function(){return null})).then((function(n){if(null!=n){if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return}var r=n,i=r.history,s=r.opened;e._calculateOrders(i,s,t)}}))}},e.prototype._calculateOrders=function(e,t,n){var i=this,s=r(e||[],t||[]).sort((function(e,t){return t.timestamp-e.timestamp})),o=!1,a=!1,u=[],c=[];s.forEach((function(e){switch(e.type){case"buy":case"auction":c.push(e),a=a||i._hasOrderDiff(e);break;case"liquidate":case"liquidation":u.push(e),o=o||i._hasOrderDiff(e)}i._ordersHash[e.id]=e})),o&&this._calculateReserved(t,n),this._state.liquidateOrders[n]=u,this._state.buyOrders[n]=c,n===this._user&&(a&&this.change.dispatch({type:"buyOrders",data:c,state:this._state}),o&&this.change.dispatch({type:"liquidateOrders",data:u,state:this._state}))},e.prototype._hasOrderDiff=function(e){var t=e.id,n=this._ordersHash[t];return!n||(e.status!==n.status||e.filledTotal!==n.filledTotal)},e.prototype._calculateReserved=function(e,t){var n=e.reduce((function(e,t){return"liquidate"===t.type&&(e=e.add(t.total-(t.filledTotal||0))),e}),new i.BigNumber(0));n.eq(this._state.reserved[t])||(this._state.reserved[t]=n,t===this._user&&this.change.dispatch({type:"reserved",data:n,state:this._state}))},e.prototype.getNsbtApiUrl=function(){return o.ConfigService.getInstance().getConfig("nsbt.neutrinoApi")||"https://beta.neutrino.at/api"},e.prototype.getWavesExchangeNsbtApiUrl=function(){return o.ConfigService.getInstance().getConfig("nsbt.wavesExchangeNeutrinoApi")||"https://mainnet-dev.waves.exchange"},e}();t.nsbt=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(26),s=n(150),o=n(153),a=n(154),u=n(155),c=n(50),l=n(28),f=n(156),h=n(157);r.util.Long=u,r.configure();var d=function(){return i.ApiTokenService.getInstance().getTokenById()};function p(e){void 0===e&&(e={});var t=new o.gateways.WavesApi(s.rpcImpl("gateways.WavesApi")),n=new o.gateways.GetWavesAssetBindingsRequest(h.gwAssetBindingsParamsSchema(e));return t.getWavesAssetBindings(n).then(h.gwBindingsSchema)}function g(e){return d().then((function(t){var n=t.accessToken;return function(e,t){return new o.gateways.WavesApi(s.rpcImpl("gateways.WavesApi",t)).getDepositTransferBinding(new o.gateways.GetDepositTransferBindingRequest(h.gwTBParamsSchema(e)))}(e,n).catch((function(){return function(e,t){return new o.gateways.WavesApi(s.rpcImpl("gateways.WavesApi",t)).createDepositTransferBinding(new o.gateways.GetDepositTransferBindingRequest(h.gwTBParamsSchema(e)))}(e,n)})).then(h.gwTBResponseSchema)}))}t.registerAcOrder=function(e){return d().then((function(t){var n=t.accessToken,r=new a.acash.ACashDeposits(s.rpcImpl("acash.ACashDeposits",n)),i=new a.acash.RegisterOrderRequest(h.acRegisterOrderParamsSchema(e));return r.registerOrder(i).then(h.acRegisterOrderSchema)}))},t.getAssets=function(){return new a.acash.ACashDeposits(s.rpcImpl("acash.ACashExchange")).getACashAssets(new a.acash.GetACashAssetsRequest({})).then(h.acAssetsSchema)},t.getAssetsExchangeRate=function(e){var t=new a.acash.ACashDeposits(s.rpcImpl("acash.ACashExchange")),n=new a.acash.GetACashAssetsExchangeRateRequest(h.acExchangeRateParamsSchema(e));return t.getACashAssetsExchangeRate(n).then(h.acExchangeRateSchema)},t.getAssetsExchangeRateUsdHack=function(e){var t=new a.acash.ACashDeposits(s.rpcImpl("acash.ACashExchange")),n=new a.acash.GetACashAssetsExchangeRateRequest(h.acExchangeRateParamsSchema(e));return t.getACashAssetsExchangeRate(n).then(h.acExchangeRateSchema)},t.getWavesAssetBindings=p,t.getOrCreateDepositTransferBinding=g,t.getOrCreateWithdrawTransferBinding=function(e){return d().then((function(t){var n=t.accessToken;return function(e,t){return new o.gateways.WavesApi(s.rpcImpl("gateways.WavesApi",t)).getWithdrawalTransferBinding(new o.gateways.GetWithdrawalTransferBindingRequest(h.gwTBParamsSchema(e)))}(e,n).catch((function(){return function(e,t){return new o.gateways.WavesApi(s.rpcImpl("gateways.WavesApi",t)).createWithdrawalTransferBinding(new o.gateways.GetWithdrawalTransferBindingRequest(h.gwTBParamsSchema(e)))}(e,n)})).then(h.gwTBResponseSchema)}))},t.buyUSDN=function(e){var t=e.recipientAddress;return p({direction:"DEPOSIT",includesWavesAsset:e.asset}).then(c.default(l.default("assetBindings"),f.default)).then((function(e){return g({recipientAddress:t,asset:e.senderAsset.asset})}))}},function(e,t,n){"use strict";e.exports=f;var r,i=n(24),s=i.LongBits,o=i.base64,a=i.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}function h(e,t,n){t[n]=255&e}function d(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}f.create=i.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f},f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},d.prototype=Object.create(u.prototype),d.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(p,10,s.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=s.from(e);return this._push(p,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(p,t.length(),t)},f.prototype.bool=function(e){return this._push(h,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=s.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var y=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var n=f.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},f.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},f._configure=function(e){r=e}},function(e,t,n){"use strict";e.exports=u;var r,i=n(24),s=i.LongBits,o=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")};function f(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw a(this,8);return new s(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}u.create=i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new r(e):l(e)})(e)}:l,u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e;var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__70__},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),s=n(8),o=n(16),a=n(7),u=n(16),c=n(14);t.isMyPublicKey=function(e,t){return!e||t===e},t.isMyAddressOrAlias=function(e,t){var n=a.dataManager.getLastAliases();return e===t||n.includes(e)},t.getTransferType=function(e,n){var r=o.isEmpty(e.senderPublicKey)||t.isMyPublicKey(e.senderPublicKey,n.publicKey),i=t.isMyAddressOrAlias(e.recipient,n.address),a=s.ConfigService.getInstance().getTransactionsTypes().EXTENDED;return r||i?r&&i?a.CIRCULAR:r?a.SEND:a.RECEIVE:a.SPONSORSHIP_FEE},t.typeOfExchange=function(e){var t=e.exchangeType,n=s.ConfigService.getInstance().getTransactionsTypes().EXTENDED;return"buy"===t?n.EXCHANGE_BUY:n.EXCHANGE_SELL},t.getDataType=function(e){var t=s.ConfigService.getInstance().getTransactionsTypes().EXTENDED,n=t.DATA,r=t.DATA_VOTE,i=(Array.isArray(e.data)?e.data:e.data.data).find(u.propEq("key","tokenRating"));return i&&"tokenRating"===i.value?r:n},t.getTemplateType=function(e){var t=e.typeName,n=s.ConfigService.getInstance().getTransactionsTypes().EXTENDED;switch(t){case n.SEND:case n.RECEIVE:case n.MASS_SEND:case n.MASS_RECEIVE:case n.CIRCULAR:return"transfer";case n.ISSUE:case n.REISSUE:case n.BURN:return"tokens";case n.LEASE_IN:case n.LEASE_OUT:return"lease";case n.EXCHANGE_BUY:case n.EXCHANGE_SELL:return"exchange";case n.DATA:return"data";case n.SPONSORSHIP_START:case n.SPONSORSHIP_STOP:return"sponsorship";case n.SPONSORSHIP_FEE:return"sponsorship_fee";case n.SCRIPT_INVOCATION:return"script-invocation";case n.UNKNOWN:return"unknown";default:return t}},t.getTransactionTypeName=function(e,n){var r=s.ConfigService.getInstance().getTransactionsTypes().EXTENDED,o=r.SPONSORSHIP_START,a=r.SPONSORSHIP_STOP;switch(e.type){case i.SIGN_TYPE.TRANSFER:return t.getTransferType(e,n);case i.SIGN_TYPE.MASS_TRANSFER:return t.isMyPublicKey(e.senderPublicKey,n.publicKey)?r.MASS_SEND:r.MASS_RECEIVE;case i.SIGN_TYPE.EXCHANGE:return t.typeOfExchange(e);case i.SIGN_TYPE.LEASE:return t.isMyPublicKey(e.senderPublicKey,n.publicKey)?r.LEASE_OUT:r.LEASE_IN;case i.SIGN_TYPE.CANCEL_LEASING:return r.CANCEL_LEASING;case i.SIGN_TYPE.CREATE_ALIAS:return r.CREATE_ALIAS;case i.SIGN_TYPE.ISSUE:return r.ISSUE;case i.SIGN_TYPE.REISSUE:return r.REISSUE;case i.SIGN_TYPE.BURN:return r.BURN;case i.SIGN_TYPE.UPDATE_ASSET_INFO:return r.UPDATE_ASSET_INFO;case i.SIGN_TYPE.DATA:return t.getDataType(e);case i.SIGN_TYPE.SET_SCRIPT:return(e.script||"").replace("base64:","")?r.SET_SCRIPT:r.SCRIPT_CANCEL;case i.SIGN_TYPE.SPONSORSHIP:return e.minSponsoredAssetFee.getCoins().gt(0)?o:a;case i.SIGN_TYPE.SET_ASSET_SCRIPT:return r.SET_ASSET_SCRIPT;case i.SIGN_TYPE.SCRIPT_INVOCATION:return r.SCRIPT_INVOCATION;default:return r.UNKNOWN}},t.getTransactionAddress=function(e){var t=e.typeName,n=e.sender,r=e.recipient,i=s.ConfigService.getInstance().getTransactionsTypes().EXTENDED;switch(t){case i.RECEIVE:case i.MASS_RECEIVE:case i.ISSUE:case i.REISSUE:case i.LEASE_IN:case i.CREATE_ALIAS:case i.SPONSORSHIP_FEE:case i.SCRIPT_INVOCATION:return n;default:return r}},t.remapTransaction=function(e){return function(n){var i=t.getTransactionTypeName(n,e),o=t.getTemplateType({typeName:i}),u=t.getTransactionAddress({typeName:i,recipient:n.recipient,sender:n.sender}),l=a.dataManager.getLastAliases(),f=r(r({},n),{typeName:i,templateType:o,shownAddress:u}),h=s.ConfigService.getInstance().getTransactionsTypes().EXTENDED;switch(i){case h.BURN:case h.REISSUE:f.name=n.name||c.get(n,"quantity.asset.name")||c.get(n,"amount.asset.name");break;case h.ISSUE:f.quantityStr=n.quantity.toFormat(n.precision);break;case h.MASS_SEND:f.numberOfRecipients=n.transfers.length,f.amount=n.totalAmount;break;case h.MASS_RECEIVE:f.amount=n.transfers.filter((function(t){var n=t.recipient;return n===e.address||-1!==l.indexOf(n)})).map((function(e){return e.amount})).reduce((function(e,t){return e.add(t)}),n.totalAmount.cloneWithTokens(0))}return f}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),u=n(40),c=n(31),l=n(8),f=function(){function e(){}return e.getPayments=function(t){var n=t.senders,r=t.recipient,o=t.type,a=void 0===o?"all":o,l=t.assetId;return i(this,void 0,Promise,(function(){var t,i,o,f,h,d;return s(this,(function(s){switch(s.label){case 0:return[4,Promise.all([e.getPaymentsWithTimeCache(n,r),c.DeFo.getDeFoPricesState(),e.getUsdnPrecision()])];case 1:return t=s.sent(),i=t[0],o=t[1],f=t[2],h=i.reduce((function(e,t){var n;return u.getPayment(t,r,e,null===(n=o[t.assetId])||void 0===n?void 0:n.price,f)}),[]),"all"!==a||l?(d=u.getFilterByType(a),[2,h.filter((function(e){return d(e)&&u.filterByAssetId(e,l)}))]):[2,h]}}))}))},e.getFromServices=function(e){return i(this,void 0,Promise,(function(){var t,n,r,i,u,c,l,f,h,d;return s(this,(function(p){switch(p.label){case 0:t=a.config.get("api"),n=a.config.get("apiVersion"),r=e.count||0,i=e.limit||100,u=r&&r<i?r:i,c=e.path,l=[],h=function(){var i,h,d,p,g,y;return s(this,(function(s){switch(s.label){case 0:return(i=new URL(t)).pathname=n+"/"+c,i.searchParams.append("limit",u.toString()),Object.entries(e.params||{}).forEach((function(e){var t=e[0],n=e[1];Array.isArray(n)?n.forEach((function(e){i.searchParams.append(t,e)})):i.searchParams.append(t,n)})),f&&i.searchParams.append("after",f),[4,a.fetch(i.toString())];case 1:return h=s.sent(),d=h.data,p=h.lastCursor,g=h.isLastPage,f=p&&p===f?null:p,y=d.map((function(e){return e.data})),l=o(l,y),g||null==g||!f||r>0&&l.length>=r||0===l.length?[2,{value:l}]:[2]}}))},p.label=1;case 1:return[5,h()];case 2:return"object"==typeof(d=p.sent())?[2,d.value]:[3,1];case 3:return[2]}}))}))},e.getMassTransfers=function(t,n,r,o){return void 0===t&&(t=[]),void 0===r&&(r=""),void 0===o&&(o=0),i(this,void 0,Promise,(function(){var i,a;return s(this,(function(s){switch(s.label){case 0:i=[],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.getFromServices({params:r?{senders:t,recipient:n,assetId:r}:{senders:t,recipient:n},count:o,path:"transactions/mass-transfer"})];case 2:return a=s.sent(),i=i.concat(a),[3,4];case 3:return s.sent(),[2,[]];case 4:return[2,i]}}))}))},e.getPaymentsWithTimeCache=function(t,n){return e.getMassTransfers(t,n)},e.getUsdnPrecision=function(){var e=(l.ConfigService.getInstance().getConfig("defaultAssets")||[]).find((function(e){return"USDN"===e.ticker}));return e?a.api.assets.get(e.assetId).then((function(e){return e.precision})):Promise.resolve(void 0)},r([u.timeCache(12e5)],e,"getPaymentsWithTimeCache",null),r([u.timeCache(216e5)],e,"getUsdnPrecision",null),e}();t.InvestmentsService=f},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=n(4),u=n(16),c=n(10),l=n(67),f=n(8),h=n(70),d={USD:"DG2xFkPdDwKUoBkzGAhQtLpSGzfXLiCYPEzeKH2Ad24p",BTC:"8LQW8f7P5d5PZM7GtZEBgaqRPGSzS3DfPuiXrURJ4AJS",ETH:"474jTeYx2r2Va35794tCScAXWJG9hU2HcgxzMowaZUnu",WAVES:"WAVES",WEST:"4LHHvYGNKJUg5hj65aGD5vgScvCBmLpdRFtjokvCjSL8"};t.FIAT_USD={id:"USD",name:"USD",decimals:2,type:"FIAT"},t.NEUTRINO_ASSET={id:"USD",name:"USDN",decimals:6,type:"CRYPTO"};var p=3e5,g=6e4,y={WEST:"AC_WEST",WAVES:"AC_WAVES",USDN:"AC_USD",BTC:"BTC"},v=function(){var e=Object.create(null),t=new Promise((function(t,n){e.res=t,e.rej=n}));return t.resolve=e.res,t.reject=e.rej,t},m=function(e){var t=v();return setTimeout(t.resolve,e),t},_=function(){return o.utils.ConfigService.getInstance().getConfig("gateways.wavesFiatGateway.deposit")||[]};t.getRemapAssets=function(){return o.utils.ConfigService.getInstance().getConfig("gateways.wavesFiatGateway.remapAssets")||y},t.getAssets=a.cashed(p,(function(){return o.protoApi.getAssets()})),t.getWavesAssetBindings=a.cashed(p,(function(e){return o.protoApi.getWavesAssetBindings(e)})),t.getAssetsExchangeRate=a.cashed(g,(function(e){return o.protoApi.getAssetsExchangeRate(e)})),t.getOrCreateDepositTransferBinding=a.cashed(g,(function(e){return o.protoApi.getOrCreateDepositTransferBinding(e)})),t.findAllCryptoAssets=function(e){var t=_();return e.filter((function(e){return u.propEq("type","CRYPTO",e)&&t.includes(e.name)}))},t.findAllFiatAssets=function(e){return e.filter((function(e){return u.propEq("type","FIAT",e)}))},t.getAcashCryptoAssets=function(){return t.getAssets().then((function(e){var n=e.assets;return t.findAllCryptoAssets(n)}))},t.getAcashFiatAssets=function(){return t.getAssets().then((function(e){var n=e.assets;return t.findAllFiatAssets(n)}))},t.getAcashAssetBindings=function(){return i(void 0,void 0,void 0,(function(){var e,n,r,i;return s(this,(function(s){switch(s.label){case 0:return e=t.getRemapAssets(),n=Object.keys(e).reduce((function(t,n){return t[e[n]]=n,t}),Object.create(null)),r=_(),[4,t.getWavesAssetBindings({direction:"DEPOSIT"})];case 1:return i=s.sent().assetBindings,[2,{assetBindings:i.filter((function(e){return e.active&&n[e.senderAsset.asset]&&r.includes(n[e.senderAsset.asset])}))}]}}))}))},t.getAllDepositAssetsBindings=function(){return i(void 0,void 0,Promise,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,t.getWavesAssetBindings({direction:"DEPOSIT"})];case 1:return[2,{assetBindings:e.sent()}]}}))}))},t.findAssetBinding=function(e,n){var r=t.getRemapAssets();return e.find((function(e){return r[n.name]?r[n.name]===e.senderAsset.asset:[n.id,n.name].includes(e.senderAsset.asset)}))},t.getPaymentStatus=function(e){return new Promise((function(t){h.WindowAdapter.createSimpleWindowAdapter(e,{origins:location.origin}).then((function(n){new h.Bus(n).once("ready",(function(n){e.close(),t(n)}))}))}))};var b=function(){function e(){var e=this;this.selectedAssetBinding=null,this.selectedPaymentSystem="CARD",this.selectedFiat=t.FIAT_USD,this.selectedCrypto=t.NEUTRINO_ASSET,this.selectedDepositTransfer=null,this.amount=0,this.fetchData=a.cashed(p,(function(){return e.fillData()}))}return Object.defineProperty(e.prototype,"cryptoAssets",{get:function(){return e.cryptoAssets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fiatAssets",{get:function(){return e.fiatAssets},enumerable:!0,configurable:!0}),e.prototype.selectPaymentSystem=function(e){this.selectedPaymentSystem=e||"CARD"},e.prototype.setDefault=function(){return this.selectedFiat=t.FIAT_USD,this.selectedCrypto=t.FIAT_USD,this.selectedPaymentSystem="ACASH",this.setAssetBinding()},e.prototype.getSelectedPaymentSystem=function(e){this.selectedPaymentSystem=e||"CARD"},e.prototype.isUSD=function(){return this.selectedFiat&&this.selectedCrypto&&this.selectedFiat.name===t.FIAT_USD.name&&this.selectedCrypto.name===t.NEUTRINO_ASSET.name},e.prototype.setAssetBinding=function(){return i(this,void 0,Promise,(function(){var e,n,i,a,u,l,f,h,d,p,g,y,_,b;return s(this,(function(s){switch(s.label){case 0:return(e=this._getBinding())?(this.assetBindingDeferred&&this.assetBindingDeferred.reject("Try again"),n=v(),this.assetBindingDeferred=n,[4,m(200)]):(this.selectedAssetBinding=null,[2]);case 1:return s.sent(),this.assetBindingDeferred!==n?[2]:(i=o.utils.ConfigService.getInstance(),a=i.getConfig("gateways.wavesFiatGateway."+e.senderAsset.asset),u=i.getConfig("gateways.wavesFiatGateway.minConf")||{},l=u.flat,f=void 0===l?0:l,h=u.rate,d=void 0===h?1:h,a?(p=a.min,g=a.max,[3,6]):[3,2]);case 2:return s.trys.push([2,5,,6]),y=f,[4,t.getAssetsExchangeRate({senderAsset:e.senderAsset.asset,recipientAsset:"USD",senderAssetAmount:Number(e.senderAmountMin),paymentSystem:this.selectedPaymentSystem})];case 3:return p=y+s.sent().recipientAssetAmount*d,[4,t.getAssetsExchangeRate({senderAsset:e.senderAsset.asset,recipientAsset:"USD",senderAssetAmount:Number(e.senderAmountMax),paymentSystem:this.selectedPaymentSystem})];case 4:return g=s.sent().recipientAssetAmount,[3,6];case 5:return s.sent(),p=null,g=null,[3,6];case 6:_=new c.default(p).roundTo(0,c.default.ROUND_MODE.ROUND_CEIL),b=new c.default(g).roundTo(0,c.default.ROUND_MODE.ROUND_FLOOR),n.resolve(r(r({},e),{senderAmountMin:_,senderAmountMax:b})),this.selectedAssetBinding=r(r({},e),{senderAmountMin:_,senderAmountMax:b}),s.label=7;case 7:return s.trys.push([7,9,,11]),this.assetBindingDeferred=null,[4,n];case 8:return[2,s.sent()];case 9:return s.sent(),[4,this.assetBindingDeferred];case 10:return[2,s.sent()];case 11:return[2]}}))}))},e.prototype.getFiatAssets=function(){return e.fiatAssets||[]},e.prototype.getCryptoAssets=function(){return e.cryptoAssets||[]},e.prototype.setDepositTransfer=function(n){return i(this,void 0,Promise,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:return r=t.findAssetBinding(e.assetBindings,this.selectedCrypto)||null,this.depositTransferBindingDeferred&&this.depositTransferBindingDeferred.reject(),r?(i=v(),this.depositTransferBindingDeferred=i,[4,m(200)]):(this.selectedDepositTransfer=null,[2,{transferBinding:null}]);case 1:if(s.sent(),this.depositTransferBindingDeferred!==i)return[2];s.label=2;case 2:return s.trys.push([2,5,,7]),o=this,[4,t.getOrCreateDepositTransferBinding({recipientAddress:n,asset:r.senderAsset.asset})];case 3:return o.selectedDepositTransfer=s.sent().transferBinding,i.resolve({transferBinding:this.selectedDepositTransfer}),this.depositTransferBindingDeferred=null,[4,i];case 4:return[2,s.sent()];case 5:return a=s.sent(),i.reject(a),[4,this.depositTransferBindingDeferred];case 6:return[2,s.sent()];case 7:return[2]}}))}))},e.prototype.fillData=function(){return i(this,void 0,Promise,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return n=e,[4,t.getAssets()];case 1:return n.assets=i.sent().assets,r=e,[4,t.getAcashAssetBindings()];case 2:return r.assetBindings=i.sent().assetBindings,e.cryptoAssets=t.findAllCryptoAssets(e.assets).map(this.setIcon).filter((function(n){return t.findAssetBinding(e.assetBindings,n)})),e.fiatAssets=t.findAllFiatAssets(e.assets),[2]}}))}))},e.prototype.getLimits=function(){var e,n;return i(this,void 0,Promise,(function(){var r,i,a,u,c,l,f,h=this;return s(this,(function(s){switch(s.label){case 0:return this.limitReject&&this.limitReject.reject(),this.selectedFiat&&this.selectedCrypto?(r=v(),this.limitReject=r,[4,m(200)]):[2,{min:null,max:null}];case 1:return s.sent(),this.limitReject!==r?[2,{min:null,max:null}]:this.selectedAssetBinding?[3,3]:[4,this.setAssetBinding()];case 2:s.sent(),s.label=3;case 3:return this.selectedAssetBinding?(i=function(){var e=h.selectedCrypto.id;return"CARD"===h.selectedPaymentSystem?o.utils.ConfigService.getConfig("gateways.wavesFiatGateway."+e+".maxBuyWithCard"):null},"USD"!==this.selectedFiat.id?[3,4]:(f={min:null===(e=this.selectedAssetBinding)||void 0===e?void 0:e.senderAmountMin.toNumber(),max:null===(n=this.selectedAssetBinding)||void 0===n?void 0:n.senderAmountMax.toNumber()},(c=i())&&(f.max=Math.min(f.max,Number(c))),r.resolve(f),[3,7])):[2,{min:null,max:null}];case 4:return[4,t.getAssetsExchangeRate({senderAsset:"USD",recipientAsset:this.selectedFiat.id,senderAssetAmount:this.selectedAssetBinding.senderAmountMin.toNumber(),paymentSystem:this.selectedPaymentSystem})];case 5:return a=s.sent(),u=this.selectedAssetBinding.senderAmountMax.toNumber(),(c=i())&&(u=Math.min(u,Number(c))),[4,t.getAssetsExchangeRate({senderAsset:"USD",recipientAsset:this.selectedFiat.id,senderAssetAmount:u,paymentSystem:this.selectedPaymentSystem})];case 6:l=s.sent(),f={min:a.recipientAssetAmount,max:l.recipientAssetAmount},r.resolve(f),s.label=7;case 7:return[4,r];case 8:return[2,s.sent()]}}))}))},e.prototype.getAmountData=function(e,n){return void 0===n&&(n=!1),i(this,void 0,Promise,(function(){var r,i,a,u,l,f,h,d;return s(this,(function(s){switch(s.label){case 0:if(!(e=null==e?this.amount:e))return[2,0];s.label=1;case 1:if(s.trys.push([1,12,,13]),n)return[3,10];if(r=this.selectedCrypto.id,!o.utils.ConfigService.getConfig("gateways.wavesFiatGateway."+r+".configurableLimits"))return[3,8];this.limitReject&&this.selectedAssetBinding||this.getLimits(),i=0,a=0,s.label=2;case 2:return s.trys.push([2,4,,6]),[4,this.limitReject];case 3:return u=s.sent(),i=u.min,a=u.max,[3,6];case 4:return s.sent(),[4,this.getLimits()];case 5:return u=s.sent(),i=u.min,a=u.max,[3,6];case 6:return l=e,a<e&&(l=a),i>e&&(l=i),[4,t.getAssetsExchangeRate({recipientAsset:this.selectedCrypto.id,senderAsset:this.selectedFiat.id,senderAssetAmount:l,paymentSystem:this.selectedPaymentSystem})];case 7:return f=s.sent(),[2,this._calculateAmountWithFee(l===e?f.recipientAssetAmount:new c.default(e).mul(f.rate).toNumber())];case 8:return[4,t.getAssetsExchangeRate({recipientAsset:this.selectedCrypto.id,senderAsset:this.selectedFiat.id,senderAssetAmount:e,paymentSystem:this.selectedPaymentSystem})];case 9:return h=s.sent(),[2,this._calculateAmountWithFee(h.recipientAssetAmount)];case 10:return[4,t.getAssetsExchangeRate({recipientAsset:"USD",senderAsset:this.selectedFiat.id,senderAssetAmount:e,paymentSystem:this.selectedPaymentSystem})];case 11:return d=s.sent(),[2,this._calculateAmountWithFee(Number(d.recipientAssetAmount)||0)];case 12:return s.sent(),[2,0];case 13:return[2]}}))}))},e.prototype._calculateAmountWithFee=function(e){var t=(f.ConfigService.getConfig("gateways.wavesFiatGateway.additionalFees")||Object.create(null))[(this.selectedCrypto.id||"USD")+"|"+(this.selectedFiat.id||"USD")]||0,n=new c.default(100).sub(t).div(100);return(n?n.mul(e).toNumber():e)||0},e.prototype.buyWithAcash=function(e){return i(this,void 0,Promise,(function(){var n,r,i,o,a,u,c,f,h;return s(this,(function(s){switch(s.label){case 0:return n=this.selectedDepositTransfer,r=window.open(),[4,this.assetBindingDeferred];case 1:return s.sent(),[4,this.depositTransferBindingDeferred];case 2:if(s.sent(),i=this._getBinding(),!n||!i||i.recipientAsset.asset!==n.assetBinding.recipientAsset.asset||i.senderAsset.asset!==n.assetBinding.senderAsset.asset)throw r.close(),Error("invalid data");s.label=3;case 3:return s.trys.push([3,6,,7]),[4,l.registerAcOrder({address:n.addresses[0],amount:e,senderAsset:this.selectedFiat.id,recipientAsset:this.selectedCrypto.id,paymentSystem:this.selectedPaymentSystem})];case 4:return o=s.sent(),[4,m(100)];case 5:return s.sent(),a=o.queryParameters,r.location.href="https://wallet.advcash.com/sci"+a,[3,7];case 6:throw u=s.sent(),r.close(),u;case 7:return c=null,!1,f=v(),h=function(){clearTimeout(c),r.closed?f.reject("windowClosed"):c=setTimeout((function(){return h()}),1e3)},t.getPaymentStatus(r).then((function(e){"fiatDepositfail"===e.status?(r.close(),f.reject("canceledInAdvCach")):(r.close(),f.resolve(e))})),h(),[4,f];case 8:return[2,s.sent()]}}))}))},e.prototype.setAmount=function(e){this.amount=Number(e)},e.prototype.setPair=function(e,t){this.setFiat(e),this.setCrypto(t)},e.prototype.setFiat=function(t){var n=e.fiatAssets.find((function(e){return e.id===t}));n&&this.selectedFiat&&n.id!==this.selectedFiat.id&&(this.selectedAssetBinding=null,this.selectedDepositTransfer=null),this.selectedFiat=n?r({},n):null},e.prototype.setCrypto=function(t){var n=e.cryptoAssets.find((function(e){return e.id===t}));n&&this.selectedCrypto&&n.id!==this.selectedCrypto.id&&(this.selectedAssetBinding=null,this.selectedDepositTransfer=null),this.selectedCrypto=n?r({},n):null},e.prototype._getBinding=function(){return this.selectedCrypto||(this.selectedAssetBinding=null),t.findAssetBinding(e.assetBindings,this.selectedCrypto)||null},e.prototype.setIcon=function(e){var t,n=null===(t=(f.ConfigService.getInstance().getConfig("defaultAssets")||[]).find((function(t){return t.assetId===d[e.id]})))||void 0===t?void 0:t.icon;return r(r({},e),{iconUrl:n})},e.assets=[],e.cryptoAssets=[],e.fiatAssets=[],e.assetBindings=[],e}();t.Acash=b},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),s=Object(i.a)((function(e,t){return e.apply(this,t)})),o=n(44),a=Object(i.a)((function(e,t){return t>e?t:e})),u=n(51),c=n(28),l=Object(i.a)((function(e,t){return Object(u.default)(Object(c.default)(e),t)})),f=n(43),h=n(17),d=Object(r.a)((function(e){for(var t=Object(h.a)(e),n=t.length,r=[],i=0;i<n;)r[i]=e[t[i]],i+=1;return r}));function p(e,t){return Object(h.a)(t).reduce((function(n,r){return n[r]=e(t[r]),n}),{})}var g=Object(r.a)((function e(t){return t=p((function(t){return"function"==typeof t?t:e(t)}),t),Object(o.a)(Object(f.a)(a,0,l("length",d(t))),(function(){var e=arguments;return p((function(t){return s(t,e)}),t)}))}));t.default=g},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),s=n(76);t.defaultTransform=s.default;var o=n(77),a=n(78),u=n(79),c=n(80),l=n(81),f=n(82),h=n(83),d=n(84),p=function(e){var t=r({},e);if(!t.rootUrl)throw new Error("No rootUrl was presented in options object. Check constructor call.");t.transform||(t.transform=s.default),t.fetch||(t.fetch=i.defaultFetch),t.parse||(t.parse=i.defaultParse),this.getAssets=o.default(t),this.getAssetsByTicker=a.default(t),this.getCandles=u.default(t),this.getPairs=c.default(t),this.getExchangeTxs=l.default(t),this.getTransferTxs=f.default(t),this.getMassTransferTxs=h.default(t),this.aliases=d.default(t)};t.default=p,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(46))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),o=n(46),a=n(25),u=function(e){var t=e.__type,n=e.data,s=i(e,["__type","data"]);switch(t){case o.ApiTypes.List:return n.map(u);case o.ApiTypes.Asset:return c(n);case o.ApiTypes.Alias:return n;case o.ApiTypes.Pair:return l(n);case o.ApiTypes.Transaction:return n;case o.ApiTypes.Candle:return f(n);default:return r({__type:t,data:n},s)}},c=function(e){return null===e?null:new s.Asset(e)},l=a.id,f=function(e){return null===e?null:new s.Candle(e)};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(18),s=n(19),o=function(e){var t=Array.isArray(e)?e:[e];return t.some(r.isNotString)?Promise.reject(new Error("ArgumentsError: AssetId should be string")):Promise.resolve(t)},a=function(e){return function(t){return s.createRequest(e+"/assets",{ids:t})}};t.default=function(e){return i.createMethod({validate:o,generateRequest:a,libOptions:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n(19),s=function(e){return"string"!=typeof e?Promise.reject(new Error("ArgumentsError: Ticker should be string")):Promise.resolve(e)},o=function(e){return function(t){return i.createRequest(e+"/assets",{ticker:t})}};t.default=function(e){return r.createMethod({validate:s,generateRequest:o,libOptions:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n(19),s=["timeStart","timeEnd","interval","matcher"],o=function(e){return Array.isArray(e)&&3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]&&("object"==typeof(t=e[2])&&Object.keys(t).every((function(e){return s.includes(e)})));var t},a=function(e){return o(e)?Promise.resolve(e):Promise.reject("Wrong filters object")},u=function(e){return function(t){var n=t[0],r=t[1],s=t[2];return i.createRequest(e+"/candles/"+n+"/"+r,s)}};t.default=function(e){return r.createMethod({validate:a,generateRequest:u,libOptions:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(18),s=n(19),o=function(e){switch(!0){case"string"==typeof e:return 2===e.split("/").length;case"object"==typeof e:return r.AssetPair.isAssetPair(e);default:return!1}},a=function(e){return function(t){var n=[e,t];return function(e){return Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&(Array.isArray(e[1])?e[1]:[e[1]]).every(o)}(n)?Promise.resolve(n):Promise.reject(new Error("ArgumentsError: AssetPair should be object with amountAsset, priceAsset"))}},u=function(e){return function(t){var n=t[0],r=t[1];return s.createRequest(e+"/pairs",{pairs:r.map((function(e){return e.toString()})),matcher:n})}};t.default=function(e){return function(t){return i.createMethod({validate:a(t),generateRequest:u,libOptions:e})}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),s=n(19),o=function(e){return"string"==typeof e?Promise.resolve(e):Promise.reject("Wrong id")},a=function(e){return function(t){return s.createRequest(e+"/transactions/exchange/"+t)}},u=function(e){return function(e){var t=["timeStart","timeEnd","limit","sort","matcher","sender","amountAsset","priceAsset","after"];return"object"==typeof e&&Object.keys(e).every((function(e){return t.includes(e)}))}(e)?Promise.resolve(e):Promise.reject("Wrong filters object")},c=function(e){return function(t){return s.createRequest(e+"/transactions/exchange",t)}};t.default=function(e){var t=i.createMethod({validate:o,generateRequest:a,libOptions:e}),n=i.createMethod({validate:u,generateRequest:c,libOptions:e,addPaginationToArgs:function(e){var t=e.args[0],n=e.cursor,i=e.count;return r({},t,{after:n},i?{limit:i}:{})}});return function(e){return void 0===e&&(e={}),"string"==typeof e?t(e):n(e)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),s=n(19),o=function(e){return"string"==typeof e?Promise.resolve(e):Promise.reject("Wrong id")},a=function(e){return function(t){return s.createRequest(e+"/transactions/transfer/"+t)}},u=function(e){return function(e){var t=["sender","assetId","recipient","after","timeStart","timeEnd","sort","limit"];return"object"==typeof e&&Object.keys(e).every((function(e){return t.includes(e)}))}(e)?Promise.resolve(e):Promise.reject("Wrong filters object")},c=function(e){return function(t){return s.createRequest(e+"/transactions/transfer",t)}};t.default=function(e){var t=i.createMethod({validate:o,generateRequest:a,libOptions:e}),n=i.createMethod({validate:u,generateRequest:c,libOptions:e,addPaginationToArgs:function(e){var t=e.args[0],n=e.cursor,i=e.count;return r({},t,{after:n},i?{limit:i}:{})}});return function(e){return void 0===e&&(e={}),"string"==typeof e?t(e):n(e)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),s=n(19),o=function(e){return"string"==typeof e?Promise.resolve(e):Promise.reject("Wrong id")},a=function(e){return function(t){return s.createRequest(e+"/transactions/mass-transfer/"+t)}},u=function(e){return function(e){var t=["sender","assetId","recipient","after","timeStart","timeEnd","sort","limit"];return"object"==typeof e&&Object.keys(e).every((function(e){return t.includes(e)}))}(e)?Promise.resolve(e):Promise.reject("Wrong filters object")},c=function(e){return function(t){return s.createRequest(e+"/transactions/mass-transfer",t)}};t.default=function(e){var t=i.createMethod({validate:o,generateRequest:a,libOptions:e}),n=i.createMethod({validate:u,generateRequest:c,libOptions:e,addPaginationToArgs:function(e){var t=e.args[0],n=e.cursor,i=e.count;return r({},t,{after:n},i?{limit:i}:{})}});return function(e){return void 0===e&&(e={}),"string"==typeof e?t(e):n(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(18),s=n(19),o=function(e){return r.isNotString(e)?Promise.reject(new Error("ArgumentsError: aliasId should be string")):Promise.resolve(e)},a=function(e){return Array.isArray(e)?Promise.resolve(e):Promise.reject(new Error("ArgumentsError: aliasId should be Array"))},u=function(e){var t=e[0],n=e[1];return r.isNotString(t)?Promise.reject(new Error("ArgumentsError: address should be string")):Promise.resolve([t,n])},c=function(e){return function(t){return s.createRequest(e+"/aliases/"+t)}},l=function(e){return function(t){return s.createRequest(e+"/aliases/?aliases="+t.join(","))}},f=function(e){return function(t){var n=t[0],r=t[1].showBroken;return s.createRequest(e+"/aliases",{address:n,showBroken:r})}};t.default=function(e){return{getById:i.createMethod({validate:o,generateRequest:c,libOptions:e}),getByIdList:i.createMethod({validate:a,generateRequest:l,libOptions:e}),getByAddress:function(t,n){return void 0===n&&(n={}),i.createMethod({validate:u,generateRequest:f,libOptions:e})(t,n)}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),o=n(4),a=n(14),u=n(8),c=function(e,t){if(t=t||"",(e=e||"").trim()===t.trim())return 0;var n=e.split(".").map(Number),r=t.split(".").map(Number);return n.some((function(e,t){return e<r[t]}))?1:-1},l=function(){function e(t){if(void 0===t&&(t=6e4),e._instance)return e._instance;e._instance=this,this.lastFetched=null,this._updates=[],this._news=[],this.lasSuccessFetched=Promise.resolve([]),this.lastTime=0,this.change=new a.Signal,this._stop=!0,this.hasUpdate=!1,this.newestVersion=null,this.currentVersion=null,this.setPeriod(t),this.resetChanges(),this.start()}return Object.defineProperty(e.prototype,"news",{get:function(){return this._news},enumerable:!0,configurable:!0}),e.prototype.getUrl=function(){var e=u.ConfigService.getInstance().getNetworkConfig().configService;return e.url+"/"+e.updatesUrl},e.prototype.resetChanges=function(){this.hasChanges=!1,this.hasUpdate=!1,this.isRollback=!1},e.prototype.start=function(){var e=this;this._stop&&(this._stop=!1),this.lastFetched?this.lastFetched.catch((function(){return e.start()})):this.fetchConfig().then((function(){return o.delay(e.period)})).catch((function(){return o.delay(e.period)})).then((function(){return e._stop?null:e.start()}))},e.prototype.stop=function(){this._stop=!0},e.prototype.setPeriod=function(e){void 0===e&&(e=6e4),this.period=e},e.prototype.fetchConfig=function(){var e=this;if(this.lastFetched)return this.lastFetched;if(Date.now()-this.lastTime<this.period)return this.lasSuccessFetched;var t=Date.now();return this.lastFetched=this._getCurrentVersion().then((function(){return s.fetch(e.getUrl()+"?t="+t,{headers:{"Cache-Control":"no-cache"},cache:"no-cache"})})).then((function(e){return"string"==typeof e?JSON.parse(e):e})).catch((function(){return e.lasSuccessFetched})).then((function(t){return Promise.all([t,e.checkServerVersion()])})).then((function(t){var n=t[0],r=t[1];return e.lasSuccessFetched=e.lastFetched,e.lastFetched=null,0!==c(e.currentVersion,r)&&0!==c(e.newestVersion,r)&&(e.newestVersion=r,e.hasUpdate=!0,e.isRollback=c(e.currentVersion,r)<0),e._validateData(n)})).catch((function(){return e.lastFetched=null,e.lasSuccessFetched})),this.lastTime=Date.now(),this.lastFetched},e.prototype.getLastUpdate=function(){var e=this;if(0===this._updates.length)return null;var t=c(this.currentVersion,this.newestVersion)<0,n=this._updates.find((function(n){return n&&0===c(n.release,e.newestVersion)&&(!t||!!n.rollBack)}));if(!n)return null;var s=n.text,o=n.title,a=n.textType,u=void 0===a?"info":a,l=n.titleType,f=void 0===l?"info":l,h=n.type,d=void 0===h?"info":h,p=i(n,["text","title","textType","titleType","type"]);return r(r({},p),{textType:u,titleType:f,type:d,text:s,title:o})},e.prototype._validateData=function(e){void 0===e&&(e=[]);var t=Date.now();return this._news=(e.filter?e:[]).filter((function(e){return e.timestamp<=t&&e.isNewsItem})),e.length!==this._updates.length&&(this.change.dispatch("update"),this.hasChanges=!0),this._updates=e,this._updates},e.prototype._getCurrentVersion=function(){var e=this;return this.currentVersion?Promise.resolve():this.checkServerVersion().then((function(t){e.currentVersion=t}))},e.prototype.checkServerVersion=function(){return s.fetch("version.json?t="+Date.now(),{headers:{"Cache-Control":"no-cache"},cache:"no-cache"}).then((function(e){return"string"==typeof e?(JSON.parse(e)||{}).version:e.version}))},e}();t.UpdateService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMd=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/^\s*\n\*/gm,"<ul>\n*")).replace(/^(\*.+)\s*\n([^\*])/gm,"$1\n</ul>\n\n$2")).replace(/^\*(.+)/gm,"<li>$1</li>")).replace(/^\s*\n\d\./gm,"<ol>\n1.")).replace(/^(\d\..+)\s*\n([^\d\.])/gm,"$1\n</ol>\n\n$2")).replace(/^\d\.(.+)/gm,"<li>$1</li>")).replace(/^\>(.+)/gm,"<blockquote>$1</blockquote>")).replace(/[^\\][\#]{6}(.+)/g,"<h6>$1</h6>")).replace(/[^\\][\#]{5}(.+)/g,"<h5>$1</h5>")).replace(/[^\\][\#]{4}(.+)/g,"<h4>$1</h4>")).replace(/[^\\][\#]{3}(.+)/g,"<h3>$1</h3>")).replace(/[^\\][\#]{2}(.+)/g,"<h2>$1</h2>")).replace(/[^\\][\#]{1}(.+)/g,"<h1>$1</h1>")).replace(/[\\][\#]/g,"#")).replace(/^(.+)\n\=+/gm,"<h1>$1</h1>")).replace(/^(.+)\n\-+/gm,"<h2>$1</h2>")).replace(/\!\[([^\]]+)\]\(([^\)]+)\)/g,'<img src="$2" alt="$1" />')).replace(/[\[]{1}([^\]]+)[\]]{1}[\(]{1}([^\)\"]+)(\"(.+)\")?[\)]{1}/g,(function(e,t,n,r,i){return'<a href="'+n+'" title="'+(i||"")+'" target="'+(window.origin===new URL(""+n).origin?"":"_blank")+'">'+t+"</a>"}))).replace(/[\*\_]{2}([^\*\_]+)[\*\_]{2}/g,"<b>$1</b>")).replace(/[\*\_]{1}([^\*\_]+)[\*\_]{1}/g,"<i>$1</i>")).replace(/[\~]{2}([^\~]+)[\~]{2}/g,"<del>$1</del>")).replace(/^\s*\n\`\`\`(([^\s]+))?/gm,'<pre class="$2">')).replace(/^\`\`\`\s*\n/gm,"</pre>\n\n")).replace(/[\`]{1}([^\`]+)[\`]{1}/g,"<code>$1</code>")).replace(/^\s*(\n)?(.+)/gm,(function(e){return/\<(\/)?(h\d|ul|ol|li|blockquote|pre|img)/.test(e)?e:"<p>"+e+"</p>"}))).replace(/(\<pre.+\>)\s*\n\<p\>(.+)\<\/p\>/gm,"$1$2")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.inProcess=!1,this.queue=[],this.queue=e,this.channelsAmount=t||1}return e.prototype.startIterate=function(){if(this.inProcess)console.error("Promise queue: Iteration is in process");else for(var e=0;e<this.channelsAmount;e++)this.iterate()},e.prototype.iterate=function(){var e=this;this.inProcess=!0;var t=this.queue.shift();t?t.fn().then((function(n){"function"==typeof t.resolve&&t.resolve(n),e.iterate()})).catch((function(n){"function"==typeof t.resolve&&t.reject(n),e.iterate()})):this.inProcess=!1},e}();t.PromiseQueue=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(32),s=n(4),o=n(9),a=n(10),u=n(3);function c(e,t){var n=l(t);return{pair:t,bids:e.bids.map(n),asks:e.asks.map(n)}}t.get=function(e,t){var n,o=new Promise((function(e,t){n=setTimeout((function(){return t(new Error("Request timeout!"))}),3e3)})),a=i.get(e,t).then((function(e){return clearTimeout(n),u.request({url:r.get("matcher")+"/orderbook/"+e.toString()}).then(s.addParam(c,e))}));return Promise.race([a,o])};var l=function(e){return function(t){return{amount:new o.Money(t.amount,e.amountAsset),price:o.Money.fromTokens(o.OrderPrice.fromMatcherCoins(new a.BigNumber(t.price),e).getTokens(),e.priceAsset)}}}},function(e,t,n){var r=n(90);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(e,t,n){const r=n(91).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);t.fill(255);for(let n=0;n<e.length;n++){const r=e.charAt(n),i=r.charCodeAt(0);if(255!==t[i])throw new TypeError(r+" is ambiguous");t[i]=n}const n=e.length,i=e.charAt(0),s=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function a(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);let o=0;if(" "===e[o])return;let a=0,u=0;for(;e[o]===i;)a++,o++;const c=(e.length-o)*s+1>>>0,l=new Uint8Array(c);for(;e[o];){let r=t[e.charCodeAt(o)];if(255===r)return;let i=0;for(let e=c-1;(0!==r||i<u)&&-1!==e;e--,i++)r+=n*l[e]>>>0,l[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");u=i,o++}if(" "===e[o])return;let f=c-u;for(;f!==c&&0===l[f];)f++;const h=r.allocUnsafe(a+(c-f));h.fill(0,0,a);let d=a;for(;f!==c;)h[d++]=l[f++];return h}return{encode:function(t){if(!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";let s=0,a=0,u=0;const c=t.length;for(;u!==c&&0===t[u];)u++,s++;const l=(c-u)*o+1>>>0,f=new Uint8Array(l);for(;u!==c;){let e=t[u],r=0;for(let t=l-1;(0!==e||r<a)&&-1!==t;t--,r++)e+=256*f[t]>>>0,f[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");a=r,u++}let h=l-a;for(;h!==l&&0===f[h];)h++;let d=i.repeat(s);for(;h<l;++h)d+=e.charAt(f[h]);return d},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error("Non-base"+n+" character")}}}},function(e,t,n){var r=n(92),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(93),i=n(94),s=n(95);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if("Buffer"===t.type&&s(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var s,o=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(s=n;s<a;s++)if(c(e,s)===c(t,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===u)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(n+u>a&&(n=a-u),s=n;s>=0;s--){for(var f=!0,h=0;h<u;h++)if(c(e,s+h)!==c(t,h)){f=!1;break}if(f)return s}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function b(e,t,n,r){return W(q(t,e.length-n),e,n,r)}function w(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return W(F(t),e,n,r)}function O(e,t,n,r){return W(function(e,t){for(var n,r,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,o,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(s=e[i+1]))&&(u=(31&c)<<6|63&s)>127&&(l=u);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(u=(15&c)<<12|(63&s)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(s,o),c=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){s=c[f],o=l[f];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=L(e[s]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function x(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function I(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,s){return s||I(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,s){return s||I(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=u.isBuffer(e)?e:q(new u(e,r).toString()),a=o.length;for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function F(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(57))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],o=n[1],a=new s(function(e,t,n){return 3*(t+n)/4-n}(0,r,o)),u=0,l=o>0?r-4:r,f=0;f<l;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;2===o&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,a[u++]=255&t);1===o&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(l(e,o,o+16383>a?a:o+16383));1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,s,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+e[t+f],f+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+e[t+f],f+=h,l-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=c}return(d?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(a=0,o=l):o+f>=1?(a=(t*u-1)*Math.pow(2,i),o+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+d]=255&o,d+=p,o/=256,c-=8);e[n+d-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports={compareUint8Arrays:(e,t)=>e.toString("hex")>t.toString("hex"),isPair:e=>Array.isArray(e)&&2===e.length&&e.every(e=>"string"==typeof e||null===e),isEmptyArray:e=>Array.isArray(e)&&0===e.length}},function(e){e.exports=JSON.parse('[{"ticker":"USD","id":"Ft8X1v1LTa1ABafufpaCWyVj8KkaxUWE6xBhW6sNFJck"},{"ticker":"EUR","id":"Gtb1WRznfchDnTh37ezoDTJ4wcoKaRsKqKjJjy7nm2zU"},{"ticker":"CNY","id":"DEJbZipbKQjwEiRjx2AqQFucrj5CZ3rAc4ZvFM8nAsoA"},{"ticker":"TRY","id":"2mX5DzVKWrAJw8iwdJnV2qtoeVG9h5nTDpTqC1wb1WEN"},{"ticker":"BTC","id":"8LQW8f7P5d5PZM7GtZEBgaqRPGSzS3DfPuiXrURJ4AJS"},{"ticker":"WAVES","id":"WAVES"},{"ticker":"BCH","id":"zMFqXuoyrn5w17PFurTqxB7GsS71fp9dfk6XFwxbPCy"},{"ticker":"ETH","id":"474jTeYx2r2Va35794tCScAXWJG9hU2HcgxzMowaZUnu"},{"ticker":"LTC","id":"HZk1mbfuJpmxU1Fs4AX5MWLVYtctsNcg6e2C6VKqK8zk"},{"ticker":"DASH","id":"B3uGHFRpSUuGEDWjqB9LWWxafQj8VTvpMucEyoxzws5H"},{"ticker":"Monero","id":"5WvPKSJXzVE2orvbkJ8wsQmmQKqTv9sGBPksV4adViw3"},{"ticker":"ZEC","id":"BrjUWjndUanm5VsJkbUip8VRYy6LWJePtxya3FNv4TQa"}]')},function(e){e.exports=JSON.parse('[{"ticker":"WAVES","id":"WAVES"},{"ticker":"BTC","id":"Fmg13HEHJHuZYbtJq8Da8wifJENq8uBxDuWoP9pVe2Qe"},{"ticker":"USD","id":"HyFJ3rrq5m7FxdkWtQXkZrDat1F7LjVVGfpSkUuEXQHj"},{"ticker":"EUR","id":"2xnE3EdpqXtFgCP156qt1AbyjpqdZ5jGjWo3CwTawcux"},{"ticker":"CNY","id":"6pmDivReTLikwYqQtJTv6dTcE59knriaodB3AK8T9cF8"}]')},function(e){e.exports=JSON.parse('[{"ticker":"WAVES","id":"WAVES"}]')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(4),s=n(6);t.getRates=function(e,t){return r.request({url:s.get("api")+"/"+s.get("apiVersion")+"/matchers/"+e+"/rates",fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:i.stringifyJSON({pairs:t.map((function(e){return e.join("/")}))})}})}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r},i=this;Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),o=n(10),a=n(8),u=n(9),c=n(7),l=n(102),f=function(e,t,n){var r=e.senderPublicKey;if(!r||t===r)return Promise.resolve(n);var o=s.libs.crypto.address({publicKey:r},i.code);return c.api.address.getScriptInfo(o).then((function(e){return e.extraFee.getTokens().gt(0)}))};t.getFeeList=function(e){var t=a.ConfigService.getInstance().getFeeConfig(),n=e.getCoins().div(t.calculate_fee_rules.default.fee).roundTo(0,o.BigNumber.ROUND_MODE.ROUND_UP),i=c.utils.getTransferFeeList().map((function(e){return e.cloneWithTokens(e.getTokens().mul(n))}));return Promise.resolve(r([e],i))},t.getFeeByTx=function(e){var t=e.tx,n=e.userPublicKey,r=e.hasScript,i=a.ConfigService.getInstance().getFeeConfig();return Promise.all([l.getHasScriptAssets(t),f(t,n,r)]).then((function(e){var n=e[0],r=e[1];return c.signature.getSignatureApi().makeSignable({type:t.type,data:t}).getFee(i,r,n)}))},t.getFeeListByTx=function(e){var n=e.tx,r=e.userPublicKey,i=e.hasScript;return Promise.all([t.getFeeByTx({tx:n,userPublicKey:r,hasScript:i}),c.api.assets.get("WAVES")]).then((function(e){var n=e[0],r=e[1];return t.getFeeList(new u.Money(n,r))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(16),s=n(7);t.getHasScriptAssets=function(e){var t=[],n=[],o=function(e){"string"!=typeof e?e instanceof r.Money&&e.asset.hasScript?n.push(e.asset.id):e&&"assetId"in e&&"amount"in e?t.push(e.assetId):e instanceof Array&&e.forEach(o):t.push(e)};return[["amount"],["fee"],["assetId"],["transfers",0,"amount"],["payment"]].forEach((function(t){var n=i.path(t,e);o(n)})),s.api.assets.get(t).then((function(e){return n.concat(e.filter((function(e){return e.hasScript})).map((function(e){return e.id})))}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),s=n(6),o=n(15),a=n(9),u=n(7);t.getScriptInfo=function(e){return Promise.all([o.get("WAVES"),i.request({url:s.get("node")+"/addresses/scriptInfo/"+e})]).then((function(e){var t=e[0],n=e[1];return r(r({},n),{extraFee:new a.Money(n.extraFee,t)})}))},t.getAddressData=function(e){var t=e.contractAddress,n=e.keys,r=u.config.get("node");return u.fetch(r+"/addresses/data/"+t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({keys:n})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(10),s=n(3),o=n(6);t.getLastPrice=function(e){return s.request({url:o.get("matcher")+"/orderbook/"+e.amountAsset.id+"/"+e.priceAsset.id+"/status"}).then((function(t){var n=t.lastPrice,s=t.lastSide,o=new r.OrderPrice(new i.BigNumber(n),e).getTokens();return{price:new r.Money(0,e.priceAsset).cloneWithTokens(o),lastSide:s}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6);t.getPairRestrictions=function(e){return r.request({url:i.get("matcher")+"/orderbook/"+e.amountAsset.id+"/"+e.priceAsset.id+"/info"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6);t.getFeeRates=function(){return r.request({url:i.get("matcher")+"/settings/rates"})},t.getSettings=function(){return r.request({url:i.get("matcher")+"/settings"})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),s=n(3),o=n(9),a=n(16),u=n(7),c=n(31),l=n(32),f=function(e,t){return e.map((function(e){var n,i=function(e,t){return r(r({},e),{amountAsset:t[e.amountAssetID],priceAsset:t[e.priceAssetID]})}(e,c.utils.toHash(t,"id")),s=l.moneyOrNull(i),a=function(e,t){return e&&o.Money.fromTokens(e,t)||null},u=i.amountAssetID,f=i.priceAssetID,h=i["24h_close"],d=i["24h_open"],p=i["24h_high"],g=i["24h_low"],y=i["24h_volume"],v=i["24h_priceVolume"],m=i.amountAsset,_=i.priceAsset,b=s(h),w=s(d),A=s(p),S=s(g),O=a(y,m),T=a(v,_);"WAVES"===m.id?n=O:"WAVES"===_.id&&(n=T);var P=l.change24F(w&&w.getTokens(),b&&b.getTokens()),E=m.displayName+" / "+_.displayName,C=[u,f],k=[u,f].sort().join();return P.gt(1e3)&&(P=P.roundTo(0)),{amountAsset:m,priceAsset:_,lastPrice:b,firstPrice:w,volumeAmount:O,volumePrice:T,volumeWaves:n,change24:P,pairIdList:C,high:A,low:S,pairNames:E,id:k}}))};t.getPairsFromMarketData=function(){var e=i.ConfigService.getInstance().getConfig("NETWORK.marketdata");return s.request({url:e}).then((function(e){var t=a.uniq(a.flatten(e.map((function(e){return[e.amountAssetID,e.priceAssetID]}))));return u.api.assets.get(t).then((function(t){return f(e,t)}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(4),s=n(6),o=n(8);t.getAssetsRating=function(e){var t=o.ConfigService.getInstance(),n=(t&&t.getConfig("defaultAssets")||[]).map((function(e){return e.assetId})),a=i.toArray(e).filter((function(e){return!n.includes(e)}));return r.request({url:s.get("tokenrating")+"/api/v1/token/",fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:i.stringifyJSON({assetIds:a,page:1,limit:25})}}).then((function(e){return Object.values(e).map((function(e){return{assetId:e.assetId,rating:e.averageScore}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(7),s=n(32),o=n(8),a=Object.create(null);t.getRate=function(e,t){var n=s.toId(e),u=s.toId(t);return n===u?Promise.resolve(new r.BigNumber(1)):function(e,t,n){void 0===n&&(n=35e4);var s=e+"/"+t,u=Date.now();if(a[s]&&a[s].time+n>u)return Promise.resolve(a[s].value);var c=o.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api_internal");return i.fetch(c+"/api/v1/rates",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({pairs:[s]})}).then((function(e){var t=e.data,n=new r.BigNumber(t[0].data.rate);return a[s]={value:n,time:Date.now()},n}))}(n,u)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),s=n(8);t.sendEmail=function(e){var t=s.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api_internal")+"/api/v1/email";return e=r({topic:"",name:"",message:""},e),i.request({fetchOptions:{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)},url:t})};var o=function(e){return e instanceof Array?0===e.length:""===e||!function(e){return null!=e}(e)};t.emailValidators={isEmail:function(e){return!o(e)&&function(e,t){var n=t instanceof RegExp?t:new RegExp(t);return o(e)||n.test(e)}(e,/([!#-'*+/-9=?A-Z^-~-]+(\.[!#-'*+/-9=?A-Z^-~-]+)*|"([]!#-[^-~ \t]|(\\[\t -~]))+")@([!#-'*+/-9=?A-Z^-~-]+(\.[!#-'*+/-9=?A-Z^-~-]+)*|\[[\t -Z^-~]*])/i)},isEmpty:function(e){return o(e)},required:function(e){return!o(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(7);t.get=function(e){var t=r.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api_internal");return i.fetch(t+"/api/v1/state/search",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:e})}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(113)),r(n(114))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),o=n(8),a=n(3);t.getDeFoConfig=function(){return o.ConfigService.getConfig("defoPools")};var u="%s%s__price__",c="%s%s__isMarketOpened__",l=function(){var e=t.getDeFoConfig(),n=s.getNodeUrl();try{var r=e.priceOracleAddress,i=e.assets.reduce((function(e,t){return e.push(""+u+t.code),e.push(""+c+t.code),e}),[]),o=n+"/addresses/data/"+r,l={method:"POST",body:JSON.stringify({keys:i}),headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}};return a.request({url:o,fetchOptions:l})}catch(e){return console.error(e),Promise.reject(e)}};t.getDeFoPrices=function(){return r(void 0,void 0,Promise,(function(){var e,n,r,s;return i(this,(function(i){switch(i.label){case 0:return e=t.getDeFoConfig(),n=e.assets,r=void 0===n?[]:n,[4,l()];case 1:return s=i.sent(),[2,r.reduce((function(e,t){var n,r,i=s.find((function(e){return e.key.includes(""+u+t.code)})),o=s.find((function(e){return e.key.includes(""+c+t.code)})),a={id:t.id,code:t.code,price:(null===(n=i)||void 0===n?void 0:n.value)||null,isMarketOpen:!!(null===(r=o)||void 0===r?void 0:r.value)};return e[t.id]=a,e[t.code]=a,e}),Object.create(null))]}}))}))},t.getDeFoPricesState=s.cashed(1e4,t.getDeFoPrices)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(4),s=n(7),o=n(9),a=n(15);t.getMaxAllowedAmountToRedeem=function(e){var t=e.poolCode,n=e.userAddress,u=e.dAppAddress,c=s.config.get("code").charCodeAt(0),l=i.ConfigService.getInstance().getConfig("defoPools").scriptInvocationSeed,f=new(r.getAdapterByType("seed"))(l,c),h=i.normalizeTxTimestamp({fee:new o.Money(9e5,a.wavesAsset),call:{function:"getMaxAllowedAmountToRedeem",args:[{key:"assetCode",type:"string",value:t},{key:"poolMaker",type:"string",value:n}]},timestamp:Date.now(),dApp:u,payment:[]});return f.makeSignable({type:r.SIGN_TYPE.SCRIPT_INVOCATION,data:h}).getDataForApi().then(s.api.node.debug).then((function(e){return!e.valid&&e.error?i.parseStringToObject(e.error):{}})).catch((function(e){return e&&306===e.error?i.parseStringToObject(e.message):{}}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),s=n(36),o=n(8),a=n(58),u=n(116),c=n(6),l=n(59),f=n(60),h=n(117),d=n(122),p=n(63),g=n(129),y=n(134),v=n(66),m={loaded:!1,error:!1},_=function(){function e(){var e=this;this.orderbookSubject=new p.BehaviorSubject(m),this.assetPairSubject=new p.BehaviorSubject(void 0),this.addressSubject=new p.BehaviorSubject(void 0),this._silentMode=!1,this._limitPolling=!1,this.pollControl=new u.PollControl((function(){return e._createPolls()})),c.change.on((function(t){"oracleWaves"!==t||e._silentMode||e.pollControl.restart("oracleWaves")})),window.addEventListener("online",(function(){e.ensureMatcherWebSocket()})),window.addEventListener("offline",(function(){e.cleanUpMatcherWebSocket(),e.orderbookSubject.next(m)}))}return e.prototype.setAssetPair=function(e){var t,n,r,i,s=this.assetPairSubject.getValue();(null===(t=s)||void 0===t?void 0:t.amountAsset.id)===(null===(n=e)||void 0===n?void 0:n.amountAsset.id)&&(null===(r=s)||void 0===r?void 0:r.priceAsset.id)===(null===(i=e)||void 0===i?void 0:i.priceAsset.id)||(this.assetPairSubject.next(e),this._connectOrderbook(this.ensureMatcherWebSocket()))},e.prototype.applyAddress=function(e,t){this.dropAddress(),this._address=e,v.nsbt.setUser(e),this._limitPolling=t,this.pollControl.create(),this.matcherService=new h.MatcherService(e),this.matcherService.subscribeAddressUpdates(this.ensureMatcherWebSocket()),this.addressSubject.next(e)},e.prototype.dropAddress=function(){this.matcherService&&(this.matcherService.destroy(),this.matcherService=void 0),this._address=void 0,v.nsbt.setUser(null),this.pollControl.destroy(),this.addressSubject.next(void 0)},e.prototype.getAliasesPromise=function(){return this.pollControl.getPollHash().aliases.getDataPromise()},e.prototype.getLastAliases=function(){return this.pollControl.getPollHash().aliases.lastData||[]},e.prototype.getOracleAssetDataByOracleName=function(e,t){void 0===t&&(t="oracleWaves");var n=this.pollControl.getPollHash(),s=i.path([t,"lastData"],n),a=s&&s.assets||Object.create(null),u=o.ConfigService.getInstance().getConfig("GATEWAYS_SOON")||[],c=window.angular.element(document.body).injector().get("baseAssetService").getGateWaysAssetHash(),l={status:3,version:f.DATA_PROVIDER_VERSIONS.BETA,id:e,provider:"WavesPlatform",ticker:null,link:null,email:null,logo:null},h=r(r({},l),{status:4});return u.includes(e)?h:c[e]?l:a[e]?r(r({},a[e]),{provider:s.oracle.name}):null},e.prototype.getOraclesAssetData=function(e){var t=this.getOracleAssetDataByOracleName(e,"oracleWaves"),n=this.getOracleAssetDataByOracleName(e,"oracleTokenomica");return t||n},e.prototype.getOracleData=function(e){return this.pollControl.getPollHash()[e].lastData},e.prototype.ensureMatcherWebSocket=function(){var e=this;if(!this._matcherWebSocket){var t=o.ConfigService.getInstance().getConfig("NETWORK.matcher"),n="wss://"+new URL(t).hostname+"/ws/v0";window.clearTimeout(this._connectMatcherTimeout),this._matcherWebSocket=p.webSocket(n,{onOpen:function(){e.assetPairSubject.getValue()&&!e._orderbookSubscription&&e._connectOrderbook(e._matcherWebSocket),e.matcherService&&e.matcherService.subscribeAddressUpdates(e._matcherWebSocket)},onClose:function(){e.cleanUpMatcherWebSocket(),window.navigator.onLine&&(e._connectMatcherTimeout=window.setTimeout((function(){e.ensureMatcherWebSocket()}),5e3))}}),this._matcherWebSocket.subscribe((function(t){if("pp"===t.T)e._matcherWebSocket.next(t);else if("e"===t.T)switch(t.c){case y.MatcherErrors.WsConnectionPongTimeout:case y.MatcherErrors.SubscriptionTokenExpired:e.cleanUpMatcherWebSocket();break;default:console.warn("Matcher WS: %s",t.m)}}),(function(t){e.orderbookSubject.next({error:!0,loaded:!0});var n=t instanceof CloseEvent?t.reason||t.code:String(t);console.error("Matcher WS Error: %s",n)}))}return this._matcherWebSocket},e.prototype.cleanUpMatcherWebSocket=function(){this._orderbookSubscription&&(this._orderbookSubscription.unsubscribe(),this._orderbookSubscription=void 0),this._matcherWebSocket&&(this._matcherWebSocket.unsubscribe(),this._matcherWebSocket=void 0)},e.prototype._connectOrderbook=function(e){var t=this;this._orderbookSubscription&&(this._orderbookSubscription.unsubscribe(),this.orderbookSubject.next(m));var n=this.assetPairSubject.getValue();if(n){this.orderbookSubject.next(m);var i=n.amountAsset.id+"-"+n.priceAsset.id;this._orderbookSubscription&&this._orderbookSubscription.unsubscribe(),this._orderbookSubscription=g.orderbook(e,i,80).subscribe((function(e){var i=d.parse({asks:(e.asks||[]).slice(0,80),bids:(e.bids||[]).slice(0,80),lastTrade:e.lastTrade});t.orderbookSubject.next(r({error:!1,loaded:!0,pair:n},i))}),(function(e){console.error("Matcher WS OrderBook Error: %s",String(e))}))}},e.prototype._getPollAliasesApi=function(){var e=this;return{get:function(){return a.getAliasesByAddress(e._address)},set:function(){return null}}},e.prototype._getPollOracleApi=function(e){var t=this;return{get:function(){return t._limitPolling?Promise.resolve(null):e?l.getOracleData(e):Promise.resolve({assets:Object.create(null)})},set:function(){return null}}},e.prototype._createPolls=function(){return{aliases:new s.Poll(this._getPollAliasesApi(),1e4),oracleWaves:new s.Poll(this._getPollOracleApi(c.get("oracleWaves")),3e4),oracleTokenomica:new s.Poll(this._getPollOracleApi(c.get("oracleTokenomica")),3e4)}},e}();t.DataManager=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.paused=!1,this._create=e}return e.prototype.restart=function(e){e&&this._hash&&this._hash[e]?this._hash[e].restart():this._hash&&Object.values(this._hash).forEach((function(e){return e.restart()}))},e.prototype.pause=function(){this.paused=!0,this._hash&&Object.values(this._hash).forEach((function(e){return e.pause()}))},e.prototype.play=function(){this.paused=!1,this._hash&&Object.values(this._hash).forEach((function(e){return e.play()}))},e.prototype.destroy=function(){this._hash&&(Object.values(this._hash).forEach((function(e){return e.destroy()})),this._hash=null)},e.prototype.create=function(){this.destroy(),this._hash=this._create(),this.paused&&this.pause()},e.prototype.getPollHash=function(){return this._hash},e}();t.PollControl=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(118),u=n(120),c=n(14),l=n(36),f=n(9),h=n(15),d=n(10),p=n(12),g=n(38),y=n(37),v=n(62),m=n(193),_=n(28),b=n(26),w=n(4),A=function(){function e(e){var t=this;this.address=e,this.signals={changeBalance:new c.Signal,changeOrders:new c.Signal},this.leaseOut={},this.balanceCache=new a.BalancesCache,this.ordersCache=new u.OrdersCache,this.assets=Object.create(null),this.balances=Object.create(null),this.defoInvestments={},this.poll=new l.Poll({get:this.getLeaseOutData.bind(this),set:this.setLeaseOutData.bind(this)},1500),h.balanceList(e),g.getOrders({isActive:!1}).then((function(e){var n=t.ordersCache.get().length,r=t.ordersCache.set({o:v.ordersToRaw(e)},{append:!0});r&&t.loadAssets(g.getAssetsFromOrderList(r)).then((function(){n&&t.signals.changeOrders.dispatch([])}))}))}return e.prototype.getBalancesHash=function(){return r({},this.balances)},e.prototype.getBalances=function(){var e=this.balances[p.WAVES_ID],t=Object.values(this.balances).filter((function(e){return e.asset.id!==p.WAVES_ID})).sort((function(e,t){return e.asset.name>t.asset.name?1:e.asset.name<t.asset.name?-1:0}));return e?o([e],t):t},e.prototype.getOrders=function(){var e=g.remapOrder(y.getFactory(!0))(this.assets);return this.ordersCache.get().map((function(t){return e(t)}))},e.prototype.destroy=function(){this.poll.destroy(),this.addressUpdatesSubscription.unsubscribe(),this.signals.changeBalance.off(),this.signals.changeOrders.off()},e.prototype.subscribeAddressUpdates=function(e){return i(this,void 0,Promise,(function(){var t,n=this;return s(this,(function(r){switch(r.label){case 0:return this.addressUpdatesSubscription&&this.addressUpdatesSubscription.unsubscribe(),[4,(new b.ApiTokenService).getTokenById()];case 1:return t=r.sent().accessToken,this.addressUpdatesSubscription=e.multiplex((function(){return{T:"aus",S:n.address,t:"jwt",j:t}}),(function(){return{T:"u",S:n.address}}),(function(e){return"au"===e.T&&e.S===n.address})).subscribe((function(e){n.onChangeBalanceData(e)})),this.onChangeBalanceData({b:{WAVES:[0,0]}}),[2]}}))}))},e.prototype.setLeaseOutData=function(e){var t=this,n=e.stakingData,i=e.defoData,s=Object.entries(n).reduce((function(e,n){var r=n[0],i=n[1];return t.leaseOut[r]&&t.leaseOut[r].eq(i)||(e[r]=i),e}),{}),o=Object.entries(i).reduce((function(e,n){var r=n[0],i=n[1];return t.defoInvestments[r]&&w.equalsMoneyMap(t.defoInvestments[r],i)||(e[r]=i),e}),{}),a=Object.entries(s).reduce((function(e,n){var i,s=n[0],o=n[1],a=t.balances[s];return a?Object.assign(e,((i={})[s]=r(r({},a),{leasedOut:o,regular:a.available.add(a.inOrders).add(t.getDefoInvestmentsBalance(a)).add(o)}),i)):(e[s]={asset:o.asset,available:new f.Money(0,o.asset),inOrders:new f.Money(0,o.asset),leasedIn:new f.Money(0,o.asset),leasedOut:o,regular:o,defoInvestments:null},e)}),{});a=Object.entries(o).reduce((function(e,n){var i,s=n[0],o=n[1],a=Object.values(o);if(!a.length)return e;var u=Object.values(o)[0].asset,c=a.reduce((function(e,t){return e.add(t)}),new f.Money(0,u)),l=e[s]||t.balances[s];return l?Object.assign(e,((i={})[s]=r(r({},l),{regular:l.available.add(l.inOrders).add(l.leasedOut).add(c),defoInvestments:o}),i)):(e[s]={asset:u,available:new f.Money(0,u),inOrders:new f.Money(0,u),leasedIn:new f.Money(0,u),leasedOut:new f.Money(0,u),regular:c,defoInvestments:o},e)}),a),Object.assign(this.leaseOut,s),Object.assign(this.defoInvestments,o),Object.assign(this.balances,a),Object.keys(a).length&&this.signals.changeBalance.dispatch(a)},e.prototype.getLeaseOutData=function(){return Promise.all([h.getStakingBalances(this.address),h.wavesBalance(this.address),h.getDefoInvestmentsBalance(this.address)]).then((function(e){var t=e[0],n=e[1],i=e[2];return{stakingData:r(r({},t),{WAVES:n.leasedOut}),defoData:i}}))},e.prototype.onChangeBalanceData=function(e){var t=this,n=this.balanceCache.set(e),r=this.ordersCache.set(e);if(n&&Object.keys(n).length){var i=Object.keys(n).filter((function(e){return!t.assets[e]}));this.loadAssets(i).then((function(){t.setBalances(n)}))}r&&Object.keys(r).length&&this.loadAssets(g.getAssetsFromOrderList(r)).then((function(){t.signals.changeOrders.dispatch([])}))},e.prototype.setBalances=function(e){var t=this,n=Object.entries(e).reduce((function(e,n){var r=n[0],i=n[1],s=t.assets[r];if(!s)return e;var o=new f.Money(d.BigNumber.toBigNumber(i.reserved).mul(Math.pow(10,s.precision)),s),a=t.leaseOut[r]||new f.Money(0,s),u=t.defoInvestments[r],c=u&&Object.values(u).reduce((function(e,t){return e.add(t)}),new f.Money(0,s))||new f.Money(0,s),l=new f.Money(d.BigNumber.toBigNumber(i.tradable).mul(Math.pow(10,s.precision)),s),h=o.add(l).add(a).add(c);return s.id!==p.WAVES_ID&&h.getTokens().isZero()?(delete e[r],delete t.balances[r]):e[r]={asset:s,regular:h,inOrders:o,available:l,leasedOut:a,leasedIn:new f.Money(0,s),defoInvestments:u||null},e}),{});Object.assign(this.balances,n),Object.keys(n).length&&this.signals.changeBalance.dispatch(n)},e.prototype.loadAssets=function(e){var t=this,n=e.filter((function(e){return!t.assets[e]}));return n.length?h.get(n).then((function(e){Object.assign(t.assets,m.default(_.default("id"),e))})):Promise.resolve()},e.prototype.getDefoInvestmentsBalance=function(e){return e.defoInvestments&&Object.values(e.defoInvestments).reduce((function(e,t){return e.add(t)}),new f.Money(0,e.asset))||new f.Money(0,e.asset)},e}();t.MatcherService=A},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache=Object.create(null),t}return i(t,e),t.prototype.set=function(e){var t=this.mergeData(e);return Object.assign(this.cache,t),t},t.prototype.mergeData=function(e){return e.b?Object.entries(e.b).reduce((function(e,t){var n,r=t[0],i=t[1],s=i[0],o=i[1];return Object.assign(e,((n={})[r]={assetId:r,reserved:o,tradable:s},n))}),{}):{}},t}(n(119).ApiCache);t.BalancesCache=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.get=function(){return this.cache},e.prototype.clear=function(){var e=this;Object.keys(this.cache).forEach((function(t){delete e.cache[t]}))},e}();t.ApiCache=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62),i=n(121),s=function(){function e(){this.collection=new i.Collection([])}return e.prototype.get=function(){return this.collection.getArray()},e.prototype.set=function(e,t){if(void 0===t&&(t={}),e.o&&e.o.length){var n=r.parseRawOrders(e.o);return t.append,this.collection.prepend(n),n}},e.prototype.clear=function(){var e=this.collection.getArray().map((function(e){return e.id}));this.collection.remove(e)},e}();t.OrdersCache=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=function(){function e(e,t){void 0===t&&(t={idProp:"id"}),this.cache=Object.create(null),this.list=[],this.idProp=t.idProp,this.append(e)}return Object.defineProperty(e.prototype,"length",{get:function(){return this.list.length},enumerable:!0,configurable:!0}),e.prototype.getArray=function(){return this.list.slice()},e.prototype.get=function(e){var t;return null===(t=this.cache[e])||void 0===t?void 0:t.item},e.prototype.prepend=function(e){var t=this;r.toArray(e).reverse().forEach((function(e){var n=e[t.idProp];if(null==n)throw new Error("Has no id!");var r=t.get(n);r?Object.assign(r,e):(t.list.unshift(e),t.cache[n]={index:0,item:e})})),this.updateIndexes(0)},e.prototype.append=function(e){var t=this;r.toArray(e).forEach((function(e){var n=e[t.idProp];if(null==n)throw new Error("Has no id!");var r=t.get(n);if(r)Object.assign(r,e);else{var i=t.list.length;t.save(e,i)}}))},e.prototype.remove=function(e){var t=this,n=r.toArray(e).map((function(e){return t.cache[e]})).filter(Boolean).sort((function(e,t){return t.index-e.index}));if(!n.length)return null;n.forEach((function(e){delete t.cache[e.item[t.idProp]],t.list.splice(e.index,1)})),this.updateIndexes(n[n.length-1].index)},e.prototype.save=function(e,t){this.list[t]=e,this.cache[e[this.idProp]]={index:t,item:e}},e.prototype.updateIndexes=function(e){var t=this;this.list.slice(e).forEach((function(n,r){var i=n[t.idProp];t.cache[i].index=r+e}))},e}();t.Collection=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10);t.parseRaw=function(e){var t,n,r,s,o=function(e){var t=e[0],n=e[1];return{amount:new i.BigNumber(n),price:new i.BigNumber(t)}};return{bids:(null===(n=null===(t=e)||void 0===t?void 0:t.b)||void 0===n?void 0:n.map(o))||[],asks:(null===(s=null===(r=e)||void 0===r?void 0:r.a)||void 0===s?void 0:s.map(o))||[],lastTrade:e.t?{amount:new i.BigNumber(e.t[1]),price:new i.BigNumber(e.t[0]),type:e.t[2].toLowerCase()}:void 0}},t.parse=function(e){var t,n,r,i,c=a(e),l=u(null===(n=null===(t=c)||void 0===t?void 0:t.bestBid)||void 0===n?void 0:n.price,null===(i=null===(r=c)||void 0===r?void 0:r.bestAsk)||void 0===i?void 0:i.price),f=o(e.asks.concat(e.bids),l);return{asks:s(e.asks,"buy"),bids:s(e.bids,"sell"),lastTrade:e.lastTrade,spread:c,chartInfo:{cropRange:l,croppedAmountMax:f}}};var s=function(e,t){return e.reduce((function(e,n){var i=e.sum.add(n.amount),s=n.amount.mul(n.price);return e.sum=i,e.list.push(r(r({},n),{total:s,type:t,totalAmount:i})),e}),{sum:new i.BigNumber(0),list:[]}).list},o=function(e,t){if(!t.min)return new i.BigNumber(0);var n=e.filter((function(e){return e.price.gte(t.min)&&e.price.lte(t.max)})).sort((function(e,t){return e.amount.gt(t.amount)?1:t.amount.gt(e.amount)?-1:0}));return 0===n.length?new i.BigNumber(0):n[Math.floor(.9*n.length)].amount},a=function(e){var t,n,r=null!=(t=e.bids[0])?t:null,i=null!=(n=e.asks[0])?n:null;if(!r||!i)return null;var s=i.price.sub(r.price).mul(100).div(i.price);return{bestBid:r,bestAsk:i,percent:s}},u=function(e,t){if(!e||!t)return{min:null,max:null};var n=t.add(e).div(2),r=n.mul(1.5).div(2),s=n.add(r);return{min:i.BigNumber.max(0,n.sub(r)),max:s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){e.exports=n(125).Observable},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var o=function(){return"function"==typeof Symbol},a=function(e){return o()&&Boolean(Symbol[e])},u=function(e){return a(e)?Symbol[e]:"@@"+e};o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),l=u("observable"),f=u("species");function h(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[f])&&(t=void 0),void 0!==t?t:S}function p(e){return e instanceof S}function g(e){g.log?g.log(e):setTimeout((function(){throw e}))}function y(e){Promise.resolve().then((function(){try{e()}catch(e){g(e)}}))}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=h(t,"unsubscribe");n&&n.call(t)}}catch(e){g(e)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function _(e,t,n){e._state="running";var r=e._observer;try{var i=h(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(m(e),!i)throw n;i.call(r,n);break;case"complete":m(e),i&&i.call(r)}}catch(e){g(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void y((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(_(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void _(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new A(this);try{this._cleanup=n.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return s(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(m(this),v(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),A=function(){function e(t){r(this,e),this._subscription=t}return s(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),S=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return s(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,s)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function s(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,i=!1,s=arguments[1],o=s;return new n((function(n){return t.subscribe({next:function(t){var s=!i;if(i=!0,!s||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=d(this);return new i((function(t){var r,s=0;return function e(o){r=o.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){s===n.length?(r=void 0,t.complete()):e(i.from(n[s++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n((function(r){var i=[],s=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var s=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(s);e>=0&&i.splice(e,1),o()}});i.push(s)},error:function(e){r.error(e)},complete:function(){o()}});function o(){s.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),s.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=h(t,l);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return p(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(a("iterator")&&(r=h(t,c)))return new n((function(e){y((function(){if(!e.closed){var n=!0,i=!1,s=void 0;try{for(var o,a=r.call(t)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(e.next(u),e.closed)return}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){y((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){y((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:f,get:function(){return this}}]),e}();t.Observable=S,o()&&Object.defineProperty(S,Symbol("extensions"),{value:{symbol:l,hostReportError:g},configurable:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY=void 0;const r=n(39);t.EMPTY=new r.Observable(e=>e.complete())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;const r=n(49);class i extends r.Subject{constructor(e){super(),this._value=e}get value(){return this.getValue()}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Error("Unsubscribed");return this._value}next(e){super.next(this._value=e)}subscribe(e,t,n){const r="function"==typeof e?{next:e,error:e=>"function"==typeof t&&t(e),complete:()=>"function"==typeof n&&n()}:e,i=super.subscribe(r);return i&&!i.closed&&"function"==typeof r.next&&r.next(this._value),i}}t.BehaviorSubject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.webSocket=void 0;const r=n(64);t.webSocket=function(e,t={}){return new r.WebSocketSubject(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(48).__exportStar(n(130),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderbook=void 0;const r=n(63),i=n(10),s=n(131);class o{constructor(e){this.type=e,this.map=new WeakMap,this.tree=new s.RBTree((e,t)=>e.eq(t)?0:e.gt(t)?1:-1)}toArray(){const e=[];return"asks"===this.type?this.tree.each(t=>{e.push({price:t,amount:this.map.get(t)})}):"bids"===this.type&&this.tree.reach(t=>{e.push({price:t,amount:this.map.get(t)})}),e}patch(e){for(const[t,n]of e){const e=new i.BigNumber(t),r=new i.BigNumber(n);if(r.isZero()){const t=this.tree.find(e);null!==t&&(this.tree.remove(t),this.map.delete(t))}else{const t=this.tree.insert(e)?e:this.tree.find(e);this.map.set(t,r)}}}}t.orderbook=function(e,t,n=100){return new r.Observable(r=>{const s=new o("asks"),a=new o("bids");let u={price:new i.BigNumber(0),amount:new i.BigNumber(0),type:"sell"};const c=e.multiplex(()=>({T:"obs",S:t,d:n}),()=>({T:"u",S:t}),e=>"ob"===e.T&&e.S===t).subscribe(e=>{e.a&&s.patch(e.a),e.b&&a.patch(e.b),e.t&&(u=function([e,t,n]){return{price:new i.BigNumber(e),amount:new i.BigNumber(t),type:"buy"===String(n).toLowerCase()?"buy":"sell"}}(e.t)),r.next({asks:s.toArray(),bids:a.toArray(),lastTrade:u})});return()=>{c.unsubscribe()}})}},function(e,t,n){e.exports={RBTree:n(132),BinTree:n(133)}},function(e,t,n){var r=n(65);function i(e){this.data=e,this.left=null,this.right=null,this.red=!0}function s(e){this._root=null,this._comparator=e,this.size=0}function o(e){return null!==e&&e.red}function a(e,t){var n=e.get_child(!t);return e.set_child(!t,n.get_child(t)),n.set_child(t,e),e.red=!0,n.red=!1,n}function u(e,t){return e.set_child(!t,a(e.get_child(!t),!t)),a(e,t)}i.prototype.get_child=function(e){return e?this.right:this.left},i.prototype.set_child=function(e,t){e?this.right=t:this.left=t},s.prototype=new r,s.prototype.insert=function(e){var t=!1;if(null===this._root)this._root=new i(e),t=!0,this.size++;else{var n=new i(void 0),r=0,s=0,c=null,l=n,f=null,h=this._root;for(l.right=this._root;;){if(null===h?(h=new i(e),f.set_child(r,h),t=!0,this.size++):o(h.left)&&o(h.right)&&(h.red=!0,h.left.red=!1,h.right.red=!1),o(h)&&o(f)){var d=l.right===c;h===f.get_child(s)?l.set_child(d,a(c,!s)):l.set_child(d,u(c,!s))}var p=this._comparator(h.data,e);if(0===p)break;s=r,r=p<0,null!==c&&(l=c),c=f,f=h,h=h.get_child(r)}this._root=n.right}return this._root.red=!1,t},s.prototype.remove=function(e){if(null===this._root)return!1;var t=new i(void 0),n=t;n.right=this._root;for(var r=null,s=null,c=null,l=1;null!==n.get_child(l);){var f=l;s=r,r=n,n=n.get_child(l);var h=this._comparator(e,n.data);if(l=h>0,0===h&&(c=n),!o(n)&&!o(n.get_child(l)))if(o(n.get_child(!l))){var d=a(n,l);r.set_child(f,d),r=d}else if(!o(n.get_child(!l))){var p=r.get_child(!f);if(null!==p)if(o(p.get_child(!f))||o(p.get_child(f))){var g=s.right===r;o(p.get_child(f))?s.set_child(g,u(r,f)):o(p.get_child(!f))&&s.set_child(g,a(r,f));var y=s.get_child(g);y.red=!0,n.red=!0,y.left.red=!1,y.right.red=!1}else r.red=!1,p.red=!0,n.red=!0}}return null!==c&&(c.data=n.data,r.set_child(r.right===n,n.get_child(null===n.left)),this.size--),this._root=t.right,null!==this._root&&(this._root.red=!1),null!==c},e.exports=s},function(e,t,n){var r=n(65);function i(e){this.data=e,this.left=null,this.right=null}function s(e){this._root=null,this._comparator=e,this.size=0}i.prototype.get_child=function(e){return e?this.right:this.left},i.prototype.set_child=function(e,t){e?this.right=t:this.left=t},s.prototype=new r,s.prototype.insert=function(e){if(null===this._root)return this._root=new i(e),this.size++,!0;for(var t=0,n=null,r=this._root;;){if(null===r)return r=new i(e),n.set_child(t,r),ret=!0,this.size++,!0;if(0===this._comparator(r.data,e))return!1;t=this._comparator(r.data,e)<0,n=r,r=r.get_child(t)}},s.prototype.remove=function(e){if(null===this._root)return!1;var t=new i(void 0),n=t;n.right=this._root;for(var r=null,s=null,o=1;null!==n.get_child(o);){r=n,n=n.get_child(o);var a=this._comparator(e,n.data);o=a>0,0===a&&(s=n)}return null!==s&&(s.data=n.data,r.set_child(r.right===n,n.get_child(null===n.left)),this._root=t.right,this.size--,!0)},e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.WsConnectionPongTimeout=109077772]="WsConnectionPongTimeout",e[e.SubscriptionTokenExpired=110105088]="SubscriptionTokenExpired"}(t.MatcherErrors||(t.MatcherErrors={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.downloadFile=function(e,t){return r(this,void 0,Promise,(function(){var n,r,s,o,a,u,c,l,f,h,d,p,g;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(e)];case 1:n=i.sent(),r=Number(n.headers.get("Content-Length")||n.headers.get("content-length"))||0,s=n.body.getReader(),o=0,a=[],i.label=2;case 2:return[4,s.read()];case 3:return u=i.sent(),c=u.done,l=u.value,c?(t(100),[3,4]):(a.push(l),o+=l.length,"function"==typeof t&&t(r?o/r*100:0,o),[3,2]);case 4:for(f=new Uint8Array(o),h=0,d=0,p=a;d<p.length;d++)g=p[d],f.set(g,h),h+=g.length;return[2,f]}}))}))}},function(e,t,n){"use strict";var r=t;function i(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=n(68),r.BufferWriter=n(145),r.Reader=n(69),r.BufferReader=n(146),r.util=n(24),r.rpc=n(147),r.roots=n(149),r.configure=i,r.Writer._configure(r.BufferWriter),i()},function(e,t,n){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,s=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(s)if(s=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){s&&(s=!1,o(e))}}))}},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),s=new Array(123),o=0;o<64;)s[i[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,n){for(var r,s=null,o=[],a=0,u=0;t<n;){var c=e[t++];switch(u){case 0:o[a++]=i[c>>2],r=(3&c)<<4,u=1;break;case 1:o[a++]=i[r|c>>4],r=(15&c)<<2,u=2;break;case 2:o[a++]=i[r|c>>6],o[a++]=i[63&c],u=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return u&&(o[a++]=i[r],o[a++]=61,1===u&&(o[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};r.decode=function(e,t,n){for(var r,i=n,o=0,a=0;a<e.length;){var u=e.charCodeAt(a++);if(61===u&&o>1)break;if(void 0===(u=s[u]))throw Error("invalid encoding");switch(o){case 0:r=u,o=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,o=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,o=3;break;case 3:t[n++]=(3&r)<<6|u,o=0}}if(1===o)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function s(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:s,e.writeFloatBE=r?s:i,e.readFloatLE=r?o:a,e.readFloatBE=r?a:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var s=Math.floor(Math.log(t)/Math.LN2);e((i<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,s=r>>>23&255,o=8388607&r;return 255===s?o?NaN:i*(1/0):0===s?1401298464324817e-60*i*o:i*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,s),e.readFloatLE=n.bind(null,o),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function s(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:s,e.writeDoubleBE=r?s:i,e.readDoubleLE=r?o:a,e.readDoubleBE=r?a:o}():function(){function t(e,t,n,r,i,s){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,s+t),e(1/r>0?0:2147483648,i,s+n);else if(isNaN(r))e(0,i,s+t),e(2146959360,i,s+n);else if(r>17976931348623157e292)e(0,i,s+t),e((o<<31|2146435072)>>>0,i,s+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,i,s+t),e((o<<31|a/4294967296)>>>0,i,s+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=r*Math.pow(2,-u))>>>0,i,s+t),e((o<<31|u+1023<<20|1048576*a&1048575)>>>0,i,s+n)}}}function n(e,t,n,r,i){var s=e(r,i+t),o=e(r,i+n),a=2*(o>>31)+1,u=o>>>20&2047,c=4294967296*(1048575&o)+s;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,s,4,0),e.readDoubleLE=n.bind(null,o,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function s(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,s=[],o=0;t<n;)(r=e[t++])<128?s[o++]=r:r>191&&r<224?s[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(r>>10),s[o++]=56320+(1023&r)):s[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},r.write=function(e,t,n){for(var r,i,s=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-s}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,s=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(s=e(r),o=0);var a=t.call(s,o,o+=n);return 7&o&&(o=1+(7|o)),a}}},function(e,t,n){"use strict";e.exports=i;var r=n(24);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?s:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=o;var r=n(68);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(24),s=i.Buffer;function o(){r.call(this)}o.alloc=function(e){return(o.alloc=i._Buffer_allocUnsafe)(e)};var a=s&&s.prototype instanceof Uint8Array&&"set"===s.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]};function u(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write(e,n)}o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a,t,e),this},o.prototype.string=function(e){var t=s.byteLength(e);return this.uint32(t),t&&this._push(u,t,e),this}},function(e,t,n){"use strict";e.exports=s;var r=n(69);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(24);function s(e){r.call(this,e)}i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice),s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},function(e,t,n){"use strict";t.Service=n(148)},function(e,t,n){"use strict";e.exports=i;var r=n(24);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return r.asPromise(e,a,t,n,i,s);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(e,n){if(e)return a.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof i))try{n=i[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",n,t),o(null,n)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(151),o=n(5),a=n(152),u=n(6),c=n(7);function l(e){var t=new ArrayBuffer(e.byteLength+5);return new DataView(t,1,4).setUint32(0,e.length,!1),new Uint8Array(t,5).set(e),new Uint8Array(t)}t.toBinaryProtobuf=l;var f;function h(e){return 9===(t=e)||10===t||13===t||e>=32&&e<=126;var t}function d(e){for(var t=0;t!==e.length;++t)if(!h(e[t]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(e))}function p(e){return 128==(128&e.getUint8(0))}function g(e){return e.getUint32(1,!1)}function y(e,t,n){return e.byteLength-t>=n}function v(e,t,n){if(e.slice)return e.slice(t,n);var r=e.length;void 0!==n&&(r=n);for(var i=new Uint8Array(r-t),s=0,o=t;o<r;o++)i[s++]=e[o];return i}t.decodeASCII=d,t.encodeASCII=function(e){for(var t=new Uint8Array(e.length),n=0;n!==e.length;++n){var r=e.charCodeAt(n);if(!h(r))throw new Error("Metadata contains invalid ASCII");t[n]=r}return t},function(e){e[e.MESSAGE=1]="MESSAGE",e[e.TRAILERS=2]="TRAILERS"}(f=t.ChunkType||(t.ChunkType={}));var m=function(){function e(){this.buffer=null,this.position=0}return e.prototype.parse=function(e,t){if(0===e.length&&t)return[];var n,r=[];if(null==this.buffer)this.buffer=e,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=e,this.position=0;else{var i=this.buffer.byteLength-this.position,o=new Uint8Array(i+e.byteLength),a=v(this.buffer,this.position);o.set(a,0);var u=new Uint8Array(e);o.set(u,i),this.buffer=o,this.position=0}for(;;){if(!y(this.buffer,this.position,5))return r;var c=v(this.buffer,this.position,this.position+5),l=new DataView(c.buffer,c.byteOffset,c.byteLength),h=g(l);if(!y(this.buffer,this.position,5+h))return r;var m=v(this.buffer,this.position+5,this.position+5+h);if(this.position+=5+h,p(l))return r.push({chunkType:f.TRAILERS,trailers:(n=m,new s.BrowserHeaders(d(n)))}),r;r.push({chunkType:f.MESSAGE,data:m})}},e}();function _(e){return(new m).parse(new Uint8Array(e)).filter((function(e){return e.chunkType===f.MESSAGE}))}t.ChunkParser=m,t.parseChunk=_,t.rpcImpl=function(e,t){return function(n,s,f){var h=l(s),d=new URL(u.get(e)),p=new URL(d.pathname+"/"+e+"/"+n.name,d.origin).toString(),g=o.util.base64.encode(h,0,h.byteLength),y=function(){return function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return e=null,t?[4,c.ApiTokenService.getApiToken()]:[3,2];case 1:e=n.sent().accessToken,n.label=2;case 2:return[2,{Authorization:e?"Bearer "+e:void 0,"content-type":"application/grpc-web-text","x-grpc-web":"1"}]}}))}))}().then((function(e){return fetch(p,{method:"POST",headers:e,body:g})}))};y().then((function(e){var t=e.status,n=e.headers.get("grpc-status");return[Number(n),t].includes(403)?(c.ApiTokenService.getInstance().deleteTokenData(),y()):e})).then((function(e){if(e.ok){var t=e.headers.get("grpc-status");if(Number(t)&&0!==Number(t))try{var n=e.headers.get("grpc-errors-bin");if(!n){var r=e.headers.get("grpc-message");return console.log(r),f(new Error(r||""))}var i=new Uint8Array(o.util.base64.length(n));o.util.base64.decode(n,i,0);var s=a.errors.ErrorResponse.decode(i);return console.log(s),f(s)}catch(e){return f(e)}if(e.body){var u=e.body.getReader();u.read().then((function e(t){var n=t.done,r=t.value;if(n)f(null,null);else{var i=_(r);Array.isArray(i)&&i.map((function(e){return e.data&&f(null,new Uint8Array(e.data))})),u.read().then(e)}}))}else f(new Error("No body"))}else e.text().then((function(e){f(new Error(e))}))})).catch((function(e){return console.error(" e ",e)}))}}},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={splitValues:!1});var n,i=this;this.headersMap={},e&&("undefined"!=typeof Headers&&e instanceof Headers?r.getHeaderKeys(e).forEach((function(n){r.getHeaderValues(e,n).forEach((function(e){t.splitValues?i.append(n,r.splitHeaderValue(e)):i.append(n,e)}))})):"object"==typeof(n=e)&&"object"==typeof n.headersMap&&"function"==typeof n.forEach?e.forEach((function(e,t){i.append(e,t)})):"undefined"!=typeof Map&&e instanceof Map?e.forEach((function(e,t){i.append(t,e)})):"string"==typeof e?this.appendFromString(e):"object"==typeof e&&Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];Array.isArray(n)?n.forEach((function(e){i.append(t,e)})):i.append(t,n)})))}return e.prototype.appendFromString=function(e){for(var t=e.split("\r\n"),n=0;n<t.length;n++){var r=t[n],i=r.indexOf(":");if(i>0){var s=r.substring(0,i).trim(),o=r.substring(i+1).trim();this.append(s,o)}}},e.prototype.delete=function(e,t){var n=r.normalizeName(e);if(void 0===t)delete this.headersMap[n];else{var i=this.headersMap[n];if(i){var s=i.indexOf(t);s>=0&&i.splice(s,1),0===i.length&&delete this.headersMap[n]}}},e.prototype.append=function(e,t){var n=this,i=r.normalizeName(e);Array.isArray(this.headersMap[i])||(this.headersMap[i]=[]),Array.isArray(t)?t.forEach((function(e){n.headersMap[i].push(r.normalizeValue(e))})):this.headersMap[i].push(r.normalizeValue(t))},e.prototype.set=function(e,t){var n=r.normalizeName(e);if(Array.isArray(t)){var i=[];t.forEach((function(e){i.push(r.normalizeValue(e))})),this.headersMap[n]=i}else this.headersMap[n]=[r.normalizeValue(t)]},e.prototype.has=function(e,t){var n=this.headersMap[r.normalizeName(e)];if(!Array.isArray(n))return!1;if(void 0!==t){var i=r.normalizeValue(t);return n.indexOf(i)>=0}return!0},e.prototype.get=function(e){var t=this.headersMap[r.normalizeName(e)];return void 0!==t?t.concat():[]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.headersMap).forEach((function(n){e(n,t.headersMap[n])}),this)},e.prototype.toHeaders=function(){if("undefined"!=typeof Headers){var e=new Headers;return this.forEach((function(t,n){n.forEach((function(n){e.append(t,n)}))})),e}throw new Error("Headers class is not defined")},e}();t.BrowserHeaders=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.BrowserHeaders=r.BrowserHeaders},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateHeaders=function(e,t){for(var n=e[Symbol.iterator](),r=n.next();!r.done;)t(r.value[0]),r=n.next()},t.iterateHeadersKeys=function(e,t){for(var n=e.keys(),r=n.next();!r.done;)t(r.value),r=n.next()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.normalizeName=function(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()},t.normalizeValue=function(e){return"string"!=typeof e&&(e=String(e)),e},t.getHeaderValues=function(e,t){var n=e;if(n instanceof Headers&&n.getAll)return n.getAll(t);var r=n.get(t);return r&&"string"==typeof r?[r]:r},t.getHeaderKeys=function(e){var t=e,n={},i=[];return t.keys?r.iterateHeadersKeys(t,(function(e){n[e]||(n[e]=!0,i.push(e))})):t.forEach?t.forEach((function(e,t){n[t]||(n[t]=!0,i.push(t))})):r.iterateHeaders(t,(function(e){var t=e[0];n[t]||(n[t]=!0,i.push(t))})),i},t.splitHeaderValue=function(e){var t=[];return e.split(", ").forEach((function(e){e.split(",").forEach((function(e){t.push(e)}))})),t}}])},e.exports=r()},function(e,t,n){"use strict";n.r(t),n.d(t,"errors",(function(){return u})),n.d(t,"default",(function(){return a}));var r=n(5);const i=r.Reader,s=r.Writer,o=r.util,a=r.roots.errors||(r.roots.errors={}),u=a.errors=(()=>{const e={};return e.ErrorResponse=function(){function e(e){if(this.errors=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.errors=o.emptyArray,e.encode=function(e,t){if(t||(t=s.create()),null!=e.errors&&e.errors.length)for(let n=0;n<e.errors.length;++n)a.errors.Error.encode(e.errors[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.errors.ErrorResponse;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.errors&&r.errors.length||(r.errors=[]),r.errors.push(a.errors.Error.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.Error=function(){function e(e){if(this.details={},e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.message="",e.prototype.details=o.emptyObject,e.encode=function(e,t){if(t||(t=s.create()),null!=e.code&&e.hasOwnProperty("code")&&t.uint32(8).uint32(e.code),null!=e.message&&e.hasOwnProperty("message")&&t.uint32(18).string(e.message),null!=e.details&&e.hasOwnProperty("details"))for(let n=Object.keys(e.details),r=0;r<n.length;++r)t.uint32(26).fork().uint32(10).string(n[r]),a.errors.ErrorDetail.encode(e.details[n[r]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n,r=void 0===t?e.len:e.pos+t,s=new a.errors.Error;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:s.code=e.uint32();break;case 2:s.message=e.string();break;case 3:e.skip().pos++,s.details===o.emptyObject&&(s.details={}),n=e.string(),e.pos++,s.details[n]=a.errors.ErrorDetail.decode(e,e.uint32());break;default:e.skipType(7&t)}}return s},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.ErrorDetail=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.string="",e.prototype.double=0,e.prototype.long=o.Long?o.Long.fromBits(0,0,!1):0,e.prototype.binary=o.newBuffer([]),Object.defineProperty(e.prototype,"value",{get:o.oneOfGetter(t=["string","double","long","binary"]),set:o.oneOfSetter(t)}),e.encode=function(e,t){return t||(t=s.create()),null!=e.string&&e.hasOwnProperty("string")&&t.uint32(10).string(e.string),null!=e.double&&e.hasOwnProperty("double")&&t.uint32(17).double(e.double),null!=e.long&&e.hasOwnProperty("long")&&t.uint32(24).int64(e.long),null!=e.binary&&e.hasOwnProperty("binary")&&t.uint32(34).bytes(e.binary),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.errors.ErrorDetail;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.string=e.string();break;case 2:r.double=e.double();break;case 3:r.long=e.int64();break;case 4:r.binary=e.bytes();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e})()},function(e,t,n){"use strict";n.r(t),n.d(t,"gateways",(function(){return u})),n.d(t,"default",(function(){return a}));var r=n(5);const i=r.Reader,s=r.Writer,o=r.util,a=r.roots.gateways_waves_api||(r.roots.gateways_waves_api={}),u=a.gateways=(()=>{const e={};return e.WavesApi=function(){function e(e,t,n){r.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(r.rpc.Service.prototype)).constructor=e,Object.defineProperty(e.prototype.getWavesAssetBindings=function e(t,n){return this.rpcCall(e,a.gateways.GetWavesAssetBindingsRequest,a.gateways.AssetBindingsResponse,t,n)},"name",{value:"GetWavesAssetBindings"}),Object.defineProperty(e.prototype.getDepositTransferBinding=function e(t,n){return this.rpcCall(e,a.gateways.GetDepositTransferBindingRequest,a.gateways.GetTransferBindingResponse,t,n)},"name",{value:"GetDepositTransferBinding"}),Object.defineProperty(e.prototype.getWithdrawalTransferBinding=function e(t,n){return this.rpcCall(e,a.gateways.GetWithdrawalTransferBindingRequest,a.gateways.GetTransferBindingResponse,t,n)},"name",{value:"GetWithdrawalTransferBinding"}),Object.defineProperty(e.prototype.createDepositTransferBinding=function e(t,n){return this.rpcCall(e,a.gateways.CreateDepositTransferBindingRequest,a.gateways.CreateTransferBindingResponse,t,n)},"name",{value:"CreateDepositTransferBinding"}),Object.defineProperty(e.prototype.createWithdrawalTransferBinding=function e(t,n){return this.rpcCall(e,a.gateways.CreateWithdrawalTransferBindingRequest,a.gateways.CreateTransferBindingResponse,t,n)},"name",{value:"CreateWithdrawalTransferBinding"}),e}(),e.GetWavesAssetBindingsRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.direction=0,e.prototype.asset_type=null,e.prototype.includes_external_asset_ticker="",e.prototype.includes_waves_asset="",e.encode=function(e,t){return t||(t=s.create()),null!=e.direction&&e.hasOwnProperty("direction")&&t.uint32(8).int32(e.direction),null!=e.asset_type&&e.hasOwnProperty("asset_type")&&a.gateways.GetWavesAssetBindingsRequest.AssetTypeFilter.encode(e.asset_type,t.uint32(18).fork()).ldelim(),null!=e.includes_external_asset_ticker&&e.hasOwnProperty("includes_external_asset_ticker")&&t.uint32(26).string(e.includes_external_asset_ticker),null!=e.includes_waves_asset&&e.hasOwnProperty("includes_waves_asset")&&t.uint32(34).string(e.includes_waves_asset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.GetWavesAssetBindingsRequest;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.direction=e.int32();break;case 2:r.asset_type=a.gateways.GetWavesAssetBindingsRequest.AssetTypeFilter.decode(e,e.uint32());break;case 3:r.includes_external_asset_ticker=e.string();break;case 4:r.includes_waves_asset=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.Direction=function(){const e={},t=Object.create(e);return t[e[0]="ALL"]=0,t[e[1]="DEPOSIT"]=1,t[e[2]="WITHDRAWAL"]=2,t}(),e.AssetTypeFilter=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.asset_type=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.asset_type&&e.hasOwnProperty("asset_type")&&t.uint32(8).int32(e.asset_type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.GetWavesAssetBindingsRequest.AssetTypeFilter;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.asset_type=e.int32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e}(),e.AssetBindingsResponse=function(){function e(e){if(this.asset_bindings=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.asset_bindings=o.emptyArray,e.encode=function(e,t){if(t||(t=s.create()),null!=e.asset_bindings&&e.asset_bindings.length)for(let n=0;n<e.asset_bindings.length;++n)a.gateways.AssetBinding.encode(e.asset_bindings[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.AssetBindingsResponse;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.asset_bindings&&r.asset_bindings.length||(r.asset_bindings=[]),r.asset_bindings.push(a.gateways.AssetBinding.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.GetDepositTransferBindingRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.asset="",e.prototype.recipient_address="",e.encode=function(e,t){return t||(t=s.create()),null!=e.asset&&e.hasOwnProperty("asset")&&t.uint32(10).string(e.asset),null!=e.recipient_address&&e.hasOwnProperty("recipient_address")&&t.uint32(18).string(e.recipient_address),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.GetDepositTransferBindingRequest;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.asset=e.string();break;case 2:r.recipient_address=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.GetWithdrawalTransferBindingRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.asset="",e.prototype.recipient_address="",e.encode=function(e,t){return t||(t=s.create()),null!=e.asset&&e.hasOwnProperty("asset")&&t.uint32(10).string(e.asset),null!=e.recipient_address&&e.hasOwnProperty("recipient_address")&&t.uint32(18).string(e.recipient_address),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.GetWithdrawalTransferBindingRequest;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.asset=e.string();break;case 2:r.recipient_address=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.GetTransferBindingResponse=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.transfer_binding=null,e.encode=function(e,t){return t||(t=s.create()),null!=e.transfer_binding&&e.hasOwnProperty("transfer_binding")&&a.gateways.TransferBinding.encode(e.transfer_binding,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.GetTransferBindingResponse;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.transfer_binding=a.gateways.TransferBinding.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.CreateDepositTransferBindingRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.asset="",e.prototype.recipient_address="",e.encode=function(e,t){return t||(t=s.create()),null!=e.asset&&e.hasOwnProperty("asset")&&t.uint32(10).string(e.asset),null!=e.recipient_address&&e.hasOwnProperty("recipient_address")&&t.uint32(18).string(e.recipient_address),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.CreateDepositTransferBindingRequest;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.asset=e.string();break;case 2:r.recipient_address=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.CreateWithdrawalTransferBindingRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.asset="",e.prototype.recipient_address="",e.encode=function(e,t){return t||(t=s.create()),null!=e.asset&&e.hasOwnProperty("asset")&&t.uint32(10).string(e.asset),null!=e.recipient_address&&e.hasOwnProperty("recipient_address")&&t.uint32(18).string(e.recipient_address),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.CreateWithdrawalTransferBindingRequest;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.asset=e.string();break;case 2:r.recipient_address=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.CreateTransferBindingResponse=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.transfer_binding=null,e.encode=function(e,t){return t||(t=s.create()),null!=e.transfer_binding&&e.hasOwnProperty("transfer_binding")&&a.gateways.TransferBinding.encode(e.transfer_binding,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.CreateTransferBindingResponse;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.transfer_binding=a.gateways.TransferBinding.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.Asset=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.asset="",e.prototype.decimals=0,e.prototype.ticker="",e.prototype.type=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.asset&&e.hasOwnProperty("asset")&&t.uint32(10).string(e.asset),null!=e.decimals&&e.hasOwnProperty("decimals")&&t.uint32(16).int32(e.decimals),null!=e.ticker&&e.hasOwnProperty("ticker")&&t.uint32(26).string(e.ticker),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(32).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.Asset;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.asset=e.string();break;case 2:r.decimals=e.int32();break;case 3:r.ticker=e.string();break;case 4:r.type=e.int32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.Type=function(){const e={},t=Object.create(e);return t[e[0]="CRYPTO"]=0,t[e[1]="FIAT"]=1,t}(),e}(),e.AssetBinding=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sender_asset=null,e.prototype.recipient_asset=null,e.prototype.sender_amount_min=o.newBuffer([]),e.prototype.sender_amount_max=o.newBuffer([]),e.prototype.tax_flat=o.newBuffer([]),e.prototype.tax_rate=0,e.prototype.active=!1,e.encode=function(e,t){return t||(t=s.create()),null!=e.sender_asset&&e.hasOwnProperty("sender_asset")&&a.gateways.Asset.encode(e.sender_asset,t.uint32(10).fork()).ldelim(),null!=e.recipient_asset&&e.hasOwnProperty("recipient_asset")&&a.gateways.Asset.encode(e.recipient_asset,t.uint32(18).fork()).ldelim(),null!=e.sender_amount_min&&e.hasOwnProperty("sender_amount_min")&&t.uint32(26).bytes(e.sender_amount_min),null!=e.sender_amount_max&&e.hasOwnProperty("sender_amount_max")&&t.uint32(34).bytes(e.sender_amount_max),null!=e.tax_flat&&e.hasOwnProperty("tax_flat")&&t.uint32(42).bytes(e.tax_flat),null!=e.tax_rate&&e.hasOwnProperty("tax_rate")&&t.uint32(49).double(e.tax_rate),null!=e.active&&e.hasOwnProperty("active")&&t.uint32(56).bool(e.active),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.AssetBinding;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.sender_asset=a.gateways.Asset.decode(e,e.uint32());break;case 2:r.recipient_asset=a.gateways.Asset.decode(e,e.uint32());break;case 3:r.sender_amount_min=e.bytes();break;case 4:r.sender_amount_max=e.bytes();break;case 5:r.tax_flat=e.bytes();break;case 6:r.tax_rate=e.double();break;case 7:r.active=e.bool();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.TransferBinding=function(){function e(e){if(this.addresses=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.asset_binding=null,e.prototype.addresses=o.emptyArray,e.prototype.recipient="",e.encode=function(e,t){if(t||(t=s.create()),null!=e.asset_binding&&e.hasOwnProperty("asset_binding")&&a.gateways.AssetBinding.encode(e.asset_binding,t.uint32(10).fork()).ldelim(),null!=e.addresses&&e.addresses.length)for(let n=0;n<e.addresses.length;++n)t.uint32(18).string(e.addresses[n]);return null!=e.recipient&&e.hasOwnProperty("recipient")&&t.uint32(26).string(e.recipient),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.TransferBinding;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.asset_binding=a.gateways.AssetBinding.decode(e,e.uint32());break;case 2:r.addresses&&r.addresses.length||(r.addresses=[]),r.addresses.push(e.string());break;case 3:r.recipient=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.CursorRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.limit=0,e.prototype.offset=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.limit&&e.hasOwnProperty("limit")&&t.uint32(8).int32(e.limit),null!=e.offset&&e.hasOwnProperty("offset")&&t.uint32(16).int32(e.offset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.CursorRequest;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.limit=e.int32();break;case 2:r.offset=e.int32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.CursorResponse=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.has_next=!1,e.encode=function(e,t){return t||(t=s.create()),null!=e.has_next&&e.hasOwnProperty("has_next")&&t.uint32(8).bool(e.has_next),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.gateways.CursorResponse;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.has_next=e.bool();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e})()},function(e,t,n){"use strict";n.r(t),n.d(t,"acash",(function(){return u})),n.d(t,"default",(function(){return a}));var r=n(5);const i=r.Reader,s=r.Writer,o=r.util,a=r.roots.adcash_deposits||(r.roots.adcash_deposits={}),u=a.acash=(()=>{const e={};return e.ACashDeposits=function(){function e(e,t,n){r.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(r.rpc.Service.prototype)).constructor=e,Object.defineProperty(e.prototype.registerOrder=function e(t,n){return this.rpcCall(e,a.acash.RegisterOrderRequest,a.acash.RegisterOrderResponse,t,n)},"name",{value:"RegisterOrder"}),Object.defineProperty(e.prototype.getACashAssets=function e(t,n){return this.rpcCall(e,a.acash.GetACashAssetsRequest,a.acash.GetACashAssetsResponse,t,n)},"name",{value:"GetACashAssets"}),Object.defineProperty(e.prototype.getACashAssetsExchangeRate=function e(t,n){return this.rpcCall(e,a.acash.GetACashAssetsExchangeRateRequest,a.acash.GetACashAssetsExchangeRateResponse,t,n)},"name",{value:"GetACashAssetsExchangeRate"}),e}(),e.PaymentSystem=function(){const e={},t=Object.create(e);return t[e[0]="ACASH"]=0,t[e[1]="CARD"]=1,t}(),e.AuthenticationData=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sci_name="",e.prototype.account_email="",e.prototype.signature="",e.encode=function(e,t){return t||(t=s.create()),null!=e.sci_name&&e.hasOwnProperty("sci_name")&&t.uint32(10).string(e.sci_name),null!=e.account_email&&e.hasOwnProperty("account_email")&&t.uint32(18).string(e.account_email),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(26).string(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.acash.AuthenticationData;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.sci_name=e.string();break;case 2:r.account_email=e.string();break;case 3:r.signature=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.RegisterOrderRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.amount=0,e.prototype.sender_asset="",e.prototype.address="",e.prototype.recipient_asset="",e.prototype.payment_system=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.amount&&e.hasOwnProperty("amount")&&t.uint32(9).double(e.amount),null!=e.sender_asset&&e.hasOwnProperty("sender_asset")&&t.uint32(18).string(e.sender_asset),null!=e.address&&e.hasOwnProperty("address")&&t.uint32(26).string(e.address),null!=e.recipient_asset&&e.hasOwnProperty("recipient_asset")&&t.uint32(34).string(e.recipient_asset),null!=e.payment_system&&e.hasOwnProperty("payment_system")&&t.uint32(40).int32(e.payment_system),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.acash.RegisterOrderRequest;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.amount=e.double();break;case 2:r.sender_asset=e.string();break;case 3:r.address=e.string();break;case 4:r.recipient_asset=e.string();break;case 5:r.payment_system=e.int32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.RegisterOrderResponse=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.authentication_data=null,e.prototype.order_id="",e.prototype.query_parameters="",e.encode=function(e,t){return t||(t=s.create()),null!=e.authentication_data&&e.hasOwnProperty("authentication_data")&&a.acash.AuthenticationData.encode(e.authentication_data,t.uint32(10).fork()).ldelim(),null!=e.order_id&&e.hasOwnProperty("order_id")&&t.uint32(18).string(e.order_id),null!=e.query_parameters&&e.hasOwnProperty("query_parameters")&&t.uint32(26).string(e.query_parameters),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.acash.RegisterOrderResponse;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.authentication_data=a.acash.AuthenticationData.decode(e,e.uint32());break;case 2:r.order_id=e.string();break;case 3:r.query_parameters=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.ACashAsset=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.name="",e.prototype.decimals=0,e.prototype.type=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(10).string(e.id),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.decimals&&e.hasOwnProperty("decimals")&&t.uint32(24).int32(e.decimals),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(32).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.acash.ACashAsset;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.id=e.string();break;case 2:r.name=e.string();break;case 3:r.decimals=e.int32();break;case 4:r.type=e.int32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.Type=function(){const e={},t=Object.create(e);return t[e[0]="CRYPTO"]=0,t[e[1]="FIAT"]=1,t}(),e}(),e.GetACashAssetsRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.acash.GetACashAssetsRequest;for(;e.pos<n;){let t=e.uint32();e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.GetACashAssetsResponse=function(){function e(e){if(this.acash_assets=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.acash_assets=o.emptyArray,e.encode=function(e,t){if(t||(t=s.create()),null!=e.acash_assets&&e.acash_assets.length)for(let n=0;n<e.acash_assets.length;++n)a.acash.ACashAsset.encode(e.acash_assets[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.acash.GetACashAssetsResponse;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.acash_assets&&r.acash_assets.length||(r.acash_assets=[]),r.acash_assets.push(a.acash.ACashAsset.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.GetACashAssetsExchangeRateRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sender_asset="",e.prototype.recipient_asset="",e.prototype.sender_asset_amount=0,e.prototype.payment_system=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.sender_asset&&e.hasOwnProperty("sender_asset")&&t.uint32(10).string(e.sender_asset),null!=e.recipient_asset&&e.hasOwnProperty("recipient_asset")&&t.uint32(18).string(e.recipient_asset),null!=e.sender_asset_amount&&e.hasOwnProperty("sender_asset_amount")&&t.uint32(25).double(e.sender_asset_amount),null!=e.payment_system&&e.hasOwnProperty("payment_system")&&t.uint32(32).int32(e.payment_system),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.acash.GetACashAssetsExchangeRateRequest;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.sender_asset=e.string();break;case 2:r.recipient_asset=e.string();break;case 3:r.sender_asset_amount=e.double();break;case 4:r.payment_system=e.int32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e.GetACashAssetsExchangeRateResponse=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rate=0,e.prototype.recipient_asset_amount=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.rate&&e.hasOwnProperty("rate")&&t.uint32(9).double(e.rate),null!=e.recipient_asset_amount&&e.hasOwnProperty("recipient_asset_amount")&&t.uint32(17).double(e.recipient_asset_amount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));let n=void 0===t?e.len:e.pos+t,r=new a.acash.GetACashAssetsExchangeRateResponse;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.rate=e.double();break;case 2:r.recipient_asset_amount=e.double();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e}(),e})()},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var s={},o={};function a(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=c(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=s[e])?r:(n=c(e,e<0?-1:0,!1),i&&(s[e]=n),n)}function u(e,t){if(isNaN(e))return t?m:v;if(t){if(e<0)return m;if(e>=p)return S}else{if(e<=-g)return O;if(e+1>=g)return A}return e<0?u(-e,t).neg():c(e%d|0,e/d|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=u,r.fromBits=c;var l=Math.pow;function f(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return f(e.substring(1),t,n).neg();for(var i=u(l(n,8)),s=v,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+a),n);if(a<8){var h=u(l(n,a));s=s.mul(h).add(u(c))}else s=(s=s.mul(i)).add(u(c))}return s.unsigned=t,s}function h(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?f(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=f,r.fromValue=h;var d=4294967296,p=d*d,g=p/2,y=a(1<<24),v=a(0);r.ZERO=v;var m=a(0,!0);r.UZERO=m;var _=a(1);r.ONE=_;var b=a(1,!0);r.UONE=b;var w=a(-1);r.NEG_ONE=w;var A=c(-1,2147483647,!1);r.MAX_VALUE=A;var S=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var O=c(0,-2147483648,!1);r.MIN_VALUE=O;var T=r.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=u(l(e,6),this.unsigned),s=this,o="";;){var a=s.div(i),c=(s.sub(a.mul(i)).toInt()>>>0).toString(e);if((s=a).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(_)},T.neg=T.negate,T.add=function(e){i(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,s=65535&this.low,o=e.high>>>16,a=65535&e.high,u=e.low>>>16,l=0,f=0,d=0,p=0;return d+=(p+=s+(65535&e.low))>>>16,f+=(d+=r+u)>>>16,l+=(f+=n+a)>>>16,l+=t+o,c((d&=65535)<<16|(p&=65535),(l&=65535)<<16|(f&=65535),this.unsigned)},T.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return v;if(i(e)||(e=h(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(O))return e.isOdd()?O:v;if(e.eq(O))return this.isOdd()?O:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,s=this.low>>>16,o=65535&this.low,a=e.high>>>16,l=65535&e.high,f=e.low>>>16,d=65535&e.low,p=0,g=0,m=0,_=0;return m+=(_+=o*d)>>>16,g+=(m+=s*d)>>>16,m&=65535,g+=(m+=o*f)>>>16,p+=(g+=r*d)>>>16,g&=65535,p+=(g+=s*f)>>>16,g&=65535,p+=(g+=o*l)>>>16,p+=t*d+r*f+s*l+o*a,c((m&=65535)<<16|(_&=65535),(p&=65535)<<16|(g&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(i(e)||(e=h(e)),e.isZero())throw Error("division by zero");var t,r,s;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return b;s=m}else{if(this.eq(O))return e.eq(_)||e.eq(w)?O:e.eq(O)?_:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?_:w:(r=this.sub(e.mul(t)),s=t.add(r.div(e)));if(e.eq(O))return this.unsigned?m:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=v}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),a=o<=48?1:l(2,o-48),f=u(t),d=f.mul(e);d.isNegative()||d.gt(r);)d=(f=u(t-=a,this.unsigned)).mul(e);f.isZero()&&(f=_),s=s.add(f),r=r.sub(d)}return s},T.div=T.divide,T.modulo=function(e){return i(e)||(e=h(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return c(~this.low,~this.high,this.unsigned)},T.and=function(e){return i(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return i(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return i(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){"use strict";n.r(t);var r=n(42),i=Object(r.a)(0);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(50),i=n(74),s=n(51),o=n(28),a=n(158),u=n(16);t.AC_PAYMENTS_SYSTEM_LIST=["ACASH","CARD"],t.AC_ASSET_TYPE_LIST=["CRYPTO","FIAT"],t.GW_BINDING_DIRECTIONS_LIST=["ALL","DEPOSIT","WITHDRAWAL"],t.acExchangeRateParamsSchema=i.default({sender_asset:a.requiredString("senderAsset"),recipient_asset:a.requiredString("recipientAsset"),sender_asset_amount:a.requiredNumber("senderAssetAmount"),payment_system:r.default(o.default("paymentSystem"),a.replaceStringToEnum(t.AC_PAYMENTS_SYSTEM_LIST))}),t.acRegisterOrderParamsSchema=i.default({amount:a.requiredNumber("amount"),sender_asset:a.requiredString("senderAsset"),address:a.requiredString("address"),recipient_asset:o.default("recipientAsset"),payment_system:r.default(o.default("paymentSystem"),a.replaceStringToEnum(t.AC_PAYMENTS_SYSTEM_LIST))}),t.gwAssetBindingsParamsSchema=i.default({direction:r.default(o.default("direction"),a.replaceStringToEnum(t.GW_BINDING_DIRECTIONS_LIST)),asset_type:r.default(o.default("assetType"),u.ifElse(u.isNil,u.always(void 0),i.default({asset_type:a.replaceStringToEnum(t.AC_ASSET_TYPE_LIST)}))),includes_external_asset_ticker:o.default("includesExternalAssetTicker"),includes_waves_asset:o.default("includesWavesAsset")}),t.gwTBParamsSchema=i.default({asset:a.requiredString("asset"),recipient_address:a.requiredString("recipientAddress")}),t.acRegisterOrderSchema=i.default({orderId:o.default("order_id"),queryParameters:a.requiredString("query_parameters"),authenticationData:r.default(o.default("authentication_data"),i.default({sciName:o.default("sci_name"),accountEmail:o.default("account_email"),signature:o.default("signature")}))}),t.acAssetSchema=i.default({id:a.requiredString("id"),name:a.requiredString("name"),decimals:a.requiredNumber("decimals"),type:a.requiredEnum("type",t.AC_ASSET_TYPE_LIST)}),t.acAssetsSchema=i.default({assets:r.default(a.requiredProp("acash_assets"),s.default(t.acAssetSchema))}),t.acExchangeRateSchema=i.default({rate:a.requiredNumber("rate"),recipientAssetAmount:a.requiredNumber("recipient_asset_amount")}),t.gwAssetSchema=i.default({asset:a.requiredString("asset"),decimals:a.requiredNumber("decimals"),ticker:a.requiredString("ticker"),type:a.requiredEnum("type",["CRYPTO","FIAT"])}),t.gwBindingSchema=i.default({senderAsset:r.default(o.default("sender_asset"),t.gwAssetSchema),recipientAsset:r.default(o.default("recipient_asset"),t.gwAssetSchema),senderAmountMin:a.parseWithPrecision("sender_amount_min"),senderAmountMax:a.parseWithPrecision("sender_amount_max"),taxFlat:a.parseWithPrecision("tax_flat"),taxRate:a.requiredNumber("tax_rate"),active:a.requiredBoolean("active")}),t.gwBindingsSchema=i.default({assetBindings:r.default(a.requiredProp("asset_bindings"),s.default(t.gwBindingSchema))}),t.gwTBSchema=i.default({assetBinding:r.default(a.requiredProp("asset_binding"),t.gwBindingSchema),addresses:a.requiredProp("addresses"),recipient:a.requiredProp("recipient")}),t.gwTBResponseSchema=i.default({transferBinding:r.default(a.requiredProp("transfer_binding"),t.gwTBSchema)}),t.errorMeta=i.default({string:o.default("string"),double:o.default("double"),long:r.default(o.default("long"),a.long),binary:o.default("binary"),value:o.default("value")}),t.error=i.default({code:a.requiredNumber("code"),message:a.requiredString("message"),details:r.default(o.default("details"),a.processMap(t.errorMeta))}),t.errors=i.default({errors:r.default(a.requiredProp("error"),s.default(t.error))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(50),i=n(28),s=n(74),o=n(10);t.mustBeNotEmpty=function(e){if(null==e)throw new Error("Has no required data!");return e};var a=function(e){return function(t){var n=typeof t;if(n!==e)throw new Error("Wrong field format! Expected "+e+", data type "+n);return t}};t.replaceEnumToString=function(e){return function(t){return e[t]}},t.replaceStringToEnum=function(e){return function(t){var n=e.indexOf(t);return-1===n?0:n}},t.number=a("number"),t.string=a("string"),t.boolean=a("boolean"),t.long=function(e){if(e)return new o.BigNumber(e.toString())},t.toPrecision=function(e){var t=e.decimals,n=e.bytes;return o.BigNumber.fromBytes(n,{isLong:!1,isSigned:!1}).div(Math.pow(10,t))},t.processMap=function(e){return function(t){return Object.entries(t).reduce((function(t,n){var r,i=n[0],s=n[1];return Object.assign(t,((r={})[i]=e(s),r))}),{})}},t.parseWithPrecision=function(e,n){return void 0===n&&(n="sender_asset"),r.default(s.default({bytes:i.default(e),decimals:r.default(i.default(n),i.default("decimals"))}),t.toPrecision)},t.requiredEnum=function(e,n){return r.default(i.default(e),t.replaceEnumToString(n),t.mustBeNotEmpty)},t.requiredString=function(e){return r.default(i.default(e),t.mustBeNotEmpty,t.string)},t.requiredNumber=function(e){return r.default(i.default(e),t.mustBeNotEmpty,t.number)},t.requiredBoolean=function(e){return r.default(i.default(e),t.mustBeNotEmpty,t.boolean)},t.requiredProp=r.default(i.default,t.mustBeNotEmpty)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(8),s=n(4);t.getUiId=function(){var e=i.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api_internal");return r.privateFetch(e+"/api/v1/user/login",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}})},t.mapUiId=function(e){var t=i.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api_internal");return r.privateFetch(t+"/api/v1/user/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:s.stringifyJSON({uid:e})})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),s=n(38),o=n(6),a=n(4),u=n(27);t.broadcast=function(e,t){return i.request({url:t||o.get("node")+"/transactions/broadcast",fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:a.stringifyJSON(e)}})},t.broadcaster=function(e,t){void 0===t&&(t=!1);var n=a.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api_internal"),r=Array.isArray(e)?e:[e];return i.request({url:n+"/api/v1/transaction_broadcaster/sequences",fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:a.stringifyJSON({transactions:r})}}).then((function(n){return t?n.id:e})).catch((function(n){throw t?n:Array.isArray(e)?n.errors:n.errors[0]}))};var c=function(e){var t=e.fetchOptions&&e.fetchOptions.headers,n=r({Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},t);return i.privateRequest(r(r({},e),{fetchOptions:r(r({},e.fetchOptions),{headers:n})}))};t.createOrderSend=function(e){return c({url:o.get("matcher")+"/orderbook",fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:a.stringifyJSON(e)}}).then((function(e){return s.parse([r(r({},e.message),{type:e.message.orderType,status:"Accepted",filled:0})])}))},t.createMarketOrder=function(e){return c({url:o.get("matcher")+"/orderbook/market",fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:a.stringifyJSON(e)}}).then((function(e){return s.parse([r(r({},e.message),{type:e.message.orderType,status:"Accepted",filled:0})])}))},t.cancelOrderSend=function(e,t,n,r){return void 0===r&&(r="cancel"),c({url:o.get("matcher")+"/orderbook/"+t+"/"+n+"/"+r,fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:a.stringifyJSON(e)}}).then((function(e){return e}))},t.cancelAllOrdersSend=function(e){return c({url:o.get("matcher")+"/orderbook/cancel",fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:a.stringifyJSON(e)}}).then((function(e){return e}))},t.cancelOrdersById=function(e){return u.getSignatureApi().getAddress().then((function(t){return c({url:o.get("matcher")+"/orders/"+t+"/cancel",fetchOptions:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:a.stringifyJSON(e)}}).then((function(e){return e}))})).then((function(t){var n=function(e){return(e&&e.message||[]).reduce((function(e,t){return t=Array.isArray(t)?t:[t],e.concat(t)}),[]).reduce((function(e,t){return t.orderId&&(e[t.orderId]="OrderCanceled"===t.status&&t.success),e}),{})}(t);return e.map((function(e){return n[e]?e:void 0}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),o=n(4),a=function(){function e(e){this.options=e,this.active=!0}return e.prototype.send=function(e,t){return void 0===t&&(t={}),r(this,void 0,Promise,(function(){var n,r,a,u;return i(this,(function(i){switch(i.label){case 0:this.checkActive(),n=t.timeout,r=void 0===n?1e3:n,a=t.attempts,u=void 0===a?1:a,i.label=1;case 1:if(!(u>0))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,s.request({url:this.options.url,fetchOptions:{method:"POST",body:e}})];case 3:return[2,i.sent()];case 4:return i.sent(),[4,o.delay(r)];case 5:return i.sent(),[3,6];case 6:return u--,[3,1];case 7:throw new Error("Could not connect")}}))}))},e.prototype.listen=function(e){return r(this,void 0,Promise,(function(){return i(this,(function(t){switch(t.label){case 0:return this.checkActive(),this.server=window.SimpleConnect.listen(this.options.port,e),this.options.ttl?[4,o.delay(this.options.ttl)]:[3,2];case 1:t.sent(),this.server.close(),t.label=2;case 2:return[2]}}))}))},e.prototype.destroy=function(){this.active=!1,this.server&&this.server.close()},e.prototype.checkActive=function(){if(!this.active)throw new Error("Provider was destroyed")},e}();t.HttpConnectProvider=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(70),o=n(4),a=function(){function e(e){void 0===e&&(e={}),this.adapter=new s.WindowAdapter([new s.WindowProtocol(window,s.WindowProtocol.PROTOCOL_TYPES.LISTEN)],[new s.WindowProtocol(e.win,s.WindowProtocol.PROTOCOL_TYPES.DISPATCH)],{origins:e.origins}),this.bus=new s.Bus(this.adapter),this.active=!0}return e.prototype.send=function(e,t){return void 0===t&&(t={}),r(this,void 0,Promise,(function(){var n,r,s,a,u;return i(this,(function(i){switch(i.label){case 0:this.checkActive(),n=t.timeout,r=void 0===n?5e3:n,s=t.attempts,a=void 0===s?1:s,i.label=1;case 1:if(!(a>0))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,this.bus.request(t.event,e,t.timeout)];case 3:return u=i.sent(),[2,JSON.parse(u)];case 4:return i.sent(),[4,o.delay(r)];case 5:return i.sent(),[3,6];case 6:return a--,[3,1];case 7:throw new Error("Could not connect")}}))}))},e.prototype.listen=function(e){return r(this,void 0,Promise,(function(){return i(this,(function(t){return this.checkActive(),this.bus.registerRequestHandler("data",(function(t){return e(JSON.parse(t))})),[2]}))}))},e.prototype.destroy=function(){try{this.bus.destroy()}catch(e){}this.active=!1},e.prototype.checkActive=function(){if(!this.active)throw new Error("Provider was destroyed")},e}();t.PostMessageConnectProvider=a},function(e,t,n){"use strict";for(var r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={},s=0;s<r.length;s++){var o=r.charAt(s);if(void 0!==i[o])throw new TypeError(o+" is ambiguous");i[o]=s}function a(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function u(e){for(var t=1,n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=a(t)^r>>5}for(t=a(t),n=0;n<e.length;++n){var i=e.charCodeAt(n);t=a(t)^31&i}return t}function c(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),r=e.toUpperCase();if(e!==n&&e!==r)return"Mixed-case string "+e;var s=(e=n).lastIndexOf("1");if(-1===s)return"No separator character for "+e;if(0===s)return"Missing prefix for "+e;var o=e.slice(0,s),c=e.slice(s+1);if(c.length<6)return"Data too short";var l=u(o);if("string"==typeof l)return l;for(var f=[],h=0;h<c.length;++h){var d=c.charAt(h),p=i[d];if(void 0===p)return"Unknown character "+d;l=a(l)^p,h+6>=c.length||f.push(p)}return 1!==l?"Invalid checksum for "+e:{prefix:o,words:f}}function l(e,t,n,r){for(var i=0,s=0,o=(1<<n)-1,a=[],u=0;u<e.length;++u)for(i=i<<t|e[u],s+=t;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=t)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}e.exports={decodeUnsafe:function(){var e=c.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=c.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,t,n){if(n=n||90,e.length+7+t.length>n)throw new TypeError("Exceeds length limit");var i=u(e=e.toLowerCase());if("string"==typeof i)throw new Error(i);for(var s=e+"1",o=0;o<t.length;++o){var c=t[o];if(c>>5!=0)throw new Error("Non 5-bit word");i=a(i)^c,s+=r.charAt(c)}for(o=0;o<6;++o)i=a(i);for(i^=1,o=0;o<6;++o){s+=r.charAt(i>>5*(5-o)&31)}return s},toWordsUnsafe:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a={loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",multiSeparator:"+",allowMultiLoading:!1,parse:JSON.parse,stringify:JSON.stringify,fetch:o.fetch,requestOptions:{}},u=function(e){function t(t,n){void 0===n&&(n=!1);var r=e.call(this,t)||this;return r.retry=null,r.retry=n,r}return i(t,e),t}(Error),c=function(){function e(e,t){this.loadedUrl=Object.create(null),this.type="backend",this.init(e,t)}return e.prototype.init=function(e,t){void 0===t&&(t={}),this.services=e,this.options=s(s(s({},a),this.options),t)},e.prototype.getLoadPath=function(e,t){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"function"==typeof e?e.apply(void 0,t):e}(this.options.loadPath,e,t)},e.prototype.read=function(e,t,n){var r,i=this.getLoadPath(e,t);if(null!==(r=this.options.locales)&&void 0!==r&&r[e])n(null,this.options.locales[e][t]||{});else{var s=this.services.interpolator.interpolate(i,{lng:e,ns:t});this.loadUrl(s,n,t)}},e.prototype.readMulti=function(e,t,n){var r=this.getLoadPath(e,t),i=this.options.multiSeparator,s=this.services.interpolator.interpolate(r,{lng:e.join(i),ns:t.join(i)});this.loadUrl(s,n,t[0])},e.prototype.loadUrl=function(e,t,n){var r=this,i=this.options,s=i.fetch,o=i.requestOptions,a=i.parse;this.loadedUrl[e]||(this.loadedUrl[e]=s(e,o).catch((function(){throw r.loadedUrl[e]=null,new u("failed loading "+e)}))),this.loadedUrl[e].then((function(r){try{t(null,"string"==typeof r?a(r,e)[n]:r[n])}catch(t){throw new u("failed loading "+e)}}))},e.prototype.create=function(e,t,n,r){var i,o,a=this,u=((i={})[n]=r||"",i);(o=e,Array.isArray(o)?o:[o]).forEach((function(e){var n=a.options,r=n.addPath,i=n.requestOptions,o=n.fetch,c=n.stringify,l=a.services.interpolator.interpolate(r,{lng:e,ns:t});try{o(l,s({method:"POST",body:c(u)},i))}catch(e){console.error(e)}}))},e.type="backend",e}();t.BackendI18Next=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),u=n(12),c=n(10),l=n(16),f=n(7),h=n(8),d=n(4),p=n(15),g=n(40),y=function(e,t){return function(n){return!(n.recipient===t||e.includes(n.recipient))}},v=function(){function e(e){this.nodesList=[],this.activeLeasingList=[],this.canceledLeasingList=[],this.wavesApp=window.WavesApp,this.address=e,this.configService=h.ConfigService.getInstance(),this.apiUrl=this.configService.getConfig("NETWORK.api"),this.apiVersion=this.configService.getConfig("NETWORK.apiVersion")}return e.getTxFee=function(e,t,n){return f.api.fee.getFeeByTx({tx:e,userPublicKey:t,hasScript:n})},e.getCancelTxId=function(t,n,r){return e.createCancelTx({leaseTx:t,fee:n,userAddress:r}).getId()},e.confirmCancelTx=function(t,n,r){return e.createCancelTx({leaseTx:t,fee:n,userAddress:r})},e.getSignableLeaseTx=function(t){var n=t.fee,r=t.amount,i=t.recipient,s=t.userAddress;return e.createLeaseTx({fee:n,userAddress:s,recipient:i,amount:r})},e.confirmLeaseTx=function(t){var n=t.fee,r=t.amount,i=t.recipient,s=t.userAddress,o=e.createLeaseTx({fee:n,userAddress:s,recipient:i,amount:r});return this.sendTx(o)},e.sendTx=function(e){return e.getDataForApi().then(f.broadcast).then((function(e){return e}),(function(e){return Promise.reject(e)}))},e.createCancelTx=function(e){var t=e.leaseTx,n=e.fee,r=e.userAddress,i=d.normalizeTxTimestamp({fee:new a.Money(n,p.wavesAsset),leaseId:t.id,sender:r,timestamp:Date.now()});return f.signature.getSignatureApi().makeSignable({type:u.SIGN_TYPE.CANCEL_LEASING,data:i})},e.createLeaseTx=function(e){var t=e.fee,n=e.amount,r=e.recipient,i=e.userAddress,s=d.normalizeTxTimestamp({fee:t instanceof a.Money?t:new a.Money(t,p.wavesAsset),amount:n,recipient:r,sender:i,timestamp:Date.now()});return f.signature.getSignatureApi().makeSignable({type:u.SIGN_TYPE.LEASE,data:s})},e.prototype.getLeaseTransactions=function(){var e=this;return this.getUserAliases(this.address).then((function(t){return Promise.all([e.getActiveLeasing(e.address,t),e.getAllLeasing(e.address,t)]).then((function(t){var n=t[0],r=t[1];return e.activeLeasingList=n,e.canceledLeasingList=e.getCanceledLeasing(r,n),{activeLeasingList:n,canceledLeasingList:e.canceledLeasingList}}))}))},e.prototype.getNodes=function(){var e=this,t=this.getNodesList();return this.getNodesAliases(t).then((function(n){return e.nodesList=e.remapNodesWithAliases(t,n),e.nodesList})).then((function(t){return e.getPoolsStakingBalance(t)})).then((function(e){return e.sort((function(e,t){var n,r,i=e.balance,s=t.balance,o=new c.BigNumber((null===(n=i)||void 0===n?void 0:n.generating)||0),a=new c.BigNumber((null===(r=s)||void 0===r?void 0:r.generating)||0);switch(!0){case o.lt(a):return-1;case o.gt(a):return 1;default:return 0}})),e}))},e.prototype.getPayouts=function(e,t){var n=e.map((function(e){return e.address}));return this.getMassTransfers(n,t,"WAVES",0).then((function(e){return e.reduce((function(e,n){return g.getPayment(n,t,e)}),[])}))},e.prototype.fetchData=function(e){var t=this;return this.getUserAliases(e).then((function(n){return Promise.all([t.getActiveLeasing(e,n),t.getNodesList(),t.getAllLeasing(e,n)]).then((function(e){var n=e[0],r=e[1],i=e[2];return t.activeLeasingList=n,t.canceledLeasingList=t.getCanceledLeasing(i,n),t.getNodesAliases(r).then((function(e){t.nodesList=t.remapNodesWithAliases(r,e)}))}))}))},e.prototype.fetchReferencePayouts=function(){return this.getMassTransfers(["3P9DEDP5VbyXQyKtXDUt2crRPn5B7gs6ujc"],"3PMh6JN7UfAHQEHfKk9tYb54PZoUCM4Dqmw","WAVES",0).then((function(e){return e.reduce((function(e,t){return g.getPayment(t,"3PMh6JN7UfAHQEHfKk9tYb54PZoUCM4Dqmw",e)}),[])}))},e.prototype.getActiveLeasing=function(e,t){var n=this.configService.getConfig("NETWORK.node");return f.fetch(n+"/leasing/active/"+e).then(l.uniqBy(l.prop("id"))).then(l.map((function(e){return r(r({},e),{status:"active"})}))).then((function(e){return f.api.transactions.parseTx(e,!1)})).then((function(n){return n.filter(y(t,e))}))},e.prototype.getAllLeasing=function(e,t){return f.fetch(this.apiUrl+"/"+this.apiVersion+"/transactions/lease?sender="+e+"&sort=desc&limit=100").then((function(e){return e.data.map((function(e){return e.data}))})).then((function(e){return f.api.transactions.parseTx(e,!1,!0)})).then((function(n){return n.filter(y(t,e))}))},e.prototype.getCanceledLeasing=function(e,t){var n=d.toHash(t,"id");return e.filter((function(e){return!n[e.id]}))},e.prototype.getNodesList=function(){return this.configService.getLeasingConfig()},e.prototype.getUserAliases=function(e){return f.fetch(this.apiUrl+"/"+this.apiVersion+"/transactions/alias?sender="+e+"&sort=desc&limit=100").then((function(e){return e.data.map((function(e){return e.data.alias}))}))},e.prototype.getNodesAliases=function(e){void 0===e&&(e=[]);var t=e.map((function(e){return"senders="+e.address+"&"}));return f.fetch(this.apiUrl+"/"+this.apiVersion+"/transactions/alias?"+t.join("")+"&sort=desc&limit=100").then((function(e){return e.data.map((function(e){return{address:e.data.sender,alias:e.data.alias}}))}))},e.prototype.getPoolsStakingBalance=function(e){void 0===e&&(e=[]);var t=this.configService.getConfig("NETWORK.node");return Promise.all(e.map((function(e){var n=e.address;return f.fetch(t+"/addresses/balance/details/"+n).then((function(t){var n=new c.BigNumber(t.generating),i=new c.BigNumber(t.available),s=new c.BigNumber(t.effective),o=new c.BigNumber(t.regular);return r(r({},e),{balance:{generating:n,available:i,effective:s,regular:o},isWhales:n.div(Math.pow(10,8)).gte(4e6)})}))})))},e.prototype.remapNodesWithAliases=function(e,t){return e.map((function(e){return r(r({},e),{aliasList:t.filter((function(t){return t.address===e.address})).map((function(e){return e.alias}))})}))},e.prototype.getTransactions=function(e){return i(this,void 0,Promise,(function(){var t,n,r,i,a,u,c,l,h;return s(this,(function(d){switch(d.label){case 0:t=e.count||0,n=e.limit||100,r=t&&t<n?t:n,i=e.path,a=[],c=function(){var n,c,h,d,p,g;return s(this,(function(s){switch(s.label){case 0:return(n=new URL(l.apiUrl)).pathname=l.apiVersion+"/"+i,n.searchParams.append("limit",r.toString()),Object.entries(e.params||{}).forEach((function(e){var t=e[0],r=e[1];Array.isArray(r)?r.forEach((function(e){n.searchParams.append(t,e)})):n.searchParams.append(t,r)})),u&&n.searchParams.append("after",u),[4,f.fetch(n.toString())];case 1:return c=s.sent(),h=c.data,d=c.lastCursor,p=c.isLastPage,u=d,g=h.map((function(e){return e.data})),a=o(a,g),p||null==p||t>0&&a.length>=t||a.length||g.length<r?[2,{value:a}]:[2]}}))},l=this,d.label=1;case 1:return[5,c()];case 2:return"object"==typeof(h=d.sent())?[2,h.value]:[3,1];case 3:return[2]}}))}))},e.prototype.getMassTransfers=function(e,t,n,r){return void 0===e&&(e=[]),void 0===r&&(r=0),i(this,void 0,Promise,(function(){var i,o;return s(this,(function(s){switch(s.label){case 0:return i=[],[4,this.getTransactions({params:{recipient:t,assetId:n,senders:e},count:r,path:"transactions/mass-transfer"})];case 1:return o=s.sent(),[2,i=i.concat(o)]}}))}))},e}();t.LeasingService=v},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),c=n(7),l=n(20),f=n(26),h=n(61),d=n(15),p=n(8),g=n(40),y=n(72),v=function(){function e(e){this.wavesAsset=d.wavesAsset,this.asset=e.asset,this.config=e.config,this.publicKey=e.publicKey,this.signProviders=e.signProviders}return Object.defineProperty(e.prototype,"isDefo",{get:function(){return"defo"===this.config.type},enumerable:!0,configurable:!0}),e.prototype.getData=function(){return this.fetchData()},e.prototype.getDepositTxData=function(e,t){var n=this.config.depositInvoke;return this.stakingLockAsset(e,t,n)},e.prototype.deposit=function(e){var t=this.config.broadcastUrl;return this.signProviders.invokeScript(this.asset,this.wavesAsset)(e,t)},e.prototype.getWithdrawTxData=function(e,t){var n=this.config.withdrawInvoke;return this.stakingUnlockAsset(e,t,n)},e.prototype.withdraw=function(e){var t=this.config.broadcastUrl;return this.signProviders.invokeScript(this.asset,this.wavesAsset)(e,t)},e.prototype.fetchData=function(){var t=this;return this.publicKey?Promise.all([this.fetchMassPayments(),this.fetchReferencePayments(),this.fetchReferralStats(),this.fetchReferralPayments(this.config.buyReferralPaymentsSender),this.fetchReferralPayments(this.config.cashBackPaymentsSender),e.getAnnualRates()]).then((function(e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],c=a(n,s,o).sort((function(e,t){return+new Date(t.tx.timestamp)-+new Date(e.tx.timestamp)}));return{payments:c,totalPayments:t.getTotal(c),annualRate:u[t.asset.id],referencePayments:r,referralStats:i,totalFromBuyReferral:t.getTotal(s),totalCashBack:t.getTotal(o)}})):e.getAnnualRates().then((function(e){return{payments:[],totalPayments:new u.BigNumber(0),annualRate:e[t.asset.id],referencePayments:[],referralStats:{},totalFromBuyReferral:new u.BigNumber(0),totalCashBack:new u.BigNumber(0)}}))},e.prototype.fetchMassPayments=function(){var t=e.getAccountAddress(this.publicKey);return y.InvestmentsService.getPayments({senders:this.config.massPaymentSenders||[this.config.massPaymentSender],recipient:t,type:"staking",assetId:this.asset.id})},e.prototype.getTotal=function(e){return e.reduce((function(e,t){var n=t.amount;return e.add(n)}),new u.BigNumber(0))},e.prototype.fetchReferencePayments=function(){return y.InvestmentsService.getPayments({senders:this.config.massPaymentSenders||[this.config.massPaymentSender],recipient:this.config.referenceUser,assetId:this.asset.id,type:"staking"})},e.prototype.fetchReferralPayments=function(t,n){return void 0===n&&(n=0),s(this,void 0,Promise,(function(){var r,i;return o(this,(function(s){switch(s.label){case 0:return t?(r=e.getAccountAddress(this.publicKey),i=this.asset.id,[4,e.getTransfers(t,r,i,n)]):[2,Promise.resolve([])];case 1:return[2,s.sent().reduce((function(e,t){return g.getPayment(t,r,e)}),[])]}}))}))},e.prototype.getAnnualRate=function(){return e.getAnnualRate(this.config.massPaymentSenders,this.config.referenceUser,this.asset.id,this.config.referencePayoutsForAnnualRate)},e.prototype.fetchReferralStats=function(){var t=e.getAccountAddress(this.publicKey);return(new f.ApiTokenService).getTokenById(t).then((function(e){var t=e.accessToken;return h.stats(t)})).then((function(e){return{referralsCount:e.referrals_count||0,stakersCount:e.stakers_count||0,totalStakersBalances:e.total_stakers_balances||{},buyersCount:e.buyers_count||0,rewardAmount:e.reward_amount||0}}))},e.prototype.stakingLockAsset=function(e,t,n,r){return this.signProviders.txInvokeData(this.asset,this.wavesAsset)(this.getIncreaseInvokeData(e,t,n,r))},e.prototype.getIncreaseInvokeData=function(t,n,r,i){var s=e.getAccountAddress(this.publicKey);return{senderPublicKey:this.publicKey,fee:n,type:16,version:1,call:{function:r,args:[]},dApp:this.config.stackingContract,sender:s,feeAssetId:n.asset.id,payment:[{amount:t.getCoins(),assetId:this.asset.id}],chainId:c.config.get("code").charCodeAt(0)}},e.prototype.stakingUnlockAsset=function(e,t,n){return this.signProviders.txInvokeData(this.asset,this.wavesAsset)(this.getCancelInvokeData(e,t,n))},e.prototype.getCancelInvokeData=function(t,n,r){var i=e.getAccountAddress(this.publicKey);return{senderPublicKey:this.publicKey,fee:n,feeAssetId:null,type:16,version:1,call:{function:r,args:[{type:"integer",value:t.getCoins()},{type:"string",value:this.asset.id}]},dApp:this.config.stackingContract,sender:i,payment:[],chainId:c.config.get("code").charCodeAt(0)}},e.getAccountAddress=function(e){var t=c.config.get("code").charCodeAt(0);return l.libs.crypto.address({publicKey:e},t)},e.getMassTransfers=function(e,t,n,r){return void 0===e&&(e=[]),void 0===r&&(r=0),y.InvestmentsService.getMassTransfers(e,t,n,r)},e.getTransfers=function(t,n,r,i){return void 0===i&&(i=0),s(this,void 0,Promise,(function(){var s,a;return o(this,(function(o){switch(o.label){case 0:s=[],o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.getFromServices({params:{sender:t,recipient:n,assetId:r},count:i,path:"transactions/transfer"})];case 2:return a=o.sent(),s=s.concat(a),[3,4];case 3:return o.sent(),[2,[]];case 4:return[2,s]}}))}))},e.getAnnualRate=function(t,n,r,i){return s(this,void 0,Promise,(function(){var s,a;return o(this,(function(o){switch(o.label){case 0:return[4,y.InvestmentsService.getPayments({senders:t,recipient:n,assetId:r,type:"staking"})];case 1:return s=o.sent(),a=s.slice(0,i),[2,e.calcAnnualRate(a)]}}))}))},e.getDefoAssetsAnnualRates=function(t){return s(this,void 0,Promise,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return t.length?(n=t.reduce((function(e,t){return e[t.neutrinoId||t.id]=t,e}),{}),r=t.reduce((function(e,t){var n=t.id,r=t.neutrinoId;return e.initialTxHash[n||r]=[],e}),{initialTxHash:{}}).initialTxHash,[4,Promise.all(a(t.map((function(e){var t=e.massPaymentSender,n=e.massPaymentSenders,r=e.referenceUser,i=e.id;return y.InvestmentsService.getPayments({senders:n||[t],recipient:r,assetId:i}).catch((function(){return[]}))})))).then((function(e){return e.reduce((function(e,t){if(!t.length)return e;var n=t[0].tx.assetId;return e[n]&&(e[n]=t),e}),r)})).then((function(t){return Object.entries(t).reduce((function(t,r){var i=r[0],s=r[1],o=n[i],a=s.filter(g.stakingDefoPaymentsFilter),c=s.filter(g.poolDefoIncomePaymentsFilter),l=s.filter(g.poolDefoFeePaymentsFilter);return o&&(a=a.slice(0,o.referencePayoutsForAnnualRate),c=c.slice(0,o.referencePayoutsForAnnualRate),l=l.slice(0,o.referencePayoutsForAnnualRate)),t[i]=u.BigNumber.max(e.calcAnnualRate(a),o?o.stakingAnnual:0),o&&o.maxStakingAnnual&&(t[i]=u.BigNumber.min(o.maxStakingAnnual,t[i])),t[i+"_pool_income"]=e.calcAnnualRate(c,!0),t[i+"_pool_fee"]=e.calcAnnualRate(l,!0),t[i+"_pool"]=t[i+"_pool_income"].add(t[i+"_pool_fee"]),t}),{})})).catch((function(){return Object.keys(r).reduce((function(e,t){var r,i=n[t],s=Number(null===(r=i)||void 0===r?void 0:r.stakingAnnual);return e[t]=new u.BigNumber(isNaN(s)?0:s),e[t+"_pool"]=new u.BigNumber(0),e[t+"_pool_income"]=new u.BigNumber(0),e[t+"_pool_fee"]=new u.BigNumber(0),e}),{})}))]):[2,Promise.resolve({})];case 1:return[2,i.sent()]}}))}))},e.getAnnualRates=function(t){var n=p.ConfigService.getInstance().getConfig("staking")||[];if(!(t=t||n).length)return Promise.resolve({});var i=t.reduce((function(e,t){var n=t.type,i=t.id,s=t.neutrinoId;"neutrino"===n&&(e.neutrinoConfig=r({},t)),"defo"===n&&e.defoConfig.push(t);var o=i||s;return e.zeroRates[o]=new u.BigNumber(0),e.zeroRates[o+"_pool"]=new u.BigNumber(0),e}),{neutrinoConfig:{},defoConfig:[],zeroRates:{}}),s=i.neutrinoConfig,o=i.defoConfig,a=i.zeroRates;return Promise.all([e.getDefoAssetsAnnualRates(o).catch((function(){return a})),e.getAnnualRate(s.massPaymentSenders||[s.massPaymentSender],s.referenceUser,s.neutrinoId,s.referencePayoutsForAnnualRate).catch((function(){return new u.BigNumber(0)}))]).then((function(e){var t=e[0],n=e[1],i=s.id||s.neutrinoId,o=r({},t);return o[i]=n,o[i+"_pool"]=new u.BigNumber(0),o})).then((function(e){var n=s.id||s.neutrinoId;return t.forEach((function(t){var r=t.id;null!=e[r+"_pool_income"]&&(e[r+"_pool_income"]=e[n]||e[r+"_pool_income"],e[r+"_pool"]=e[r+"_pool_income"].add(e[r+"_pool_fee"]))})),e}))},e.calcAnnualRate=function(e,t){var n=t?"amountInUsdn":"amount",r=e.slice().reduce((function(e,t){return e=e.add(t[n]||0)}),new u.BigNumber(0));return e.length?r.div(e.length).mul(365):r},e.getFromServices=function(e){return y.InvestmentsService.getFromServices(e)},e.getStakingReceiver=function(e){return e?h.get():Promise.resolve("")},e.getConfigById=function(e,t){return e.find((function(e){var n=e.id,r=e.neutrinoId;return n===t||r===t}))||null},i([g.timeCache(36e5)],e,"getAnnualRate",null),i([g.timeCache(36e5)],e,"getDefoAssetsAnnualRates",null),e}();t.StakingService=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(20),s=n(6);s.change.on((function(e){"code"===e&&r.Adapter.initOptions({networkCode:s.get("code").charCodeAt(0)})})),t.Seed=i.seedUtils.Seed},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(71),u=n(169),c=function(){function e(e){this.setUser(e)}return e.prototype.setUser=function(e){this.user=e},e.prototype.getTransactions=function(t){return e.getTransactions(t,this.user)},e.getTransactions=function(t,n){var r=t.filter,i=void 0===r?"all":r,s=t.after,o=void 0===s?"":s,a=t.limit,u=void 0===a?100:a,c="all"===i?999:100;return u<=c?e.getTransactionsFromService({filter:i,limit:u,after:o},n):e.getTransactionsLoop({filter:i,limit:c,after:o,totalLimit:u},n)},e.getTransactionsFromService=function(e,t){var n=e.filter,o=void 0===n?"all":n,c=e.after,l=e.limit,f=void 0===l?100:l;return i(this,void 0,Promise,(function(){var e,n;return s(this,(function(i){switch(i.label){case 0:if(e={transactions:[],isLastPage:!1,lastCursor:c},"all"!==o)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,u.getTransactionsFromNode({address:t.address,after:c,limit:f})];case 2:return e=i.sent(),[3,4];case 3:return i.sent(),[3,4];case 4:return[3,8];case 5:return i.trys.push([5,7,,8]),[4,u.getTransactionsFromApi({address:t.address,filter:o,after:c,limit:f})];case 6:return e=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return n=a.remapTransaction(t),[2,r(r({},e),{transactions:e.transactions.map(n)})]}}))}))},e.getTransactionsLoop=function(t,n){var i=t.limit,s=t.after,a=t.totalLimit,u=t.filter,c={transactions:[],isLastPage:!1,lastCursor:""},l=a,f=function(t,i){return e.getTransactionsFromService({limit:t,after:i,filter:u},n).then((function(e){return c=r(r({},e),{transactions:o(c.transactions,e.transactions)}),(l-=t)>0?f(l<t?l:t,c.lastCursor):c}))};return f(i,s)},e}();t.TransactionsService=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(54),s=n(6),o=n(3),a=n(37);n(31),n(20);t.getTransactionsFromNode=function(e){var t=e.address,n=e.after,r=e.limit;return i.list(t,r+1,n).then((function(e){var t,n=e[r],i=n?e.slice(0,r):e;return{transactions:i,lastCursor:null===(t=i[i.length-1])||void 0===t?void 0:t.id,isLastPage:!n}}))};t.getTransactionsFromApi=function(e){var t=e.address,n=e.filter,i=e.limit,u=function(e){var t=e.address,n=e.filter,r=e.limit,i=e.after,s=function(e){return e?"&limit="+e:""}(r),o=function(e){return e?"&after="+e:""}(i);switch(n){case"exchange":return"exchange?sender="+t+s+o;case"send":return"transfer?sender="+t+s+o;case"receive":return"transfer?recipient="+t+s+o;case"mass-send":return"mass-transfer?sender="+t+s+o;case"mass-receive":return"mass-transfer?recipient="+t+s+o;case"issue":return"issue?sender="+t+s+o;case"reissue":return"reissue?sender="+t+s+o;case"burn":return"burn?sender="+t+s+o;case"sponsorship":return"sponsorship?sender="+t+s+o;case"script-invocation":return"invoke-script?sender="+t+s+o;default:return"all?sender="+t+s+o}}({address:t,filter:n,after:e.after,limit:i}),c=s.get("api")+"/"+s.get("apiVersion")+"/transactions";return o.request({url:c+"/"+u}).then((function(e){var t=e.data.reduce((function(e,t){var n=r(r({},t.data),{timestamp:+new Date(t.data.timestamp)});return e.push(n),e}),[]);return Promise.all([a.parseTx(t,!1,!0),Promise.resolve(e)])})).then((function(e){var t=e[0],n=e[1];return{transactions:t,lastCursor:n.lastCursor,isLastPage:n.isLastPage}}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(171),a=(n(7),function(){function e(){if(this.events=[],this.amplitudeEvents=[],this.apiList=[],this.defaultParams=Object.create(null),this.isActive=!1,this.isActivated=!1,this.apiReadyList=[],e.instance)return e.instance;e.instance=this}return e.prototype.init=function(e){this.defaultParams=e||this.defaultParams},e.prototype.addApi=function(e){this.apiList.push(e)},e.prototype.addDefaultParams=function(e){this.defaultParams=r(r({},this.defaultParams),e)},e.prototype.deactivate=function(){this.isActive=!1},e.prototype.activate=function(){var e=this;if(!this.isActivated){var t=this.apiList.map((function(t){return o.loadScript(t.libraryUrl).then((function(){o.runByPath(t.initializeMethod,[t.apiToken,t.initializeOptions])})).then((function(){return e.apiReadyList.push({type:t.type,send:function(e,n){o.runByPath(t.sendMethod,[e,n])}}),!0})).catch((function(){return console.error("Invalid analytics config",t),!1}))}));this.loaded=Promise.all(t)}this.loaded.then((function(){var t=s(e.events),n=s(e.amplitudeEvents);e.events=[],e.amplitudeEvents=[],t.forEach((function(t){return e._sendEvent(t)})),n.forEach((function(t){return e._sendAmplitude(t)})),e.isActive=!0})),this.isActivated=!0},e.prototype.send=function(e){var t=r(r({},e),{params:r(r({},e.params),this.defaultParams)});this.isActive&&this.isActivated?this._sendEvent(t):this.events.push(t)},e.prototype.sendV2=function(e,t){var n=location.href,i={name:e,params:r(r({},r(r({},this.defaultParams),{page:n})),t)};this.isActive&&this.isActivated?this._sendEvent(i):this.events.push(i)},e.prototype.addGtmEvent=function(e,t){var n=location.pathname,i=window.dataLayer||[];Array.isArray(i)&&i.push(r(r({event:e},r(r({},this.defaultParams),{page:n})),t))},e.prototype.getDefaultParams=function(){return r({},this.defaultParams)},e.prototype.sendV3=function(e,t){this.addGtmEvent(e,t);var n=t.action,r={name:e+(n?"_"+n:""),params:i(t,["action"])};this.isActive&&this.isActivated?this._sendAmplitude(r):this.amplitudeEvents.push(r)},e.prototype.sendToRest=function(e,t){},e.prototype._sendEvent=function(e){if(!e.name)throw new Error("Wrong format, has no event name!");this.apiReadyList.forEach((function(t){return t.send(e.name,e.params)}))},e.prototype._sendAmplitude=function(e){if(!e.name)throw new Error("Wrong format, has no event name!");var t=this.apiReadyList.find((function(e){return"logic"===e.type}));if(t){var n=this.getDefaultParams(),i=r(r({},n),e.params);t.send(e.name,i)}},e}());t.Analytics=a,t.analytics=new a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onContentLoad=new Promise((function(e){document.addEventListener("DOMContentLoaded",e)})),t.loadScript=function(e){return t.onContentLoad.then((function(){return new Promise((function(t,n){var r=document.createElement("script");r.addEventListener("load",t),r.addEventListener("error",n),r.src=e,document.head.appendChild(r)}))}))},t.hasScript=function(e){return!!document.querySelector('script[src="'+e+'"]')},t.runByPath=function(e,t){var n=window,r=e.split("."),i=n[e]&&"function"==typeof n[e];if(1===r.length&&i)return n[e].apply(n,t);r.slice(-1).forEach((function(e){n=n[e]})),n[r[r.length-1]]&&"function"==typeof n[r[r.length-1]]&&n[r[r.length-1]].apply(n,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.siteOpen=function(e,t){r.analytics.sendV3("User",{action:"Site_Open",label:e,value:t.toString()})},t.siteWidth=function(e){r.analytics.sendV3("User",{action:"Site_Width",value:e.toString()})},t.siteHeight=function(e){r.analytics.sendV3("User",{action:"Site_Height",value:e.toString()})},t.changeLanguage=function(e){r.analytics.sendV3("User",{action:"Change_Language",label:e})},t.logout=function(){r.analytics.sendV3("User",{action:"Log_Out"})},t.login=function(){r.analytics.sendV3("User",{action:"Login"})},t.signUpPageShow=function(e){r.analytics.sendV3("User",{action:"Sign_Up_Page_Show",label:e?"Terms Accepted":"Need Accept Terms"})},t.forgotPasswordClick=function(){r.analytics.sendV3("User",{action:"Forgot_Password_Click"})},t.forgotPasswordCancel=function(){r.analytics.sendV3("User",{action:"Forgot_Password_Cancel"})},t.forgotPasswordReset=function(){r.analytics.sendV3("User",{action:"Forgot_Password_Reset"})},t.settingsChangeSessionTime=function(e){r.analytics.sendV3("User",{action:"Settings_Change_Session_Time",value:e.toString()})},t.settingsShowSeed=function(){r.analytics.sendV3("User",{action:"Settings_Show_Seed"})},t.settingsShowSeedConfirm=function(){r.analytics.sendV3("User",{action:"Settings_Show_Seed_Confirm"})},t.settingsCopySeed=function(){r.analytics.sendV3("User",{action:"Settings_Copy_Seed"})},t.settingsCopySeedSuccess=function(){r.analytics.sendV3("User",{action:"Settings_Copy_Seed_Success"})},t.settingsShowPrivate=function(){r.analytics.sendV3("User",{action:"Settings_Show_Private"})},t.settingsShowPrivateSuccess=function(){r.analytics.sendV3("User",{action:"Settings_Show_Private_Success"})},t.settingsCopyPrivate=function(){r.analytics.sendV3("User",{action:"Settings_Private_Copy"})},t.settingsCopyPrivateSuccess=function(){r.analytics.sendV3("User",{action:"Settings_Private_Copy_Success"})},t.settingsShowToken=function(e){r.analytics.sendV3("User",{action:"Settings_Token_Show",label:e})},t.settingsCopyToken=function(e){r.analytics.sendV3("User",{action:"Settings_Token_Copy",label:e})},t.createAccountClick=function(){r.analytics.sendV3("User",{action:"Create_Account_Click"})},t.createAccountSuccess=function(){r.analytics.sendV3("User",{action:"Create_Account_Success"})},t.importAccountClick=function(){r.analytics.sendV3("User",{action:"Import_Account_Click"})},t.chooseAccountClick=function(){r.analytics.sendV3("User",{action:"Choose_Account_Click"})},t.switchAddressSuccess=function(){r.analytics.sendV3("User",{action:"Switch_Address_Success"})},t.createAddressSuccess=function(e){r.analytics.sendV3("User",{action:"Create_Address_Success",label:e})},t.importAddressSuccess=function(e){r.analytics.sendV3("User",{action:"Import_Address_Success",label:e})},t.chooseAvatarContinueClick=function(){r.analytics.sendV3("User",{action:"Choose_Avatar_Continue_Click"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i="Staking";t.depositClick=function(){r.analytics.sendV3(i,{action:"Deposit_Click"})},t.withdrawClick=function(){r.analytics.sendV3(i,{action:"Withdraw_Click"})},t.depositConfirmClick=function(e){r.analytics.sendV3(i,{action:"Deposit_Confirm_Click",value:e.toString()})},t.withdrawConfirmClick=function(e){r.analytics.sendV3(i,{action:"Withdraw_Confirm_Click",value:e.toString()})},t.depositPresetClick=function(e){r.analytics.sendV3(i,{action:"Deposit_Preset_Click",label:e})},t.withdrawPresetClick=function(e){r.analytics.sendV3(i,{action:"Withdraw_Preset_Click",label:e})},t.depositModalCancel=function(){r.analytics.sendV3(i,{action:"Deposit_Modal_Cancel"})},t.withdrawModalCancel=function(){r.analytics.sendV3(i,{action:"Withdraw_Modal_Cancel"})},t.beginStakeClick=function(e){r.analytics.sendV3(i,{action:"Landing_Begin_Stake_Click"+(e?"_B":"")})},t.beginStakeCalculatorClick=function(e){r.analytics.sendV3(i,{action:"Landing_Begin_Stake_Сalculator_Click"+(e?"_B":"")})},t.changeSlider=function(e){r.analytics.sendV3(i,{action:"Landing_Change_Slider",value:e})},t.beginStakingClick=function(e){r.analytics.sendV3(i,{action:"Landing_Begin_Staking_Click"+(e?"_B":"")})},t.changeStakingTab=function(e){r.analytics.sendV3(i,{action:"Landing_Change_Staking_Tab",label:e})},t.bigFishGetServiceClick=function(){r.analytics.sendV3(i,{action:"Landing_Big_Fish_Get_Service_Click"})},t.transferNowClick=function(){r.analytics.sendV3(i,{action:"Landing_Transfer_Now_Click"})},t.sendFeedback=function(){r.analytics.sendV3(i,{action:"Landing_Send_Feedback"})},t.openCreateWavesStake=function(){r.analytics.sendV3(i,{action:"Open_Create_Waves_Stake"})},t.exportPayoutsWavesStakingCSV=function(){r.analytics.sendV3(i,{action:"Export_Payout_CSV"})},t.chooseWavesStakePool=function(e){r.analytics.sendV3(i,{action:"Choose_Node",label:e})},t.cancelWavesStake=function(e,t){r.analytics.sendV3(i,{action:"Cancel_Waves_Stake",value:t,label:e})},t.cancelWavesStakeConfirm=function(e,t){r.analytics.sendV3(i,{action:"Cancel_Waves_Stake_Confirm",value:t,label:e})},t.stakeWavesClick=function(e,t){r.analytics.sendV3(i,{action:"Stake_Waves_Click",value:t,label:e})},t.stakeWavesConfirm=function(e,t){r.analytics.sendV3(i,{action:"Stake_Waves_Confirm",value:t,label:e})},t.stakePageShow=function(e){r.analytics.sendV3(i,{action:"Staking_Page_Show"+(e?"_B":"")})},t.onDeFoStakingClick=function(){r.analytics.sendV3(i,{action:"Defo_Staking_Click"})},t.depositStableConfirmClick=function(e,t){r.analytics.sendV3(i,{action:"Deposit_Stable_Confirm_Click",value:e.toString(),label:t})},t.withdrawStableConfirmClick=function(e,t){r.analytics.sendV3(i,{action:"Withdraw_Stable_Confirm_Click",value:e.toString(),label:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.stakingGetMyLink=function(){r.analytics.sendV3("Referral",{action:"Landing_Staking_Get_My_Link_Click"})},t.openByReferralLink=function(e){r.analytics.sendV3("Referral",{action:"Open_by_Referal_Link",label:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.share=function(e){r.analytics.sendV3("Footer",{action:"Share",label:e})},t.subscribe=function(){r.analytics.sendV3("Footer",{action:"Subscribe"})},t.externalLinkClick=function(e){r.analytics.sendV3("Footer",{action:"External_Link_Click",label:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.continueClick=function(e,t){r.analytics.sendV3("Send",{action:"Continue_Click",label:e,value:t})},t.sendSuccess=function(e,t){r.analytics.sendV3("Send",{action:"Send_Success",label:e,value:t})},t.gatewayContinueClick=function(e,t){r.analytics.sendV3("Send",{action:"Gateway_Continue_Click",label:e,value:t})},t.withdrawSuccess=function(e,t){r.analytics.sendV3("Send",{action:"Withdraw_Success",label:e,value:t})},t.amountMaxClick=function(){r.analytics.sendV3("Send",{action:"Amount_Max_Click"})},t.toggleShowDescription=function(e){r.analytics.sendV3("Send",{action:"Toggle_Show_Description",label:e})},t.toggleShowFeeSelector=function(e){r.analytics.sendV3("Send",{action:"Toggle_Show_Fee_Selector",label:e})},t.changeFeeAsset=function(e){r.analytics.sendV3("Send",{action:"Change_Fee_Asset",label:e})},t.readQrClick=function(){r.analytics.sendV3("Send",{action:"Read_Qr_Click"})},t.readQrSuccess=function(){r.analytics.sendV3("Send",{action:"Read_Qr_Success"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.startStakingClick=function(){r.analytics.sendV3("Investments",{action:"Start_Staking_Click"})},t.investDeFoClick=function(){r.analytics.sendV3("Investments",{action:"Start_DeFo_Click"})},t.startLeasingClick=function(){r.analytics.sendV3("Investments",{action:"Start_Leasing_Click"})},t.investWavesClick=function(){r.analytics.sendV3("Investments",{action:"Invest_Waves_Click"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.changeFormTab=function(e){r.analytics.sendV3("NSBT",{action:"Change_Form_Tab",label:e})},t.presetBuyClick=function(e){r.analytics.sendV3("NSBT",{action:"Preset_Buy_Click",label:e})},t.investClick=function(e){r.analytics.sendV3("NSBT",{action:"Invest_Click",value:e})},t.nsbtToUsdnHistoryMore=function(){r.analytics.sendV3("NSBT",{action:"NSBT_to_USDN_History_More"})},t.wavesToNsbtHistoryMore=function(){r.analytics.sendV3("NSBT",{action:"Waves_to_NSBT_History_More"})},t.changeHistoryTab=function(e){r.analytics.sendV3("NSBT",{action:"Change_History_Tab",label:e})},t.presetSellClick=function(e){r.analytics.sendV3("NSBT",{action:"Preset_Sell_Click",label:e})},t.getUsnd=function(e){r.analytics.sendV3("NSBT",{action:"Get_USDN",value:e})},t.swapWavesToNsbt=function(e){r.analytics.sendV3("NSBT",{action:"Swap_WAVES_NSBT_SurPlus",value:e})},t.swapNsbtToUsdn=function(e){r.analytics.sendV3("NSBT",{action:"Swap_NSBT_USDN_SurPlus",value:e})},t.goToVote=function(){r.analytics.sendV3("NSBT",{action:"Go_To_Vote"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i="Buy_Crypto";t.openBuyDialog=function(e){r.analytics.sendV3(i,{action:"Open_Buy_Dialog",label:e})},t.buyUSDNClick=function(){r.analytics.sendV3(i,{action:"Buy_USDN_Click"})},t.autoShowBuyModal=function(e){r.analytics.sendV3(i,{action:"Auto_Show_Buy_Modal",label:e})},t.open100Monet=function(e){r.analytics.sendV3(i,{action:"Open_100_Monet",label:e})},t.changeBuyCurrency=function(e){r.analytics.sendV3(i,{action:"Change_Buy_Currency",label:e})},t.buyWavesClick=function(){r.analytics.sendV3(i,{action:"Buy_Waves_Click"})},t.supportClick=function(){r.analytics.sendV3(i,{action:"Support_Click"})},t.buyConfirmClick=function(e,t,n){r.analytics.sendV3(i,{action:"Buy_Confirm_Click",label:e,value:t,params:n})},t.providerDialogCancel=function(){r.analytics.sendV3(i,{action:"Provider_Dialog_Cancel"})},t.buyCryptoSuccess=function(e,t,n){r.analytics.sendV3(i,{action:"Buy_Crypto_Success",label:e,value:t,params:n})},t.buyCryptoError=function(e,t,n){r.analytics.sendV3(i,{action:"Buy_Crypto_Error",label:e,value:t,params:n})},t.cancelBuyModal=function(e,t,n){r.analytics.sendV3(i,{action:"Close_Buy_Modal",label:e,value:t,params:n})},t.landingStakingBuyUSDNClick=function(e,t){r.analytics.sendV3(i,{action:"Landing_Staking_Buy_USDN_Click",label:e,value:t})},t.landingBTCBuy=function(e,t,n){r.analytics.sendV3(i,{action:"Landing_BTC_Buy"+(n?"_B":""),label:e,value:t})},t.landingBTCGoFaq=function(){r.analytics.sendV3(i,{action:"Landing_BTC_Go_FAQ"})},t.landingBTCWhatIsBitcoinClick=function(){r.analytics.sendV3(i,{action:"Landing_BTC_What_is_Bitcoin_Click"})},t.landingBTCAboutBuyClick=function(e){r.analytics.sendV3(i,{action:"Landing_BTC_About_Buy_Click"+(e?"_B":"")})},t.landingBTCAboutClick=function(){r.analytics.sendV3(i,{action:"Landing_BTC_About_Click"})},t.landingMainChangeCryptoCurrency=function(e){r.analytics.sendV3(i,{action:"Landing_Main_Change_Crypto_Currency",label:e})},t.landingMainChangeFiatCurrency=function(e){r.analytics.sendV3(i,{action:"Landing_Main_Change_Fiat_Currency",label:e})},t.landingMainBuyClick=function(e,t,n){r.analytics.sendV3(i,{action:"Landing_Main_Buy_Click",label:e,value:t,params:n})},t.landingBuyCrypto=function(e,t,n){r.analytics.sendV3(i,{action:"Landing_Buy_Crypto_Click"+(n?"_B":""),label:e,value:t})},t.landingBuyBtcShow=function(e){r.analytics.sendV3(i,{action:"Landing_BTC_Show_Page"+(e?"_B":"")})},t.landingBuyUsdnShow=function(){r.analytics.sendV3(i,{action:"Landing_USDN_Show_Page"})},t.landingUSDNAboutBuyClick=function(){r.analytics.sendV3(i,{action:"Landing_USDN_About_Buy_Click"})},t.onBuyUsdnDeFoClick=function(){r.analytics.sendV3(i,{action:"Buy_USDN_Defo_Click"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.stakeNowClick=function(){r.analytics.sendV3("Welcome",{action:"Stake_Now_Click"})},t.tradeNowClick=function(){r.analytics.sendV3("Welcome",{action:"Trade_Now_Click"})},t.tradingLinkClick=function(){r.analytics.sendV3("Welcome",{action:"Trading_Link_Click"})},t.loginClick=function(){r.analytics.sendV3("Welcome",{action:"Login_Click"})},t.toggleVisiblePasswordClick=function(e){r.analytics.sendV3("Welcome",{action:"Toggle_Visible_Password_Click",label:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.downloadClick=function(e){r.analytics.sendV3("Mobile_App",{action:"Download_Click",label:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.wavesExchangeClick=function(){r.analytics.sendV3("Header",{action:"Waves_Exchange_Click"})},t.investmentsClick=function(){r.analytics.sendV3("Header",{action:"Investments_Click"})},t.tradingClick=function(){r.analytics.sendV3("Header",{action:"Trading_Click"})},t.loginClick=function(){r.analytics.sendV3("Header",{action:"Login_Click"})},t.signUpClick=function(){r.analytics.sendV3("Header",{action:"Sign_Up_Click"})},t.downloadDesktopClick=function(e){r.analytics.sendV3("Header",{action:"Download_Desktop_Click",label:e})},t.goToNews=function(e){r.analytics.sendV3("Header",{action:"Go_To_News",label:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.changePairFromWatchList=function(e){r.analytics.sendV3("DEX",{action:"Change_Pair_From_Watch_List",label:e})},t.changePairFromBalances=function(e){r.analytics.sendV3("DEX",{action:"Change_Pair_From_Balances",label:e})},t.changePairFromOrderHistory=function(e){r.analytics.sendV3("DEX",{action:"Change_Pair_From_Order_History",label:e})},t.changePairFromMyTradeHistory=function(e){r.analytics.sendV3("DEX",{action:"Change_Pair_From_My_Trade_History",label:e})},t.changePairFromOpenOrders=function(e){r.analytics.sendV3("DEX",{action:"Change_Pair_From_Open_Orders",label:e})},t.changeOrderExpiration=function(e){r.analytics.sendV3("DEX",{action:"Change_Order_Expiration",label:e})},t.changeActiveTab=function(e){r.analytics.sendV3("DEX",{action:"Change_Active_Tab",label:e})},t.openConfirmOrderModal=function(e,t){r.analytics.sendV3("DEX",{action:"Open_Confirm_Order_Modal",label:e,value:t})},t.confirmOrderModalOkClick=function(e,t){r.analytics.sendV3("DEX",{action:"Confirm_Order_Modal_Ok_Click",label:e,value:t})},t.confirmOrderModalCancelClick=function(e,t){r.analytics.sendV3("DEX",{action:"Confirm_Order_Modal_Cancel_Click",label:e,value:t})},t.createSellOrderClick=function(e,t){r.analytics.sendV3("DEX",{action:"Create_Sell_Order_Click",label:e,value:t})},t.createSellMarketOrderClick=function(e,t){r.analytics.sendV3("DEX",{action:"Create_Sell_Market_Order_Click",label:e,value:t})},t.createBuyOrderClick=function(e,t){r.analytics.sendV3("DEX",{action:"Create_Buy_Order_Click",label:e,value:t})},t.createBuyMarketOrderClick=function(e,t){r.analytics.sendV3("DEX",{action:"Create_Buy_Market_Order_Click",label:e,value:t})},t.cancelOrderClick=function(){r.analytics.sendV3("DEX",{action:"Cancel_Order_Click"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);function i(e){return r.utils.ConfigService.getInstance().userIdHash.reduce((function(e,t){return t+e}),0)%e}t.getUserFrom=i,t.runActionTo=function(e,t,n){var r=i(100);r>=e&&r<=t&&"function"==typeof n&&n()},t.divideABTraffic=function(e){return 100-Math.max(Math.min(e,100),0)<i(100)?"B":"A"},t.isBVariant=function(e){var n=r.utils.ConfigService.getInstance().getConfig(e)||0;return"B"===t.divideABTraffic(Number(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.faqRedeemClick=function(){r.analytics.sendV3("Leverage",{action:"Faq_Redeem_Click"})},t.redeemUsdnClick=function(e,t){r.analytics.sendV3("Leverage",{action:"Redeem_Usdn_Click",label:e,value:t})},t.redeemUsdnSuccess=function(e,t){r.analytics.sendV3("Leverage",{action:"Redeem_Usdn_Success",label:e,value:t})},t.exchangeClick=function(e){r.analytics.sendV3("Leverage",{action:"Exchange_Click",label:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.exchangeToUSDNClick=function(e){r.analytics.sendV3("OTC",{action:"Exchange_To_USDN_Click",value:e})},t.exchangeToUSDNConfirm=function(e){r.analytics.sendV3("OTC",{action:"Exchange_To_USDN_Confirm",value:e})},t.exchangeToUSDTClick=function(e){r.analytics.sendV3("OTC",{action:"Exchange_To_USDT_Click",value:e})},t.exchangeToUSDTConfirm=function(e){r.analytics.sendV3("OTC",{action:"Exchange_To_USDT_Confirm",value:e})},t.getUSDTClick=function(e){r.analytics.sendV3("OTC",{action:"Get_USDT_Click",value:e})},t.getUSDTConfirm=function(e){r.analytics.sendV3("OTC",{action:"Get_USDT_Confirm",value:e})},t.pageShow=function(){r.analytics.sendV3("OTC",{action:"Page_Show"})},t.showLandingPage=function(){r.analytics.sendV3("OTC",{action:"Show_Landing_Page"})},t.useOtcClick=function(e){r.analytics.sendV3("OTC",{action:"Use_Otc_Click",label:e})},t.stakeNowClick=function(){r.analytics.sendV3("OTC",{action:"Stake_Now_Click"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.pageShow=function(e){r.analytics.sendV3("deFo",{action:e?"Show_Page":"Show_Landing_Page"})},t.onSwapLandingClick=function(e,t,n){r.analytics.sendV3("deFo",{action:"Swap_Landing_Click",value:e,label:t,params:n})},t.onSwapSuccess=function(e,t,n){r.analytics.sendV3("deFo",{action:"Swap_Success",value:e,label:t,params:n})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.pageShow=function(){r.analytics.sendV3("MM",{action:"Page_Show"})},t.participateClick=function(){r.analytics.sendV3("MM",{action:"Form_Open"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.swapPageShow=function(){r.analytics.sendV3("Swap",{action:"Page_Show"})},t.swapWavesToUsdnClick=function(e){r.analytics.sendV3("Swap",{action:"Waves_Usdn_Click",value:e})},t.swapUsdnToWavesClick=function(e){r.analytics.sendV3("Swap",{action:"Usdn_Waves_Click",value:e})},t.stakeUsdnClick=function(){r.analytics.sendV3("Swap",{action:"Stake_Usdn_Click"})},t.buyWithCardClick=function(e){r.analytics.sendV3("Swap",{action:"Buy_With_Card_Click",label:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(73),i=n(191);t.gateway={Acash:r.Acash,getAssets:r.getAssets,findAssetBinding:r.findAssetBinding,getAcashFiatAssets:r.getAcashFiatAssets,getAcashAssetBindings:r.getAcashAssetBindings,getAllDepositAssetsBindings:r.getAllDepositAssetsBindings,getAcashCryptoAssets:r.getAcashCryptoAssets},t.transfers={fetchTransfers:i.fetchTransfers}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(15),u=n(8),c=n(3),l=n(73),f=n(26);function h(e,t,n){return{id:e.id,amount:o.Money.fromCoins(e.amount,t.get(e.metadata.asset)),provider:e.provider,outputProvider:e.metadata.recipient_provider,linkProvider:n?n.provider:e.provider,recipient:e.recipient,createdAt:e.created_at,updatedAt:e.updated_at,status:n?n.status:e.status,transaction:e.transaction?{hash:e.transaction.hash,createdAt:e.transaction.created_at}:null,recipientAddress:e.metadata.recipient_address,senderAddresses:e.metadata.sender_addresses,type:n?n.metadata.process_type:e.metadata.process_type}}t.fetchTransfers=function(e){return i(this,void 0,Promise,(function(){var t,n,i,o,d,p,g,y,v,m,_,b,w,A,S,O,T,P,E,C,k,j,N,B,R;return s(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,4,,5]),t=new URLSearchParams,Array.isArray(e.assets))for(n=0,i=e.assets;n<i.length;n++)o=i[n],t.append("assets[]",o);if(Array.isArray(e.processTypes))for(d=0,p=e.processTypes;d<p.length;d++)""!==(g=p[d])&&t.append("process_types[]",g);if(Array.isArray(e.statuses))for(y=0,v=e.statuses;y<v.length;y++)""!==(m=v[y])&&t.append("statuses[]",m);return e.limit&&t.append("limit",String(e.limit)),e.after&&t.append("after",e.after),_="",t.forEach((function(e,t){_+=t+"="+e+"&"})),_&&(_="?"+_.slice(0,-1)),b=u.ConfigService.getInstance().getConfig("NETWORK.waves_exchange_api_internal"),[4,f.ApiTokenService.getInstance().getTokenById()];case 1:return w=s.sent().accessToken,[4,c.request({url:b+"/api/v1/gateways/transfers"+_,fetchOptions:{method:"GET",headers:{accept:"application/json",authorization:"Bearer "+w}}})];case 2:return A=s.sent(),S=u.ConfigService.getInstance().getConfig("defaultAssets"),O=l.getRemapAssets(),T=u.ConfigService.getInstance().getConfig("gateways.wavesExchangeGateway.cryptoNames"),P=r(r({},O),T),E=Object.keys(P).reduce((function(e,t){return e[P[t]]=t,e}),Object.create(null)),C=S.reduce((function(e,t){return e[t.label]=t,e}),Object.create(null)),k=new Set,A.data.forEach((function(e){e.data.processes.forEach((function(e){var t=E[e.metadata.asset];t&&C[t]&&(e.metadata.asset=C[t].assetId),k.add(e.metadata.asset)}))})),[4,a.get(Array.from(k))];case 3:return j=s.sent(),N=new Map,j.forEach((function(e){N.set(e.id,e)})),B=[],A.data.forEach((function(e){var t=e.data;try{var n=function(e,t){var n=e.links.reduce((function(t,n){var i,s;return n.output!==e.output_process_id&&(t.input=r(r({},t.input),((i={})[n.input]=n.output,i)),t.output=r(r({},t.output),((s={})[n.output]=n.input,s))),t}),Object.create(null)),i=e.processes.reduce((function(e,t){return e[t.id]=t,e}),Object.create(null)),s=i[e.output_process_id],o=e.processes.filter((function(t){var r=n.output&&n.output[t.id];return t.id!==e.output_process_id&&!r})).map((function(e){var r;return h(e,t,i[null===(r=n.input)||void 0===r?void 0:r[e.id]])}));if(0===o.length)throw new Error("Transfer has no input processes (transfer id: "+e.id+")");var a=s?h(s,t,null):void 0,u=a?a.amount:o.reduce((function(e,t){return e.add(t.amount)}),o[0].amount.cloneWithTokens(0)),c=o.filter((function(e){return"provider-adcash"!==e.provider}));return{id:e.id,createdAt:e.created_at,updatedAt:e.updated_at,status:e.status,txsLength:c.length,hasLinks:!!Object.keys(n).length,amount:u,processType:o[0].type,outputProcess:a,inputProcesses:o}}(t,N);B.push(n)}catch(e){console.error(e)}})),[2,{cursor:A.cursor,transfers:B,hasNextPage:A.has_next_page,error:null}];case 4:return R=s.sent(),console.error(R),[2,{cursor:"",transfers:[],hasNextPage:!1,error:R}];case 5:return[2]}}))}))}},function(e,t,n){"use strict";n.r(t);var r=n(52),i=n(0);function s(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function o(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}var a=n(13);var u="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},c=n(17),l=n(33);function f(e,t,n,r){var i=s(e);function a(e,t){return h(e,t,n.slice(),r.slice())}return!o((function(e,t){return!o(a,t,e)}),s(t),i)}function h(e,t,n,r){if(u(e,t))return!0;var i,s,o=Object(l.a)(e);if(o!==Object(l.a)(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(s=String(i).match(/^function (\w*)/))?"":s[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!u(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!u(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var d=n.length-1;d>=0;){if(n[d]===e)return r[d]===t;d-=1}switch(o){case"Map":return e.size===t.size&&f(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&f(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=Object(c.a)(e);if(p.length!==Object(c.a)(t).length)return!1;var g=n.concat([e]),y=r.concat([t]);for(d=p.length-1;d>=0;){var v=p[d];if(!Object(a.a)(v,t)||!h(t[v],e[v],g,y))return!1;d-=1}return!0}var d=Object(i.a)((function(e,t){return h(e,t,[],[])}));function p(e,t){return function(e,t,n){var r,i;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(i=e[n])&&1/i===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(i=e[n])&&i!=i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(d(e[n],t))return n;n+=1}return-1}(t,e,0)>=0}function g(e,t,n){var r,i=typeof e;switch(i){case"string":case"number":return 0===e&&1/e==-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?e in n._items[i]||(t&&(n._items[i][e]=!0),!1):(t&&(n._items[i]={},n._items[i][e]=!0),!1);case"boolean":if(i in n._items){var s=e?1:0;return!!n._items[i][s]||(t&&(n._items[i][s]=!0),!1)}return t&&(n._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?!!p(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1);case"undefined":return!!n._items[i]||(t&&(n._items[i]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in n._items?!!p(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1)}}var y=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!g(e,!0,this)},e.prototype.has=function(e){return g(e,!1,this)},e}(),v=Object(i.a)((function(e,t){for(var n,r,i=new y,s=[],o=0;o<t.length;)n=e(r=t[o]),i.add(n)&&s.push(r),o+=1;return s}))(r.default);t.default=v},function(e,t,n){"use strict";n.r(t);var r=n(33);function i(e,t,n,s){var o,a=function(r){for(var o=t.length,a=0;a<o;){if(e===t[a])return n[a];a+=1}for(var u in t[a+1]=e,n[a+1]=r,e)r[u]=s?i(e[u],t,n,!0):e[u];return r};switch(Object(r.a)(e)){case"Object":return a({});case"Array":return a([]);case"Date":return new Date(e.valueOf());case"RegExp":return o=e,new RegExp(o.source,(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":""));default:return e}}var s=n(29),o=n(45),a=n(13),u=n(30),c=n(35),l=function(){function e(e,t,n,r){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=r,this.inputs={}}return e.prototype["@@transducer/init"]=c.a.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(Object(a.a)(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e},e}(),f=Object(s.a)(4,[],(function(e,t,n,r){return new l(e,t,n,r)})),h=Object(s.a)(4,[],Object(o.a)([],f,(function(e,t,n,r){return Object(u.a)((function(r,s){var o=n(s);return r[o]=e(Object(a.a)(o,r)?r[o]:i(t,[],[],!1),s),r}),{},r)})))((function(e,t){return t}),null);t.default=h},function(e,t,n){"use strict";n.r(t);var r=n(21),i=n(13),s=n(22),o=n(34),a=Object(r.a)((function(e,t,n){var r={};for(var i in n)r[i]=n[i];return r[e]=t,r})),u=n(2),c=Object(u.a)((function(e){return null==e})),l=Object(r.a)((function e(t,n,r){if(0===t.length)return n;var u=t[0];if(t.length>1){var l=!c(r)&&Object(i.a)(u,r)?r[u]:Object(o.a)(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,l)}if(Object(o.a)(u)&&Object(s.a)(r)){var f=[].concat(r);return f[u]=n,f}return a(u,n,r)}));t.default=l}])}));